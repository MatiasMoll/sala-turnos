(self.webpackChunksala_de_turnos=self.webpackChunksala_de_turnos||[]).push([[179],{8255:Mn=>{function Dt(ie){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+ie+"'");throw E.code="MODULE_NOT_FOUND",E})}Dt.keys=()=>[],Dt.resolve=Dt,Dt.id=8255,Mn.exports=Dt},8583:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{mr:()=>Ve,Ov:()=>Mr,ez:()=>pn,K0:()=>fe,Do:()=>At,V_:()=>k,Ye:()=>It,S$:()=>nt,sg:()=>pr,O5:()=>cr,b0:()=>at,lw:()=>Je,rS:()=>Yn,EM:()=>rn,NF:()=>ne,PM:()=>ye,w_:()=>le,bD:()=>Z,q:()=>j,Mx:()=>Yi,HT:()=>Pe});var E=ie(3018);let b=null;function j(){return b}function Pe(K){b||(b=K)}class le{}const fe=new E.OlP("DocumentToken");let Je=(()=>{class K{}return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275prov=(0,E.Yz7)({factory:Fe,token:K,providedIn:"platform"}),K})();function Fe(){return(0,E.LFG)(Re)}const k=new E.OlP("Location Initialized");let Re=(()=>{class K extends Je{constructor(Y){super(),this._doc=Y,this._init()}_init(){this.location=j().getLocation(),this._history=j().getHistory()}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(Y){j().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",Y,!1)}onHashChange(Y){j().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",Y,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Y){this.location.pathname=Y}pushState(Y,pe,ot){Ye()?this._history.pushState(Y,pe,ot):this.location.hash=ot}replaceState(Y,pe,ot){Ye()?this._history.replaceState(Y,pe,ot):this.location.hash=ot}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return K.\u0275fac=function(Y){return new(Y||K)(E.LFG(fe))},K.\u0275prov=(0,E.Yz7)({factory:xe,token:K,providedIn:"platform"}),K})();function Ye(){return!!window.history.pushState}function xe(){return new Re((0,E.LFG)(fe))}function De(K,de){if(0==K.length)return de;if(0==de.length)return K;let Y=0;return K.endsWith("/")&&Y++,de.startsWith("/")&&Y++,2==Y?K+de.substring(1):1==Y?K+de:K+"/"+de}function st(K){const de=K.match(/#|\?|$/),Y=de&&de.index||K.length;return K.slice(0,Y-("/"===K[Y-1]?1:0))+K.slice(Y)}function je(K){return K&&"?"!==K[0]?"?"+K:K}let nt=(()=>{class K{}return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275prov=(0,E.Yz7)({factory:Me,token:K,providedIn:"root"}),K})();function Me(K){const de=(0,E.LFG)(fe).location;return new at((0,E.LFG)(Je),de&&de.origin||"")}const Ve=new E.OlP("appBaseHref");let at=(()=>{class K extends nt{constructor(Y,pe){if(super(),this._platformLocation=Y,null==pe&&(pe=this._platformLocation.getBaseHrefFromDOM()),null==pe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=pe}onPopState(Y){this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y)}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return De(this._baseHref,Y)}path(Y=!1){const pe=this._platformLocation.pathname+je(this._platformLocation.search),ot=this._platformLocation.hash;return ot&&Y?`${pe}${ot}`:pe}pushState(Y,pe,ot,Ft){const gn=this.prepareExternalUrl(ot+je(Ft));this._platformLocation.pushState(Y,pe,gn)}replaceState(Y,pe,ot,Ft){const gn=this.prepareExternalUrl(ot+je(Ft));this._platformLocation.replaceState(Y,pe,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return K.\u0275fac=function(Y){return new(Y||K)(E.LFG(Je),E.LFG(Ve,8))},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac}),K})(),At=(()=>{class K extends nt{constructor(Y,pe){super(),this._platformLocation=Y,this._baseHref="",null!=pe&&(this._baseHref=pe)}onPopState(Y){this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y)}getBaseHref(){return this._baseHref}path(Y=!1){let pe=this._platformLocation.hash;return null==pe&&(pe="#"),pe.length>0?pe.substring(1):pe}prepareExternalUrl(Y){const pe=De(this._baseHref,Y);return pe.length>0?"#"+pe:pe}pushState(Y,pe,ot,Ft){let gn=this.prepareExternalUrl(ot+je(Ft));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.pushState(Y,pe,gn)}replaceState(Y,pe,ot,Ft){let gn=this.prepareExternalUrl(ot+je(Ft));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.replaceState(Y,pe,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return K.\u0275fac=function(Y){return new(Y||K)(E.LFG(Je),E.LFG(Ve,8))},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac}),K})(),It=(()=>{class K{constructor(Y,pe){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=Y;const ot=this._platformStrategy.getBaseHref();this._platformLocation=pe,this._baseHref=st(xn(ot)),this._platformStrategy.onPopState(Ft=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ft.state,type:Ft.type})})}path(Y=!1){return this.normalize(this._platformStrategy.path(Y))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Y,pe=""){return this.path()==this.normalize(Y+je(pe))}normalize(Y){return K.stripTrailingSlash(function(K,de){return K&&de.startsWith(K)?de.substring(K.length):de}(this._baseHref,xn(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._platformStrategy.prepareExternalUrl(Y)}go(Y,pe="",ot=null){this._platformStrategy.pushState(ot,"",Y,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+je(pe)),ot)}replaceState(Y,pe="",ot=null){this._platformStrategy.replaceState(ot,"",Y,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+je(pe)),ot)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(Y){this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)}))}_notifyUrlChangeListeners(Y="",pe){this._urlChangeListeners.forEach(ot=>ot(Y,pe))}subscribe(Y,pe,ot){return this._subject.subscribe({next:Y,error:pe,complete:ot})}}return K.\u0275fac=function(Y){return new(Y||K)(E.LFG(nt),E.LFG(Je))},K.normalizeQueryParams=je,K.joinWithSlash=De,K.stripTrailingSlash=st,K.\u0275prov=(0,E.Yz7)({factory:bt,token:K,providedIn:"root"}),K})();function bt(){return new It((0,E.LFG)(nt),(0,E.LFG)(Je))}function xn(K){return K.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Zero=0]="Zero",$e[$e.One=1]="One",$e[$e.Two=2]="Two",$e[$e.Few=3]="Few",$e[$e.Many=4]="Many",$e[$e.Other=5]="Other",$e))();const bn=E.kL8;class Xr{}let Br=(()=>{class K extends Xr{constructor(Y){super(),this.locale=Y}getPluralCategory(Y,pe){switch(bn(pe||this.locale)(Y)){case $e.Zero:return"zero";case $e.One:return"one";case $e.Two:return"two";case $e.Few:return"few";case $e.Many:return"many";default:return"other"}}}return K.\u0275fac=function(Y){return new(Y||K)(E.LFG(E.soG))},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac}),K})();function Yi(K,de){de=encodeURIComponent(de);for(const Y of K.split(";")){const pe=Y.indexOf("="),[ot,Ft]=-1==pe?[Y,""]:[Y.slice(0,pe),Y.slice(pe+1)];if(ot.trim()===de)return decodeURIComponent(Ft)}return null}class Kn{constructor(de,Y,pe,ot){this.$implicit=de,this.ngForOf=Y,this.index=pe,this.count=ot}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pr=(()=>{class K{constructor(Y,pe,ot){this._viewContainer=Y,this._template=pe,this._differs=ot,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;if(!this._differ&&Y)try{this._differ=this._differs.find(Y).create(this.ngForTrackBy)}catch(pe){throw new Error(`Cannot find a differ supporting object '${Y}' of type '${function(K){return K.name||typeof K}(Y)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const pe=[];Y.forEachOperation((ot,Ft,gn)=>{if(null==ot.previousIndex){const Dn=this._viewContainer.createEmbeddedView(this._template,new Kn(null,this._ngForOf,-1,-1),null===gn?void 0:gn),Jn=new Qn(ot,Dn);pe.push(Jn)}else if(null==gn)this._viewContainer.remove(null===Ft?void 0:Ft);else if(null!==Ft){const Dn=this._viewContainer.get(Ft);this._viewContainer.move(Dn,gn);const Jn=new Qn(ot,Dn);pe.push(Jn)}});for(let ot=0;ot<pe.length;ot++)this._perViewChange(pe[ot].view,pe[ot].record);for(let ot=0,Ft=this._viewContainer.length;ot<Ft;ot++){const gn=this._viewContainer.get(ot);gn.context.index=ot,gn.context.count=Ft,gn.context.ngForOf=this._ngForOf}Y.forEachIdentityChange(ot=>{this._viewContainer.get(ot.currentIndex).context.$implicit=ot.item})}_perViewChange(Y,pe){Y.context.$implicit=pe.item}static ngTemplateContextGuard(Y,pe){return!0}}return K.\u0275fac=function(Y){return new(Y||K)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},K.\u0275dir=E.lG2({type:K,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),K})();class Qn{constructor(de,Y){this.record=de,this.view=Y}}let cr=(()=>{class K{constructor(Y,pe){this._viewContainer=Y,this._context=new Wi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){ei("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){ei("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,pe){return!0}}return K.\u0275fac=function(Y){return new(Y||K)(E.Y36(E.s_b),E.Y36(E.Rgc))},K.\u0275dir=E.lG2({type:K,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),K})();class Wi{constructor(){this.$implicit=null,this.ngIf=null}}function ei(K,de){if(de&&!de.createEmbeddedView)throw new Error(`${K} must be a TemplateRef, but received '${(0,E.AaK)(de)}'.`)}function Kr(K,de){return Error(`InvalidPipeArgument: '${de}' for pipe '${(0,E.AaK)(K)}'`)}class Zi{createSubscription(de,Y){return de.subscribe({next:Y,error:pe=>{throw pe}})}dispose(de){de.unsubscribe()}onDestroy(de){de.unsubscribe()}}class kr{createSubscription(de,Y){return de.then(Y,pe=>{throw pe})}dispose(de){}onDestroy(de){}}const wo=new kr,vi=new Zi;let Mr=(()=>{class K{constructor(Y){this._ref=Y,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Y){return this._obj?Y!==this._obj?(this._dispose(),this.transform(Y)):this._latestValue:(Y&&this._subscribe(Y),this._latestValue)}_subscribe(Y){this._obj=Y,this._strategy=this._selectStrategy(Y),this._subscription=this._strategy.createSubscription(Y,pe=>this._updateLatestValue(Y,pe))}_selectStrategy(Y){if((0,E.QGY)(Y))return wo;if((0,E.F4k)(Y))return vi;throw Kr(K,Y)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Y,pe){Y===this._obj&&(this._latestValue=pe,this._ref.markForCheck())}}return K.\u0275fac=function(Y){return new(Y||K)(E.FaB())},K.\u0275pipe=E.Yjl({name:"async",type:K,pure:!1}),K})();const qo=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Yn=(()=>{class K{transform(Y){if(null==Y)return null;if("string"!=typeof Y)throw Kr(K,Y);return Y.replace(qo,pe=>pe[0].toUpperCase()+pe.substr(1).toLowerCase())}}return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275pipe=E.Yjl({name:"titlecase",type:K,pure:!0}),K})(),pn=(()=>{class K{}return K.\u0275fac=function(Y){return new(Y||K)},K.\u0275mod=E.oAB({type:K}),K.\u0275inj=E.cJS({providers:[{provide:Xr,useClass:Br}]}),K})();const Z="browser";function ne(K){return K===Z}function ye(K){return"server"===K}let rn=(()=>{class K{}return K.\u0275prov=(0,E.Yz7)({token:K,providedIn:"root",factory:()=>new On((0,E.LFG)(fe),window)}),K})();class On{constructor(de,Y){this.document=de,this.window=Y,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(de){this.supportsScrolling()&&this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){if(!this.supportsScrolling())return;const Y=function(K,de){const Y=K.getElementById(de)||K.getElementsByName(de)[0];if(Y)return Y;if("function"==typeof K.createTreeWalker&&K.body&&(K.body.createShadowRoot||K.body.attachShadow)){const pe=K.createTreeWalker(K.body,NodeFilter.SHOW_ELEMENT);let ot=pe.currentNode;for(;ot;){const Ft=ot.shadowRoot;if(Ft){const gn=Ft.getElementById(de)||Ft.querySelector(`[name="${de}"]`);if(gn)return gn}ot=pe.nextNode()}}return null}(this.document,de);Y&&(this.scrollToElement(Y),this.attemptFocus(Y))}setHistoryScrollRestoration(de){if(this.supportScrollRestoration()){const Y=this.window.history;Y&&Y.scrollRestoration&&(Y.scrollRestoration=de)}}scrollToElement(de){const Y=de.getBoundingClientRect(),pe=Y.left+this.window.pageXOffset,ot=Y.top+this.window.pageYOffset,Ft=this.offset();this.window.scrollTo(pe-Ft[0],ot-Ft[1])}attemptFocus(de){return de.focus(),this.document.activeElement===de}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const de=br(this.window.history)||br(Object.getPrototypeOf(this.window.history));return!(!de||!de.writable&&!de.set)}catch(de){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(de){return!1}}}function br(K){return Object.getOwnPropertyDescriptor(K,"scrollRestoration")}},1841:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{eN:()=>Wn,JF:()=>kn});var E=ie(3018),b=ie(5917),j=ie(7574),L=ie(4612),Pe=ie(5435),le=ie(8002),fe=ie(8583);class Je{}class Fe{}class k{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?this.lazyInit="string"==typeof He?()=>{this.headers=new Map,He.split("\n").forEach(qe=>{const Nt=qe.indexOf(":");if(Nt>0){const Tt=qe.slice(0,Nt),Tn=Tt.toLowerCase(),nn=qe.slice(Nt+1).trim();this.maybeSetNormalizedName(Tt,Tn),this.headers.has(Tn)?this.headers.get(Tn).push(nn):this.headers.set(Tn,[nn])}})}:()=>{this.headers=new Map,Object.keys(He).forEach(qe=>{let Nt=He[qe];const Tt=qe.toLowerCase();"string"==typeof Nt&&(Nt=[Nt]),Nt.length>0&&(this.headers.set(Tt,Nt),this.maybeSetNormalizedName(qe,Tt))})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const qe=this.headers.get(He.toLowerCase());return qe&&qe.length>0?qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,qe){return this.clone({name:He,value:qe,op:"a"})}set(He,qe){return this.clone({name:He,value:qe,op:"s"})}delete(He,qe){return this.clone({name:He,value:qe,op:"d"})}maybeSetNormalizedName(He,qe){this.normalizedNames.has(qe)||this.normalizedNames.set(qe,He)}init(){this.lazyInit&&(this.lazyInit instanceof k?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(qe=>{this.headers.set(qe,He.headers.get(qe)),this.normalizedNames.set(qe,He.normalizedNames.get(qe))})}clone(He){const qe=new k;return qe.lazyInit=this.lazyInit&&this.lazyInit instanceof k?this.lazyInit:this,qe.lazyUpdate=(this.lazyUpdate||[]).concat([He]),qe}applyUpdate(He){const qe=He.name.toLowerCase();switch(He.op){case"a":case"s":let Nt=He.value;if("string"==typeof Nt&&(Nt=[Nt]),0===Nt.length)return;this.maybeSetNormalizedName(He.name,qe);const Tt=("a"===He.op?this.headers.get(qe):void 0)||[];Tt.push(...Nt),this.headers.set(qe,Tt);break;case"d":const Tn=He.value;if(Tn){let nn=this.headers.get(qe);if(!nn)return;nn=nn.filter(Bn=>-1===Tn.indexOf(Bn)),0===nn.length?(this.headers.delete(qe),this.normalizedNames.delete(qe)):this.headers.set(qe,nn)}else this.headers.delete(qe),this.normalizedNames.delete(qe)}}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(qe=>He(this.normalizedNames.get(qe),this.headers.get(qe)))}}class Re{encodeKey(He){return xe(He)}encodeValue(He){return xe(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}function xe(Ct){return encodeURIComponent(Ct).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class De{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new Re,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Ct,He){const qe=new Map;return Ct.length>0&&Ct.replace(/^\?/,"").split("&").forEach(Tt=>{const Tn=Tt.indexOf("="),[nn,Bn]=-1==Tn?[He.decodeKey(Tt),""]:[He.decodeKey(Tt.slice(0,Tn)),He.decodeValue(Tt.slice(Tn+1))],pt=qe.get(nn)||[];pt.push(Bn),qe.set(nn,pt)}),qe}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(qe=>{const Nt=He.fromObject[qe];this.map.set(qe,Array.isArray(Nt)?Nt:[Nt])})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const qe=this.map.get(He);return qe?qe[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,qe){return this.clone({param:He,value:qe,op:"a"})}appendAll(He){const qe=[];return Object.keys(He).forEach(Nt=>{const Tt=He[Nt];Array.isArray(Tt)?Tt.forEach(Tn=>{qe.push({param:Nt,value:Tn,op:"a"})}):qe.push({param:Nt,value:Tt,op:"a"})}),this.clone(qe)}set(He,qe){return this.clone({param:He,value:qe,op:"s"})}delete(He,qe){return this.clone({param:He,value:qe,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const qe=this.encoder.encodeKey(He);return this.map.get(He).map(Nt=>qe+"="+this.encoder.encodeValue(Nt)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const qe=new De({encoder:this.encoder});return qe.cloneFrom=this.cloneFrom||this,qe.updates=(this.updates||[]).concat(He),qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const qe=("a"===He.op?this.map.get(He.param):void 0)||[];qe.push(He.value),this.map.set(He.param,qe);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let Nt=this.map.get(He.param)||[];const Tt=Nt.indexOf(He.value);-1!==Tt&&Nt.splice(Tt,1),Nt.length>0?this.map.set(He.param,Nt):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}function je(Ct){return"undefined"!=typeof ArrayBuffer&&Ct instanceof ArrayBuffer}function nt(Ct){return"undefined"!=typeof Blob&&Ct instanceof Blob}function Me(Ct){return"undefined"!=typeof FormData&&Ct instanceof FormData}class Ve{constructor(He,qe,Nt,Tt){let Tn;if(this.url=qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function(Ct){switch(Ct){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Tt?(this.body=void 0!==Nt?Nt:null,Tn=Tt):Tn=Nt,Tn&&(this.reportProgress=!!Tn.reportProgress,this.withCredentials=!!Tn.withCredentials,Tn.responseType&&(this.responseType=Tn.responseType),Tn.headers&&(this.headers=Tn.headers),Tn.params&&(this.params=Tn.params)),this.headers||(this.headers=new k),this.params){const nn=this.params.toString();if(0===nn.length)this.urlWithParams=qe;else{const Bn=qe.indexOf("?");this.urlWithParams=qe+(-1===Bn?"?":Bn<qe.length-1?"&":"")+nn}}else this.params=new De,this.urlWithParams=qe}serializeBody(){return null===this.body?null:je(this.body)||nt(this.body)||Me(this.body)||"string"==typeof this.body?this.body:this.body instanceof De?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Me(this.body)?null:nt(this.body)?this.body.type||null:je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof De?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){const qe=He.method||this.method,Nt=He.url||this.url,Tt=He.responseType||this.responseType,Tn=void 0!==He.body?He.body:this.body,nn=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,Bn=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let pt=He.headers||this.headers,ln=He.params||this.params;return void 0!==He.setHeaders&&(pt=Object.keys(He.setHeaders).reduce((wt,ht)=>wt.set(ht,He.setHeaders[ht]),pt)),He.setParams&&(ln=Object.keys(He.setParams).reduce((wt,ht)=>wt.set(ht,He.setParams[ht]),ln)),new Ve(qe,Nt,Tn,{params:ln,headers:pt,reportProgress:Bn,responseType:Tt,withCredentials:nn})}}var at=(()=>((at=at||{})[at.Sent=0]="Sent",at[at.UploadProgress=1]="UploadProgress",at[at.ResponseHeader=2]="ResponseHeader",at[at.DownloadProgress=3]="DownloadProgress",at[at.Response=4]="Response",at[at.User=5]="User",at))();class At{constructor(He,qe=200,Nt="OK"){this.headers=He.headers||new k,this.status=void 0!==He.status?He.status:qe,this.statusText=He.statusText||Nt,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class It extends At{constructor(He={}){super(He),this.type=at.ResponseHeader}clone(He={}){return new It({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class bt extends At{constructor(He={}){super(He),this.type=at.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new bt({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class tn extends At{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function xn(Ct,He){return{body:He,headers:Ct.headers,observe:Ct.observe,params:Ct.params,reportProgress:Ct.reportProgress,responseType:Ct.responseType,withCredentials:Ct.withCredentials}}let Wn=(()=>{class Ct{constructor(qe){this.handler=qe}request(qe,Nt,Tt={}){let Tn;if(qe instanceof Ve)Tn=qe;else{let pt,ln;pt=Tt.headers instanceof k?Tt.headers:new k(Tt.headers),Tt.params&&(ln=Tt.params instanceof De?Tt.params:new De({fromObject:Tt.params})),Tn=new Ve(qe,Nt,void 0!==Tt.body?Tt.body:null,{headers:pt,params:ln,reportProgress:Tt.reportProgress,responseType:Tt.responseType||"json",withCredentials:Tt.withCredentials})}const nn=(0,b.of)(Tn).pipe((0,L.b)(pt=>this.handler.handle(pt)));if(qe instanceof Ve||"events"===Tt.observe)return nn;const Bn=nn.pipe((0,Pe.h)(pt=>pt instanceof bt));switch(Tt.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return Bn.pipe((0,le.U)(pt=>{if(null!==pt.body&&!(pt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pt.body}));case"blob":return Bn.pipe((0,le.U)(pt=>{if(null!==pt.body&&!(pt.body instanceof Blob))throw new Error("Response is not a Blob.");return pt.body}));case"text":return Bn.pipe((0,le.U)(pt=>{if(null!==pt.body&&"string"!=typeof pt.body)throw new Error("Response is not a string.");return pt.body}));case"json":default:return Bn.pipe((0,le.U)(pt=>pt.body))}case"response":return Bn;default:throw new Error(`Unreachable: unhandled observe type ${Tt.observe}}`)}}delete(qe,Nt={}){return this.request("DELETE",qe,Nt)}get(qe,Nt={}){return this.request("GET",qe,Nt)}head(qe,Nt={}){return this.request("HEAD",qe,Nt)}jsonp(qe,Nt){return this.request("JSONP",qe,{params:(new De).append(Nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(qe,Nt={}){return this.request("OPTIONS",qe,Nt)}patch(qe,Nt,Tt={}){return this.request("PATCH",qe,xn(Tt,Nt))}post(qe,Nt,Tt={}){return this.request("POST",qe,xn(Tt,Nt))}put(qe,Nt,Tt={}){return this.request("PUT",qe,xn(Tt,Nt))}}return Ct.\u0275fac=function(qe){return new(qe||Ct)(E.LFG(Je))},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class ke{constructor(He,qe){this.next=He,this.interceptor=qe}handle(He){return this.interceptor.intercept(He,this.next)}}const $e=new E.OlP("HTTP_INTERCEPTORS");let ce=(()=>{class Ct{intercept(qe,Nt){return Nt.handle(qe)}}return Ct.\u0275fac=function(qe){return new(qe||Ct)},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();const fn=/^\)\]\}',?\n/;class Zt{}let _n=(()=>{class Ct{constructor(){}build(){return new XMLHttpRequest}}return Ct.\u0275fac=function(qe){return new(qe||Ct)},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),$n=(()=>{class Ct{constructor(qe){this.xhrFactory=qe}handle(qe){if("JSONP"===qe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new j.y(Nt=>{const Tt=this.xhrFactory.build();if(Tt.open(qe.method,qe.urlWithParams),qe.withCredentials&&(Tt.withCredentials=!0),qe.headers.forEach((Bt,or)=>Tt.setRequestHeader(Bt,or.join(","))),qe.headers.has("Accept")||Tt.setRequestHeader("Accept","application/json, text/plain, */*"),!qe.headers.has("Content-Type")){const Bt=qe.detectContentTypeHeader();null!==Bt&&Tt.setRequestHeader("Content-Type",Bt)}if(qe.responseType){const Bt=qe.responseType.toLowerCase();Tt.responseType="json"!==Bt?Bt:"text"}const Tn=qe.serializeBody();let nn=null;const Bn=()=>{if(null!==nn)return nn;const Bt=1223===Tt.status?204:Tt.status,or=Tt.statusText||"OK",Ar=new k(Tt.getAllResponseHeaders()),tr=function(Ct){return"responseURL"in Ct&&Ct.responseURL?Ct.responseURL:/^X-Request-URL:/m.test(Ct.getAllResponseHeaders())?Ct.getResponseHeader("X-Request-URL"):null}(Tt)||qe.url;return nn=new It({headers:Ar,status:Bt,statusText:or,url:tr}),nn},pt=()=>{let{headers:Bt,status:or,statusText:Ar,url:tr}=Bn(),An=null;204!==or&&(An=void 0===Tt.response?Tt.responseText:Tt.response),0===or&&(or=An?200:0);let Fr=or>=200&&or<300;if("json"===qe.responseType&&"string"==typeof An){const wr=An;An=An.replace(fn,"");try{An=""!==An?JSON.parse(An):null}catch(et){An=wr,Fr&&(Fr=!1,An={error:et,text:An})}}Fr?(Nt.next(new bt({body:An,headers:Bt,status:or,statusText:Ar,url:tr||void 0})),Nt.complete()):Nt.error(new tn({error:An,headers:Bt,status:or,statusText:Ar,url:tr||void 0}))},ln=Bt=>{const{url:or}=Bn(),Ar=new tn({error:Bt,status:Tt.status||0,statusText:Tt.statusText||"Unknown Error",url:or||void 0});Nt.error(Ar)};let wt=!1;const ht=Bt=>{wt||(Nt.next(Bn()),wt=!0);let or={type:at.DownloadProgress,loaded:Bt.loaded};Bt.lengthComputable&&(or.total=Bt.total),"text"===qe.responseType&&!!Tt.responseText&&(or.partialText=Tt.responseText),Nt.next(or)},Yt=Bt=>{let or={type:at.UploadProgress,loaded:Bt.loaded};Bt.lengthComputable&&(or.total=Bt.total),Nt.next(or)};return Tt.addEventListener("load",pt),Tt.addEventListener("error",ln),Tt.addEventListener("timeout",ln),Tt.addEventListener("abort",ln),qe.reportProgress&&(Tt.addEventListener("progress",ht),null!==Tn&&Tt.upload&&Tt.upload.addEventListener("progress",Yt)),Tt.send(Tn),Nt.next({type:at.Sent}),()=>{Tt.removeEventListener("error",ln),Tt.removeEventListener("abort",ln),Tt.removeEventListener("load",pt),Tt.removeEventListener("timeout",ln),qe.reportProgress&&(Tt.removeEventListener("progress",ht),null!==Tn&&Tt.upload&&Tt.upload.removeEventListener("progress",Yt)),Tt.readyState!==Tt.DONE&&Tt.abort()}})}}return Ct.\u0275fac=function(qe){return new(qe||Ct)(E.LFG(Zt))},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();const vn=new E.OlP("XSRF_COOKIE_NAME"),vt=new E.OlP("XSRF_HEADER_NAME");class Et{}let Rt=(()=>{class Ct{constructor(qe,Nt,Tt){this.doc=qe,this.platform=Nt,this.cookieName=Tt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const qe=this.doc.cookie||"";return qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,fe.Mx)(qe,this.cookieName),this.lastCookieString=qe),this.lastToken}}return Ct.\u0275fac=function(qe){return new(qe||Ct)(E.LFG(fe.K0),E.LFG(E.Lbi),E.LFG(vn))},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),hn=(()=>{class Ct{constructor(qe,Nt){this.tokenService=qe,this.headerName=Nt}intercept(qe,Nt){const Tt=qe.url.toLowerCase();if("GET"===qe.method||"HEAD"===qe.method||Tt.startsWith("http://")||Tt.startsWith("https://"))return Nt.handle(qe);const Tn=this.tokenService.getToken();return null!==Tn&&!qe.headers.has(this.headerName)&&(qe=qe.clone({headers:qe.headers.set(this.headerName,Tn)})),Nt.handle(qe)}}return Ct.\u0275fac=function(qe){return new(qe||Ct)(E.LFG(Et),E.LFG(vt))},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),jt=(()=>{class Ct{constructor(qe,Nt){this.backend=qe,this.injector=Nt,this.chain=null}handle(qe){if(null===this.chain){const Nt=this.injector.get($e,[]);this.chain=Nt.reduceRight((Tt,Tn)=>new ke(Tt,Tn),this.backend)}return this.chain.handle(qe)}}return Ct.\u0275fac=function(qe){return new(qe||Ct)(E.LFG(Fe),E.LFG(E.zs3))},Ct.\u0275prov=E.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),bn=(()=>{class Ct{static disable(){return{ngModule:Ct,providers:[{provide:hn,useClass:ce}]}}static withOptions(qe={}){return{ngModule:Ct,providers:[qe.cookieName?{provide:vn,useValue:qe.cookieName}:[],qe.headerName?{provide:vt,useValue:qe.headerName}:[]]}}}return Ct.\u0275fac=function(qe){return new(qe||Ct)},Ct.\u0275mod=E.oAB({type:Ct}),Ct.\u0275inj=E.cJS({providers:[hn,{provide:$e,useExisting:hn,multi:!0},{provide:Et,useClass:Rt},{provide:vn,useValue:"XSRF-TOKEN"},{provide:vt,useValue:"X-XSRF-TOKEN"}]}),Ct})(),kn=(()=>{class Ct{}return Ct.\u0275fac=function(qe){return new(qe||Ct)},Ct.\u0275mod=E.oAB({type:Ct}),Ct.\u0275inj=E.cJS({providers:[Wn,{provide:Je,useClass:jt},$n,{provide:Fe,useExisting:$n},_n,{provide:Zt,useExisting:_n}],imports:[[bn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ct})()},3018:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{deG:()=>dc,tb:()=>Q0,AFp:()=>K0,ip1:()=>qv,CZH:()=>Vh,hGG:()=>xS,z2F:()=>Zp,sBO:()=>_T,Sil:()=>Yp,_Vd:()=>Md,EJc:()=>X0,SBq:()=>Jl,qLn:()=>Ba,vpe:()=>Xl,gxx:()=>td,tBr:()=>ks,XFs:()=>nn,OlP:()=>Io,zs3:()=>Lo,ZZ4:()=>Zg,aQg:()=>Qg,soG:()=>um,YKP:()=>jw,v3s:()=>cS,h0i:()=>Od,PXZ:()=>rS,R0b:()=>Sc,FiY:()=>po,Lbi:()=>Z0,g9A:()=>Y0,Qsj:()=>iT,FYo:()=>Yg,JOm:()=>Ga,Tiy:()=>vv,q3G:()=>Ko,tp0:()=>ga,EAV:()=>hS,Rgc:()=>Lp,dDg:()=>rb,DyG:()=>Au,q4F:()=>yv,GfV:()=>Mw,s_b:()=>em,ifc:()=>tr,eFA:()=>ub,G48:()=>ZA,Gpc:()=>je,X6Q:()=>Qv,_c5:()=>CS,VLi:()=>YA,c2e:()=>J0,zSh:()=>nd,wAp:()=>Zr,vHH:()=>at,EiD:()=>Mo,mCW:()=>Ta,qzn:()=>Fs,JVY:()=>Fl,pB0:()=>ec,eBb:()=>Ru,L6k:()=>Xu,LAX:()=>ol,cg1:()=>uv,Tjo:()=>bS,kL8:()=>ew,yhl:()=>Ju,dqk:()=>Ue,sIi:()=>Ze,CqO:()=>u_,QGY:()=>Xm,F4k:()=>a_,RDi:()=>Ft,AaK:()=>xe,z3N:()=>Ca,qOj:()=>Ss,TTD:()=>ye,_Bn:()=>Sw,xp6:()=>rg,uIk:()=>qm,ekj:()=>rv,Suo:()=>T0,Xpm:()=>Hi,lG2:()=>to,Yz7:()=>jt,cJS:()=>Gn,oAB:()=>rr,Yjl:()=>Pi,Y36:()=>xp,_UZ:()=>r_,qZA:()=>Jm,TgZ:()=>Qm,EpF:()=>s_,n5z:()=>Ya,Ikx:()=>av,LFG:()=>ft,$8M:()=>Hu,FaB:()=>x0,NdJ:()=>ev,CRH:()=>I0,oxw:()=>d_,ALo:()=>_0,lcZ:()=>w0,Q6J:()=>Ym,iGM:()=>C0,MAs:()=>qy,CHM:()=>ea,LSH:()=>ma,kYT:()=>ri,YNc:()=>Gy,W1O:()=>R0,_uU:()=>F_,Oqu:()=>ov,hij:()=>Hg,AsE:()=>sv});var E=ie(9765),b=ie(5319),j=ie(7574),L=ie(6682),Pe=ie(2441);var Je=ie(1307);function Fe(){return new E.xQ}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Ye(t,e){for(const i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function De(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const st=Re({__forward_ref__:Re});function je(t){return t.__forward_ref__=je,t.toString=function(){return xe(this())},t}function nt(t){return Me(t)?t():t}function Me(t){return"function"==typeof t&&t.hasOwnProperty(st)&&t.__forward_ref__===je}class at extends Error{constructor(e,i){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,i)),this.code=e}}function bt(t){return"string"==typeof t?t:null==t?"":String(t)}function tn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():bt(t)}function $e(t,e){const i=e?` in ${e}`:"";throw new at("201",`No provider for ${tn(t)} found${i}`)}function vn(t,e){null==t&&function(t,e,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${e} <=Actual]`))}(e,t,null,"!=")}function jt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function bn(t){return kn(t,qe)||kn(t,Tt)}function kn(t,e){return t.hasOwnProperty(e)?t[e]:null}function He(t){return t&&(t.hasOwnProperty(Nt)||t.hasOwnProperty(Tn))?t[Nt]:null}const qe=Re({\u0275prov:Re}),Nt=Re({\u0275inj:Re}),Tt=Re({ngInjectableDef:Re}),Tn=Re({ngInjectorDef:Re});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let Bn;function ln(t){const e=Bn;return Bn=t,e}function wt(t,e,i){const a=bn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&nn.Optional?null:void 0!==e?e:void $e(xe(t),"Injector")}function Yt(t){return{toString:t}.toString()}var Bt=(()=>((Bt=Bt||{})[Bt.OnPush=0]="OnPush",Bt[Bt.Default=1]="Default",Bt))(),tr=(()=>((tr=tr||{})[tr.Emulated=0]="Emulated",tr[tr.None=2]="None",tr[tr.ShadowDom=3]="ShadowDom",tr))();const An="undefined"!=typeof globalThis&&globalThis,Fr="undefined"!=typeof window&&window,wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ue=An||"undefined"!=typeof global&&global||Fr||wr,Te={},Qe=[],yt=[],Lt=Re({\u0275cmp:Re}),Ht=Re({\u0275dir:Re}),Sn=Re({\u0275pipe:Re}),Ln=Re({\u0275mod:Re}),ur=Re({\u0275loc:Re}),nr=Re({\u0275fac:Re}),Lr=Re({__NG_ELEMENT_ID__:Re});let zn=0;function Hi(t){return Yt(()=>{const i={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||tr.Emulated,id:"c",styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.directives,g=t.features,w=t.pipes;return a.id+=zn++,a.inputs=Oi(t.inputs,i),a.outputs=Oi(t.outputs),g&&g.forEach(C=>C(a)),a.directiveDefs=d?()=>("function"==typeof d?d():d).map(Sr):null,a.pipeDefs=w?()=>("function"==typeof w?w():w).map(li):null,a})}function Sr(t){return Ri(t)||function(t){return t[Ht]||null}(t)}function li(t){return function(t){return t[Sn]||null}(t)}const Gi={};function rr(t){const e={type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Yt(()=>{Gi[t.id]=t.type}),e}function ri(t,e){return Yt(()=>{const i=qi(t,!0);i.declarations=e.declarations||yt,i.imports=e.imports||yt,i.exports=e.exports||yt})}function Oi(t,e){if(null==t)return Te;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),i[d]=a,e&&(e[d]=g)}return i}const to=Hi;function Pi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ri(t){return t[Lt]||null}function qi(t,e){const i=t[Ln]||null;if(!i&&!0===e)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return i}function Kr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zi(t){return Array.isArray(t)&&!0===t[1]}function kr(t){return 0!=(8&t.flags)}function wo(t){return 2==(2&t.flags)}function vi(t){return 1==(1&t.flags)}function Mr(t){return null!==t.template}function Eo(t){return 0!=(512&t[2])}function ge(t,e){return t.hasOwnProperty(nr)?t[nr]:null}class ne{constructor(e,i,a){this.previousValue=e,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function ye(){return re}function re(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Le}function Le(){const t=On(this),e=null==t?void 0:t.current;if(e){const i=t.previous;if(i===Te)t.previous=e;else for(let a in e)i[a]=e[a];t.current=null,this.ngOnChanges(e)}}function St(t,e,i,a){const d=On(t)||function(t,e){return t[rn]=e}(t,{previous:Te,current:null}),g=d.current||(d.current={}),w=d.previous,C=this.declaredInputs[i],O=w[C];g[C]=new ne(O&&O.currentValue,e,w===Te),t[a]=e}ye.ngInherit=!0;const rn="__ngSimpleChanges__";function On(t){return t[rn]||null}const pe="__ngContext__";let ot;function Ft(t){ot=t}function Jn(t){return!!t.listen}const oi={createRenderer:(t,e)=>void 0!==ot?ot:"undefined"!=typeof document?document:void 0};function xr(t){for(;Array.isArray(t);)t=t[0];return t}function ls(t,e){return xr(e[t])}function ro(t,e){return xr(e[t.index])}function Fi(t,e){return t.data[e]}function Er(t,e){return t[e]}function di(t,e){const i=e[t];return Kr(i)?i:i[0]}function Fo(t){const e=function(t){return t[pe]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function co(t){return 4==(4&t[2])}function Co(t){return 128==(128&t[2])}function Vr(t,e){return null==e?null:t[e]}function vr(t){t[18]=0}function ua(t,e){t[5]+=e;let i=t,a=t[3];for(;null!==a&&(1===e&&1===i[5]||-1===e&&0===i[5]);)a[5]+=e,i=a,a=a[3]}const hr={lFrame:ys(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function eo(){return hr.bindingsEnabled}function Jt(){return hr.lFrame.lView}function Cr(){return hr.lFrame.tView}function ea(t){hr.lFrame.contextLView=t}function Ai(){let t=Qo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qo(){return hr.lFrame.currentTNode}function sn(t,e){const i=hr.lFrame;i.currentTNode=t,i.isParent=e}function ta(){return hr.lFrame.isParent}function Wo(){return hr.isInCheckNoChangesMode}function as(t){hr.isInCheckNoChangesMode=t}function Xo(){return hr.lFrame.bindingIndex}function $o(){return hr.lFrame.bindingIndex++}function io(t){const e=hr.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function es(t,e){const i=hr.lFrame;i.bindingIndex=i.bindingRootIndex=t,na(e)}function na(t){hr.lFrame.currentDirectiveIndex=t}function vs(){return hr.lFrame.currentQueryIndex}function Rs(t){hr.lFrame.currentQueryIndex=t}function xs(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function wi(t,e,i){if(i&nn.SkipSelf){let d=e,g=t;for(;!(d=d.parent,null!==d||i&nn.Host||(d=xs(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;e=d,t=g}const a=hr.lFrame=Ns();return a.currentTNode=e,a.lView=t,!0}function mo(t){const e=Ns(),i=t[1];hr.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Ns(){const t=hr.lFrame,e=null===t?null:t.child;return null===e?ys(t):e}function ys(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function xo(){const t=hr.lFrame;return hr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const la=xo;function ya(){const t=xo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qi(){return hr.lFrame.selectedIndex}function ts(t){hr.lFrame.selectedIndex=t}function $i(){const t=hr.lFrame;return Fi(t.tView,t.selectedIndex)}function _e(t,e){for(let i=e.directiveStart,a=e.directiveEnd;i<a;i++){const g=t.data[i].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:O,ngAfterViewChecked:q,ngOnDestroy:se}=g;w&&(t.contentHooks||(t.contentHooks=[])).push(-i,w),C&&((t.contentHooks||(t.contentHooks=[])).push(i,C),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,C)),O&&(t.viewHooks||(t.viewHooks=[])).push(-i,O),q&&((t.viewHooks||(t.viewHooks=[])).push(i,q),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,q)),null!=se&&(t.destroyHooks||(t.destroyHooks=[])).push(i,se)}}function A(t,e,i){ze(t,e,3,i)}function R(t,e,i,a){(3&t[2])===i&&ze(t,e,i,a)}function te(t,e){let i=t[2];(3&i)===e&&(i&=2047,i+=1,t[2]=i)}function ze(t,e,i,a){const g=null!=a?a:-1,w=e.length-1;let C=0;for(let O=void 0!==a?65535&t[18]:0;O<w;O++)if("number"==typeof e[O+1]){if(C=e[O],null!=a&&C>=a)break}else e[O]<0&&(t[18]+=65536),(C<g||-1==g)&&(Vt(t,i,e,O),t[18]=(4294901760&t[18])+O+2),O++}function Vt(t,e,i,a){const d=i[a]<0,g=i[a+1],C=t[d?-i[a]:i[a]];if(d){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class gr{constructor(e,i,a){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function za(t,e,i){const a=Jn(t);let d=0;for(;d<i.length;){const g=i[d];if("number"==typeof g){if(0!==g)break;d++;const w=i[d++],C=i[d++],O=i[d++];a?t.setAttribute(e,C,O,w):e.setAttributeNS(w,C,O)}else{const w=g,C=i[++d];Sa(w)?a&&t.setProperty(e,w,C):a?t.setAttribute(e,w,C):e.setAttribute(w,C),d++}}return d}function fa(t){return 3===t||4===t||6===t}function Sa(t){return 64===t.charCodeAt(0)}function da(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let i=-1;for(let a=0;a<e.length;a++){const d=e[a];"number"==typeof d?i=d:0===i||hs(t,i,d,null,-1===i||2===i?e[++a]:null)}}return t}function hs(t,e,i,a,d){let g=0,w=t.length;if(-1===e)w=-1;else for(;g<t.length;){const C=t[g++];if("number"==typeof C){if(C===e){w=-1;break}if(C>e){w=g-1;break}}}for(;g<t.length;){const C=t[g];if("number"==typeof C)break;if(C===i){if(null===a)return void(null!==d&&(t[g+1]=d));if(a===t[g+1])return void(t[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==w&&(t.splice(w,0,e),g=w+1),t.splice(g++,0,i),null!==a&&t.splice(g++,0,a),null!==d&&t.splice(g++,0,d)}function wa(t){return-1!==t}function ho(t){return 32767&t}function _s(t,e){let i=function(t){return t>>16}(t),a=e;for(;i>0;)a=a[15],i--;return a}let Tu=!0;function Da(t){const e=Tu;return Tu=t,e}let D=0;function oe(t,e){const i=We(t,e);if(-1!==i)return i;const a=e[1];a.firstCreatePass&&(t.injectorIndex=e.length,we(a.data,t),we(e,null),we(a.blueprint,null));const d=ut(t,e),g=t.injectorIndex;if(wa(d)){const w=ho(d),C=_s(d,e),O=C[1].data;for(let q=0;q<8;q++)e[g+q]=C[w+q]|O[w+q]}return e[g+8]=d,g}function we(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ut(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=e;for(;null!==d;){const g=d[1],w=g.type;if(a=2===w?g.declTNode:1===w?d[6]:null,null===a)return-1;if(i++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return-1}function $t(t,e,i){!function(t,e,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Lr)&&(a=i[Lr]),null==a&&(a=i[Lr]=D++);const d=255&a;e.data[t+(d>>5)]|=1<<d}(t,e,i)}function Xt(t,e,i){if(i&nn.Optional)return t;$e(e,"NodeInjector")}function Zn(t,e,i,a){if(i&nn.Optional&&void 0===a&&(a=null),0==(i&(nn.Self|nn.Host))){const d=t[9],g=ln(void 0);try{return d?d.get(e,a,i&nn.Optional):wt(e,a,i&nn.Optional)}finally{ln(g)}}return Xt(a,e,i)}function pi(t,e,i,a=nn.Default,d){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Lr)?t[Lr]:void 0;return"number"==typeof e?e>=0?255&e:Os:e}(i);if("function"==typeof g){if(!wi(e,t,a))return a&nn.Host?Xt(d,i,a):Zn(e,i,a,d);try{const w=g();if(null!=w||a&nn.Optional)return w;$e(i)}finally{la()}}else if("number"==typeof g){let w=null,C=We(t,e),O=-1,q=a&nn.Host?e[16][6]:null;for((-1===C||a&nn.SkipSelf)&&(O=-1===C?ut(t,e):e[C+8],-1!==O&&Bu(a,!1)?(w=e[1],C=ho(O),e=_s(O,e)):C=-1);-1!==C;){const se=e[1];if(ka(g,C,se.data)){const Ee=Gs(C,e,i,w,a,q);if(Ee!==Ei)return Ee}O=e[C+8],-1!==O&&Bu(a,e[1].data[C+8]===q)&&ka(g,C,e)?(w=se,C=ho(O),e=_s(O,e)):C=-1}}}return Zn(e,i,a,d)}const Ei={};function Os(){return new Ka(Ai(),Jt())}function Gs(t,e,i,a,d,g){const w=e[1],C=w.data[t+8],se=ws(C,w,i,null==a?wo(C)&&Tu:a!=w&&0!=(3&C.type),d&nn.Host&&g===C);return null!==se?ra(e,w,se,C):Ei}function ws(t,e,i,a,d){const g=t.providerIndexes,w=e.data,C=1048575&g,O=t.directiveStart,se=g>>20,Ne=d?C+se:t.directiveEnd;for(let tt=a?C:C+se;tt<Ne;tt++){const mt=w[tt];if(tt<O&&i===mt||tt>=O&&mt.type===i)return tt}if(d){const tt=w[O];if(tt&&Mr(tt)&&tt.type===i)return O}return null}function ra(t,e,i,a){let d=t[i];const g=e.data;if(function(t){return t instanceof gr}(d)){const w=d;w.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(tn(g[i]));const C=Da(w.canSeeViewProviders);w.resolving=!0;const O=w.injectImpl?ln(w.injectImpl):null;wi(t,a,nn.Default);try{d=t[i]=w.factory(void 0,g,t,a),e.firstCreatePass&&i>=a.directiveStart&&function(t,e,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=e.type.prototype;if(a){const w=re(e);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,w),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,w)}d&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,d),g&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,g),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,g))}(i,g[i],e)}finally{null!==O&&ln(O),Da(C),w.resolving=!1,la()}}return d}function ka(t,e,i){return!!(i[e+(t>>5)]&1<<t)}function Bu(t,e){return!(t&nn.Self||t&nn.Host&&e)}class Ka{constructor(e,i){this._tNode=e,this._lView=i}get(e,i){return pi(this._tNode,this._lView,e,void 0,i)}}function Ya(t){return Yt(()=>{const e=t.prototype.constructor,i=e[nr]||ns(e),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const g=d[nr]||ns(d);if(g&&g!==i)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function ns(t){return Me(t)?()=>{const e=ns(nt(t));return e&&e()}:ge(t)}function Hu(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const g=i[d];if(fa(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(g===e)return i[d+1];d+=2}}}return null}(Ai(),t)}const ia="__parameters__";function Fa(t,e,i){return Yt(()=>{const a=function(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(e);function d(...g){if(this instanceof d)return a.apply(this,g),this;const w=new d(...g);return C.annotation=w,C;function C(O,q,se){const Ee=O.hasOwnProperty(ia)?O[ia]:Object.defineProperty(O,ia,{value:[]})[ia];for(;Ee.length<=se;)Ee.push(null);return(Ee[se]=Ee[se]||[]).push(w),O}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class Io{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=jt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dc=new Io("AnalyzeForEntryComponents"),Au=Function;function ps(t,e){void 0===e&&(e=t);for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?(e===t&&(e=t.slice(0,i)),ps(a,e)):e!==t&&e.push(a)}return e}function sa(t,e){t.forEach(i=>Array.isArray(i)?sa(i,e):e(i))}function gs(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Ra(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ws(t,e,i){let a=Su(t,e);return a>=0?t[1|a]=i:(a=~a,function(t,e,i,a){let d=t.length;if(d==e)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>e;)t[d]=t[d-2],d--;t[e]=i,t[e+1]=a}}(t,a,e,i)),a}function eu(t,e){const i=Su(t,e);if(i>=0)return t[1|i]}function Su(t,e){return function(t,e,i){let a=0,d=t.length>>i;for(;d!==a;){const g=a+(d-a>>1),w=t[g<<i];if(e===w)return g<<i;w>e?d=g:a=g+1}return~(d<<i)}(t,e,1)}const is={},Ma="__NG_DI_FLAG__",Ho="ngTempTokenPath",gc=/\n/gm,N="__source",ae=Re({provide:String,useValue:Re});let he;function Oe(t){const e=he;return he=t,e}function ct(t,e=nn.Default){if(void 0===he)throw new Error("inject() must be called from an injection context");return null===he?wt(t,void 0,e):he.get(t,e&nn.Optional?null:void 0,e)}function ft(t,e=nn.Default){return(Bn||ct)(nt(t),e)}function wn(t){const e=[];for(let i=0;i<t.length;i++){const a=nt(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let d,g=nn.Default;for(let w=0;w<a.length;w++){const C=a[w],O=Ur(C);"number"==typeof O?-1===O?d=C.token:g|=O:d=C}e.push(ft(d,g))}else e.push(ft(a))}return e}function ar(t,e){return t[Ma]=e,t.prototype[Ma]=e,t}function Ur(t){return t[Ma]}function Si(t,e,i,a){const d=t[Ho];throw e[N]&&d.unshift(e[N]),t.message=function(t,e,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let d=xe(e);if(Array.isArray(e))d=e.map(xe).join(" -> ");else if("object"==typeof e){let g=[];for(let w in e)if(e.hasOwnProperty(w)){let C=e[w];g.push(w+":"+("string"==typeof C?JSON.stringify(C):xe(C)))}d=`{${g.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(gc,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[Ho]=null,t}const ks=ar(Fa("Inject",t=>({token:t})),-1),po=ar(Fa("Optional"),8),ga=ar(Fa("SkipSelf"),4);let pu;function _c(t){var e;return(null===(e=function(){if(void 0===pu&&(pu=null,Ue.trustedTypes))try{pu=Ue.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return pu}())||void 0===e?void 0:e.createHTML(t))||t}class nu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pl extends nu{getTypeName(){return"HTML"}}class ld extends nu{getTypeName(){return"Style"}}class cf extends nu{getTypeName(){return"Script"}}class kl extends nu{getTypeName(){return"URL"}}class Oc extends nu{getTypeName(){return"ResourceURL"}}function Ca(t){return t instanceof nu?t.changingThisBreaksApplicationSecurity:t}function Fs(t,e){const i=Ju(t);if(null!=i&&i!==e){if("ResourceURL"===i&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===e}function Ju(t){return t instanceof nu&&t.getTypeName()||null}function Fl(t){return new Pl(t)}function Xu(t){return new ld(t)}function Ru(t){return new cf(t)}function ol(t){return new kl(t)}function ec(t){return new Oc(t)}class Ll{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const i=(new window.DOMParser).parseFromString(_c(e),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class xu{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const a=this.inertDocument.createElement("body");i.appendChild(a)}}getInertBodyElement(e){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=_c(e),i;const a=this.inertDocument.createElement("body");return a.innerHTML=_c(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(e){const i=e.attributes;for(let d=i.length-1;0<d;d--){const w=i.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&e.removeAttribute(w)}let a=e.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Vl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ul=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ta(t){return(t=String(t)).match(Vl)||t.match(Ul)?t:"unsafe:"+t}function Ia(t){const e={};for(const i of t.split(","))e[i]=!0;return e}function tc(...t){const e={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(e[a]=!0);return e}const kc=Ia("area,br,col,hr,img,wbr"),Nu=Ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fc=Ia("rp,rt"),bc=tc(kc,tc(Nu,Ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tc(Fc,Ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tc(Fc,Nu)),Ks=Ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nc=Ia("srcset"),Oa=tc(Ks,nc,Ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rc=Ia("script,style,template");class Ou{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(e){const i=e.nodeName.toLowerCase();if(!bc.hasOwnProperty(i))return this.sanitizedSomething=!0,!rc.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=e.attributes;for(let d=0;d<a.length;d++){const g=a.item(d),w=g.name,C=w.toLowerCase();if(!Oa.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let O=g.value;Ks[C]&&(O=Ta(O)),nc[C]&&(t=O,O=(t=String(t)).split(",").map(e=>Ta(e.trim())).join(", ")),this.buf.push(" ",w,'="',al(O),'"')}var t;return this.buf.push(">"),!0}endElement(e){const i=e.nodeName.toLowerCase();bc.hasOwnProperty(i)&&!kc.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(al(e))}checkClobberedElement(e,i){if(i&&(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return i}}const Ji=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iu=/([^\#-~ |!])/g;function al(t){return t.replace(/&/g,"&amp;").replace(Ji,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(iu,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ic;function Mo(t,e){let i=null;try{ic=ic||function(t){const e=new xu(t);return function(){try{return!!(new window.DOMParser).parseFromString(_c(""),"text/html")}catch(t){return!1}}()?new Ll(e):e}(t);let a=e?String(e):"";i=ic.getInertBodyElement(a);let d=5,g=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=g,g=i.innerHTML,i=ic.getInertBodyElement(a)}while(a!==g);return _c((new Ou).sanitizeChildren(Ts(i)||i))}finally{if(i){const a=Ts(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ts(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ko=(()=>((Ko=Ko||{})[Ko.NONE=0]="NONE",Ko[Ko.HTML=1]="HTML",Ko[Ko.STYLE=2]="STYLE",Ko[Ko.SCRIPT=3]="SCRIPT",Ko[Ko.URL=4]="URL",Ko[Ko.RESOURCE_URL=5]="RESOURCE_URL",Ko))();function ma(t){const e=function(){const t=Jt();return t&&t[12]}();return e?e.sanitize(Ko.URL,t)||"":Fs(t,"URL")?Ca(t):Ta(bt(t))}function ul(t){return t.ngDebugContext}function su(t){return t.ngOriginalError}function dd(t,...e){t.error(...e)}class Ba{constructor(){this._console=console}handleError(e){const i=this._findOriginalError(e),a=this._findContext(e),d=e.ngErrorLogger||dd;d(this._console,"ERROR",e),i&&d(this._console,"ORIGINAL ERROR",i),a&&d(this._console,"ERROR CONTEXT",a)}_findContext(e){return e?ul(e)?ul(e):this._findContext(su(e)):null}_findOriginalError(e){let i=su(e);for(;i&&su(i);)i=su(i);return i}}function ms(t,e){t[pe]=e}const Vu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ue))();function cs(t){return t instanceof Function?t():t}var Ga=(()=>((Ga=Ga||{})[Ga.Important=1]="Important",Ga[Ga.DashCase=2]="DashCase",Ga))();function ql(t,e){return undefined(t,e)}function Ic(t){const e=t[3];return Zi(e)?e[3]:e}function Wl(t){return uc(t[13])}function yu(t){return uc(t[4])}function uc(t){for(;null!==t&&!Zi(t);)t=t[4];return t}function Ac(t,e,i,a,d){if(null!=a){let g,w=!1;Zi(a)?g=a:Kr(a)&&(w=!0,a=a[0]);const C=xr(a);0===t&&null!==i?null==d?Pn(e,i,C):mn(e,i,C,d||null,!0):1===t&&null!==i?mn(e,i,C,d||null,!0):2===t?function(t,e,i){const a=qr(t,e);a&&function(t,e,i,a){Jn(t)?t.removeChild(e,i,a):e.removeChild(i)}(t,a,e,i)}(e,C,w):3===t&&e.destroyNode(C),null!=g&&function(t,e,i,a,d){const g=i[7];g!==xr(i)&&Ac(e,t,a,g,d);for(let C=10;C<i.length;C++){const O=i[C];P(O[1],O,t,e,a,g)}}(e,t,g,i,d)}}function $l(t,e,i){return Jn(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function B(t,e){const i=t[9],a=i.indexOf(e),d=e[3];1024&e[2]&&(e[2]&=-1025,ua(d,-1)),i.splice(a,1)}function J(t,e){if(t.length<=10)return;const i=10+e,a=t[i];if(a){const d=a[17];null!==d&&d!==t&&B(d,a),e>0&&(t[i-1][4]=a[4]);const g=Ra(t,10+e);!function(t,e){P(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(a[1],a);const w=g[19];null!==w&&w.detachView(g[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function be(t,e){if(!(256&e[2])){const i=e[11];Jn(i)&&i.destroyNode&&P(t,e,i,3,null,null),function(t){let e=t[13];if(!e)return Ae(t[1],t);for(;e;){let i=null;if(Kr(e))i=e[13];else{const a=e[10];a&&(i=a)}if(!i){for(;e&&!e[4]&&e!==t;)Kr(e)&&Ae(e[1],e),e=e[3];null===e&&(e=t),Kr(e)&&Ae(e[1],e),i=e&&e[4]}e=i}}(e)}}function Ae(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=e[i[a]];if(!(d instanceof gr)){const g=i[a+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const C=d[g[w]],O=g[w+1];try{O.call(C)}finally{}}else try{g.call(d)}finally{}}}}(t,e),function(t,e){const i=t.cleanup,a=e[7];let d=-1;if(null!==i)for(let g=0;g<i.length-1;g+=2)if("string"==typeof i[g]){const w=i[g+1],C="function"==typeof w?w(e):xr(e[w]),O=a[d=i[g+2]],q=i[g+3];"boolean"==typeof q?C.removeEventListener(i[g],O,q):q>=0?a[d=q]():a[d=-q].unsubscribe(),g+=2}else{const w=a[d=i[g+1]];i[g].call(w)}if(null!==a){for(let g=d+1;g<a.length;g++)a[g]();e[7]=null}}(t,e),1===e[1].type&&Jn(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Zi(e[3])){i!==e[3]&&B(i,e);const a=e[19];null!==a&&a.detachView(t)}}}function Ot(t,e,i){return function(t,e,i){let a=e;for(;null!==a&&40&a.type;)a=(e=a).parent;if(null===a)return i[0];if(2&a.flags){const d=t.data[a.directiveStart].encapsulation;if(d===tr.None||d===tr.Emulated)return null}return ro(a,i)}(t,e.parent,i)}function mn(t,e,i,a,d){Jn(t)?t.insertBefore(e,i,a,d):e.insertBefore(i,a,d)}function Pn(t,e,i){Jn(t)?t.appendChild(e,i):e.appendChild(i)}function jr(t,e,i,a,d){null!==a?mn(t,e,i,a,d):Pn(t,e,i)}function qr(t,e){return Jn(t)?t.parentNode(e):e.parentNode}let yl=function(t,e,i){return 40&t.type?ro(t,i):null};function r(t,e,i,a){const d=Ot(t,a,e),g=e[11],C=function(t,e,i){return yl(t,e,i)}(a.parent||e[6],a,e);if(null!=d)if(Array.isArray(i))for(let O=0;O<i.length;O++)jr(g,d,i[O],C,!1);else jr(g,d,i,C,!1)}function o(t,e){if(null!==e){const i=e.type;if(3&i)return ro(e,t);if(4&i)return p(-1,t[e.index]);if(8&i){const a=e.child;if(null!==a)return o(t,a);{const d=t[e.index];return Zi(d)?p(-1,d):xr(d)}}if(32&i)return ql(e,t)()||xr(t[e.index]);{const a=c(t,e);return null!==a?Array.isArray(a)?a[0]:o(Ic(t[16]),a):o(t,e.next)}}return null}function c(t,e){return null!==e?t[16][6].projection[e.projection]:null}function p(t,e){const i=10+t+1;if(i<e.length){const a=e[i],d=a[1].firstChild;if(null!==d)return o(a,d)}return e[7]}function S(t,e,i,a,d,g,w){for(;null!=i;){const C=a[i.index],O=i.type;if(w&&0===e&&(C&&ms(xr(C),a),i.flags|=4),64!=(64&i.flags))if(8&O)S(t,e,i.child,a,d,g,!1),Ac(e,t,d,C,g);else if(32&O){const q=ql(i,a);let se;for(;se=q();)Ac(e,t,d,se,g);Ac(e,t,d,C,g)}else 16&O?me(t,e,a,i,d,g):Ac(e,t,d,C,g);i=w?i.projectionNext:i.next}}function P(t,e,i,a,d,g){S(i,a,t.firstChild,e,d,g,!1)}function me(t,e,i,a,d,g){const w=i[16],O=w[6].projection[a.projection];if(Array.isArray(O))for(let q=0;q<O.length;q++)Ac(e,t,d,O[q],g);else S(t,e,O,w[3],d,g,!0)}function it(t,e,i){Jn(t)?t.setAttribute(e,"style",i):e.style.cssText=i}function kt(t,e,i){Jn(t)?""===i?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i):e.className=i}function Pt(t,e,i){let a=t.length;for(;;){const d=t.indexOf(e,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const g=e.length;if(d+g===a||t.charCodeAt(d+g)<=32)return d}i=d+1}}const Nn="ng-template";function jn(t,e,i){let a=0;for(;a<t.length;){let d=t[a++];if(i&&"class"===d){if(d=t[a],-1!==Pt(d.toLowerCase(),e,0))return!0}else if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===e)return!0;return!1}}return!1}function mr(t){return 4===t.type&&t.value!==Nn}function Tr(t,e,i){return e===(4!==t.type||i?t.value:Nn)}function Vi(t,e,i){let a=4;const d=t.attrs||[],g=function(t){for(let e=0;e<t.length;e++)if(fa(t[e]))return e;return t.length}(d);let w=!1;for(let C=0;C<e.length;C++){const O=e[C];if("number"!=typeof O){if(!w)if(4&a){if(a=2|1&a,""!==O&&!Tr(t,O,i)||""===O&&1===e.length){if(ci(a))return!1;w=!0}}else{const q=8&a?O:e[++C];if(8&a&&null!==t.attrs){if(!jn(t.attrs,q,i)){if(ci(a))return!1;w=!0}continue}const Ee=yo(8&a?"class":O,d,mr(t),i);if(-1===Ee){if(ci(a))return!1;w=!0;continue}if(""!==q){let Ne;Ne=Ee>g?"":d[Ee+1].toLowerCase();const tt=8&a?Ne:null;if(tt&&-1!==Pt(tt,q,0)||2&a&&q!==Ne){if(ci(a))return!1;w=!0}}}}else{if(!w&&!ci(a)&&!ci(O))return!1;if(w&&ci(O))continue;w=!1,a=O|1&a}}return ci(a)||w}function ci(t){return 0==(1&t)}function yo(t,e,i,a){if(null===e)return-1;let d=0;if(a||!i){let g=!1;for(;d<e.length;){const w=e[d];if(w===t)return d;if(3===w||6===w)g=!0;else{if(1===w||2===w){let C=e[++d];for(;"string"==typeof C;)C=e[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=g?1:2}return-1}return function(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===e)return i;i++}return-1}(e,t)}function Vs(t,e,i=!1){for(let a=0;a<e.length;a++)if(Vi(t,e[a],i))return!0;return!1}function ng(t,e){return t?":not("+e.trim()+")":e}function _m(t){let e=t[0],i=1,a=2,d="",g=!1;for(;i<t.length;){let w=t[i];if("string"==typeof w)if(2&a){const C=t[++i];d+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?d+="."+w:4&a&&(d+=" "+w);else""!==d&&!ci(w)&&(e+=ng(g,d),d=""),a=w,g=g||!ci(a);i++}return""!==d&&(e+=ng(g,d)),e}const Yr={};function rg(t){qh(Cr(),Jt(),Qi()+t,Wo())}function qh(t,e,i,a){if(!a)if(3==(3&e[2])){const g=t.preOrderCheckHooks;null!==g&&A(e,g,i)}else{const g=t.preOrderHooks;null!==g&&R(e,g,0,i)}ts(i)}function $f(t,e){return t<<17|e<<2}function au(t){return t>>17&32767}function Wh(t){return 2|t}function _u(t){return(131068&t)>>2}function $h(t,e){return-131069&t|e<<2}function zh(t){return 1|t}function zd(t,e){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const d=i[a],g=i[a+1];if(-1!==g){const w=t.data[g];Rs(d),w.contentQueries(2,e[g],g)}}}function Yl(t,e,i,a,d,g,w,C,O,q){const se=e.blueprint.slice();return se[0]=d,se[2]=140|a,vr(se),se[3]=se[15]=t,se[8]=i,se[10]=w||t&&t[10],se[11]=C||t&&t[11],se[12]=O||t&&t[12]||null,se[9]=q||t&&t[9]||null,se[6]=g,se[16]=2==e.type?t[16]:se,se}function yf(t,e,i,a,d){let g=t.data[e];if(null===g)g=function(t,e,i,a,d){const g=Qo(),w=ta(),O=t.data[e]=function(t,e,i,a,d,g){return{type:i,index:a,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,i,e,a,d);return null===t.firstChild&&(t.firstChild=O),null!==g&&(w?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O)),O}(t,e,i,a,d),hr.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=i,g.value=a,g.attrs=d;const w=function(){const t=hr.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return sn(g,!0),g}function Zf(t,e,i,a){if(0===i)return-1;const d=e.length;for(let g=0;g<i;g++)e.push(a),t.blueprint.push(a),t.data.push(null);return d}function _d(t,e,i){mo(e);try{const a=t.viewQuery;null!==a&&dp(1,a,i);const d=t.template;null!==d&&gg(t,e,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zd(t,e),t.staticViewQueries&&dp(2,t.viewQuery,i);const g=t.components;null!==g&&function(t,e){for(let i=0;i<e.length;i++)Tg(t,e[i])}(e,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,ya()}}function _f(t,e,i,a){const d=e[2];if(256==(256&d))return;mo(e);const g=Wo();try{vr(e),function(t){hr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&gg(t,e,i,2,a);const w=3==(3&d);if(!g)if(w){const q=t.preOrderCheckHooks;null!==q&&A(e,q,null)}else{const q=t.preOrderHooks;null!==q&&R(e,q,0,null),te(e,0)}if(function(t){for(let e=Wl(t);null!==e;e=yu(e)){if(!e[2])continue;const i=e[9];for(let a=0;a<i.length;a++){const d=i[a],g=d[3];0==(1024&d[2])&&ua(g,1),d[2]|=1024}}}(e),function(t){for(let e=Wl(t);null!==e;e=yu(e))for(let i=10;i<e.length;i++){const a=e[i],d=a[1];Co(a)&&_f(d,a,d.template,a[8])}}(e),null!==t.contentQueries&&zd(t,e),!g)if(w){const q=t.contentCheckHooks;null!==q&&A(e,q)}else{const q=t.contentHooks;null!==q&&R(e,q,1),te(e,1)}!function(t,e){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const d=i[a];if(d<0)ts(~d);else{const g=d,w=i[++a],C=i[++a];es(w,g),C(2,e[g])}}}finally{ts(-1)}}(t,e);const C=t.components;null!==C&&function(t,e){for(let i=0;i<e.length;i++)bf(t,e[i])}(e,C);const O=t.viewQuery;if(null!==O&&dp(2,O,a),!g)if(w){const q=t.viewCheckHooks;null!==q&&A(e,q)}else{const q=t.viewHooks;null!==q&&R(e,q,2),te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ua(e[3],-1))}finally{ya()}}function wf(t,e,i,a){const d=e[10],g=!Wo(),w=co(e);try{g&&!w&&d.begin&&d.begin(),w&&_d(t,e,a),_f(t,e,i,a)}finally{g&&!w&&d.end&&d.end()}}function gg(t,e,i,a,d){const g=Qi(),w=2&a;try{ts(-1),w&&e.length>20&&qh(t,e,20,Wo()),i(a,d)}finally{ts(g)}}function ip(t,e,i){!eo()||(function(t,e,i,a){const d=i.directiveStart,g=i.directiveEnd;t.firstCreatePass||oe(i,e),ms(a,e);const w=i.initialInputs;for(let C=d;C<g;C++){const O=t.data[C],q=Mr(O);q&&ap(e,i,O);const se=ra(e,t,C,i);ms(se,e),null!==w&&up(0,C-d,se,O,0,w),q&&(di(i.index,e)[8]=se)}}(t,e,i,ro(i,e)),128==(128&i.flags)&&function(t,e,i){const a=i.directiveStart,d=i.directiveEnd,w=i.index,C=hr.lFrame.currentDirectiveIndex;try{ts(w);for(let O=a;O<d;O++){const q=t.data[O],se=e[O];na(O),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&Eg(q,se)}}finally{ts(-1),na(C)}}(t,e,i))}function Kd(t,e,i=ro){const a=e.localNames;if(null!==a){let d=e.index+1;for(let g=0;g<a.length;g+=2){const w=a[g+1],C=-1===w?i(e,t):t[w];t[d++]=C}}}function Yd(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qf(t,e,i,a,d,g,w,C,O,q){const se=20+a,Ee=se+d,Ne=function(t,e){const i=[];for(let a=0;a<e;a++)i.push(a<t?null:Yr);return i}(se,Ee),tt="function"==typeof q?q():q;return Ne[1]={type:t,blueprint:Ne,template:i,queries:null,viewQuery:C,declTNode:e,data:Ne.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:O,consts:tt,incompleteFirstPass:!1}}function Qd(t,e,i,a){const d=ed(e);null===i?d.push(a):(d.push(i),t.firstCreatePass&&hp(t).push(a,d.length-1))}function sp(t,e,i){for(let a in t)if(t.hasOwnProperty(a)){const d=t[a];(i=null===i?{}:i).hasOwnProperty(a)?i[a].push(e,d):i[a]=[e,d]}return i}function uu(t,e,i,a,d,g,w,C){const O=ro(e,i);let se,q=e.inputs;!C&&null!=q&&(se=q[a])?(mp(t,i,se,a,d),wo(e)&&function(t,e){const i=di(e,t);16&i[2]||(i[2]|=64)}(i,e.index)):3&e.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=w?w(d,e.value||"",a):d,Jn(g)?g.setProperty(O,a,d):Sa(a)||(O.setProperty?O.setProperty(a,d):O[a]=d))}function bd(t,e,i,a){let d=!1;if(eo()){const g=function(t,e,i){const a=t.directiveRegistry;let d=null;if(a)for(let g=0;g<a.length;g++){const w=a[g];Vs(i,w.selectors,!1)&&(d||(d=[]),$t(oe(i,e),t,w.type),Mr(w)?(Cg(t,i),d.unshift(w)):d.push(w))}return d}(t,e,i),w=null===a?null:{"":-1};if(null!==g){d=!0,eh(i,t.data.length,g.length);for(let se=0;se<g.length;se++){const Ee=g[se];Ee.providersResolver&&Ee.providersResolver(Ee)}let C=!1,O=!1,q=Zf(t,e,g.length,null);for(let se=0;se<g.length;se++){const Ee=g[se];i.mergedAttrs=da(i.mergedAttrs,Ee.hostAttrs),th(t,i,e,q,Ee),Uu(q,Ee,w),null!==Ee.contentQueries&&(i.flags|=8),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(i.flags|=128);const Ne=Ee.type.prototype;!C&&(Ne.ngOnChanges||Ne.ngOnInit||Ne.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),C=!0),!O&&(Ne.ngOnChanges||Ne.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),O=!0),q++}!function(t,e){const a=e.directiveEnd,d=t.data,g=e.attrs,w=[];let C=null,O=null;for(let q=e.directiveStart;q<a;q++){const se=d[q],Ee=se.inputs,Ne=null===g||mr(e)?null:Om(Ee,g);w.push(Ne),C=sp(Ee,q,C),O=sp(se.outputs,q,O)}null!==C&&(C.hasOwnProperty("class")&&(e.flags|=16),C.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=w,e.inputs=C,e.outputs=O}(t,i)}w&&function(t,e,i){if(e){const a=t.localNames=[];for(let d=0;d<e.length;d+=2){const g=i[e[d+1]];if(null==g)throw new at("301",`Export of name '${e[d+1]}' not found!`);a.push(e[d],g)}}}(i,a,w)}return i.mergedAttrs=da(i.mergedAttrs,i.attrs),d}function Jd(t,e,i,a,d,g){const w=g.hostBindings;if(w){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const O=~e.index;(function(t){let e=t.length;for(;e>0;){const i=t[--e];if("number"==typeof i&&i<0)return i}return 0})(C)!=O&&C.push(O),C.push(a,d,w)}}function Eg(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Cg(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Uu(t,e,i){if(i){if(e.exportAs)for(let a=0;a<e.exportAs.length;a++)i[e.exportAs[a]]=t;Mr(e)&&(i[""]=t)}}function eh(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function th(t,e,i,a,d){t.data[a]=d;const g=d.factory||(d.factory=ge(d.type)),w=new gr(g,Mr(d),null);t.blueprint[a]=w,i[a]=w,Jd(t,e,0,a,Zf(t,i,d.hostVars,Yr),d)}function ap(t,e,i){const a=ro(e,t),d=Yd(i),g=t[10],w=Xf(t,Yl(t,d,null,i.onPush?64:16,a,e,g,g.createRenderer(a,i),null,null));t[e.index]=w}function wu(t,e,i,a,d,g){const w=ro(t,e);!function(t,e,i,a,d,g,w){if(null==g)Jn(t)?t.removeAttribute(e,d,i):e.removeAttribute(d);else{const C=null==w?bt(g):w(g,a||"",d);Jn(t)?t.setAttribute(e,d,C,i):i?e.setAttributeNS(i,d,C):e.setAttribute(d,C)}}(e[11],w,g,t.value,i,a,d)}function up(t,e,i,a,d,g){const w=g[e];if(null!==w){const C=a.setInput;for(let O=0;O<w.length;){const q=w[O++],se=w[O++],Ee=w[O++];null!==C?a.setInput(i,Ee,q,se):i[se]=Ee}}}function Om(t,e){let i=null,a=0;for(;a<e.length;){const d=e[a];if(0!==d)if(5!==d){if("number"==typeof d)break;t.hasOwnProperty(d)&&(null===i&&(i=[]),i.push(d,t[d],e[a+1])),a+=2}else a+=2;else a+=4}return i}function nh(t,e,i,a){return new Array(t,!0,!1,e,null,0,a,i,null,null)}function bf(t,e){const i=di(e,t);if(Co(i)){const a=i[1];80&i[2]?_f(a,i,a.template,i[8]):i[5]>0&&Ef(i)}}function Ef(t){for(let a=Wl(t);null!==a;a=yu(a))for(let d=10;d<a.length;d++){const g=a[d];if(1024&g[2]){const w=g[1];_f(w,g,w.template,g[8])}else g[5]>0&&Ef(g)}const i=t[1].components;if(null!==i)for(let a=0;a<i.length;a++){const d=di(i[a],t);Co(d)&&d[5]>0&&Ef(d)}}function Tg(t,e){const i=di(e,t),a=i[1];(function(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])})(a,i),_d(a,i,i[8])}function Xf(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Cd(t){for(;t;){t[2]|=64;const e=Ic(t);if(Eo(t)&&!e)return t;t=e}return null}function qc(t,e,i){const a=e[10];a.begin&&a.begin();try{_f(t,e,t.template,i)}catch(d){throw gp(e,d),d}finally{a.end&&a.end()}}function Td(t){!function(t){for(let e=0;e<t.components.length;e++){const i=t.components[e],a=Fo(i),d=a[1];wf(d,a,d.template,i)}}(t[8])}function dp(t,e,i){Rs(0),e(t,i)}const ih=(()=>Promise.resolve(null))();function ed(t){return t[7]||(t[7]=[])}function hp(t){return t.cleanup||(t.cleanup=[])}function gp(t,e){const i=t[9],a=i?i.get(Ba,null):null;a&&a.handleError(e)}function mp(t,e,i,a,d){for(let g=0;g<i.length;){const w=i[g++],C=i[g++],O=e[w],q=t.data[w];null!==q.setInput?q.setInput(O,d,a,C):O[C]=d}}function Yo(t,e,i){const a=ls(e,t);!function(t,e,i){Jn(t)?t.setValue(e,i):e.textContent=i}(t[11],a,i)}function oh(t,e,i){let a=i?t.styles:null,d=i?t.classes:null,g=0;if(null!==e)for(let w=0;w<e.length;w++){const C=e[w];"number"==typeof C?g=C:1==g?d=De(d,C):2==g&&(a=De(a,C+": "+e[++w]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}const td=new Io("INJECTOR",-1);class sh{get(e,i=is){if(i===is){const a=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw a.name="NullInjectorError",a}return i}}const nd=new Io("Set Injector scope."),Id={},vp={},yp=[];let _p;function ah(){return void 0===_p&&(_p=new sh),_p}function Sg(t,e=null,i=null,a){return new Dg(t,i,e||ah(),a)}class Dg{constructor(e,i,a,d=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];i&&sa(i,C=>this.processProvider(C,e,i)),sa([e],C=>this.processInjectorType(C,[],g)),this.records.set(td,Cf(void 0,this));const w=this.records.get(nd);this.scope=null!=w?w.value:null,this.source=d||("object"==typeof e?null:xe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,i=is,a=nn.Default){this.assertNotDestroyed();const d=Oe(this);try{if(!(a&nn.SkipSelf)){let w=this.records.get(e);if(void 0===w){const C=("function"==typeof(t=e)||"object"==typeof t&&t instanceof Io)&&bn(e);w=C&&this.injectableDefInScope(C)?Cf(uh(e),Id):null,this.records.set(e,w)}if(null!=w)return this.hydrate(e,w)}return(a&nn.Self?ah():this.parent).get(e,i=a&nn.Optional&&i===is?null:i)}catch(g){if("NullInjectorError"===g.name){if((g[Ho]=g[Ho]||[]).unshift(xe(e)),d)throw g;return Si(g,e,"R3InjectorError",this.source)}throw g}finally{Oe(d)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((a,d)=>e.push(xe(d))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,i,a){if(!(e=nt(e)))return!1;let d=He(e);const g=null==d&&e.ngModule||void 0,w=void 0===g?e:g,C=-1!==a.indexOf(w);if(void 0!==g&&(d=He(g)),null==d)return!1;if(null!=d.imports&&!C){let se;a.push(w);try{sa(d.imports,Ee=>{this.processInjectorType(Ee,i,a)&&(void 0===se&&(se=[]),se.push(Ee))})}finally{}if(void 0!==se)for(let Ee=0;Ee<se.length;Ee++){const{ngModule:Ne,providers:tt}=se[Ee];sa(tt,mt=>this.processProvider(mt,Ne,tt||yp))}}this.injectorDefTypes.add(w);const O=ge(w)||(()=>new w);this.records.set(w,Cf(O,Id));const q=d.providers;if(null!=q&&!C){const se=e;sa(q,Ee=>this.processProvider(Ee,se,q))}return void 0!==g&&void 0!==e.providers}processProvider(e,i,a){let d=id(e=nt(e))?e:nt(e&&e.provide);const g=wp(t=e)?Cf(void 0,t.useValue):Cf(cc(t),Id);var t;if(id(e)||!0!==e.multi)this.records.get(d);else{let w=this.records.get(d);w||(w=Cf(void 0,Id,!0),w.factory=()=>wn(w.multi),this.records.set(d,w)),d=e,w.multi.push(e)}this.records.set(d,g)}hydrate(e,i){return i.value===Id&&(i.value=vp,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(t=i.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var t}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function uh(t){const e=bn(t),i=null!==e?e.factory:ge(t);if(null!==i)return i;if(t instanceof Io)throw new Error(`Token ${xe(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const a=function(t,e){const i=[];for(let a=0;a<t;a++)i.push(e);return i}(e,"?");throw new Error(`Can't resolve all parameters for ${xe(t)}: (${a.join(", ")}).`)}const i=function(t){const e=t&&(t[qe]||t[Tt]);if(e){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),e}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function cc(t,e,i){let a;if(id(t)){const d=nt(t);return ge(d)||uh(d)}if(wp(t))a=()=>nt(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>ft(nt(t.useExisting));else{const d=nt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ge(d)||uh(d);a=()=>new d(...wn(t.deps))}return a}function Cf(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function wp(t){return null!==t&&"object"==typeof t&&ae in t}function id(t){return"function"==typeof t}const Mg=function(t,e,i){return function(t,e=null,i=null,a){const d=Sg(t,e,i,a);return d._resolveInjectorDefTypes(),d}({name:i},e,t,i)};class Lo{static create(e,i){return Array.isArray(e)?Mg(e,i,""):Mg(e.providers,e.parent,e.name||"")}}function Rp(t,e){_e(Fo(t)[1],Ai())}function Ss(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;e;){let d;if(Mr(t))d=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");d=e.\u0275dir}if(d){if(i){a.push(d);const w=t;w.inputs=vh(t.inputs),w.declaredInputs=vh(t.declaredInputs),w.outputs=vh(t.outputs);const C=d.hostBindings;C&&Gm(t,C);const O=d.viewQuery,q=d.contentQueries;if(O&&Qs(t,O),q&&Ug(t,q),Ye(t.inputs,d.inputs),Ye(t.declaredInputs,d.declaredInputs),Ye(t.outputs,d.outputs),Mr(d)&&d.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let w=0;w<g.length;w++){const C=g[w];C&&C.ngInherit&&C(t),C===Ss&&(i=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=e+=d.hostVars,d.hostAttrs=da(d.hostAttrs,i=da(i,d.hostAttrs))}}(a)}function vh(t){return t===Te?{}:t===yt?[]:t}function Qs(t,e){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{e(a,d),i(a,d)}:e}function Ug(t,e){const i=t.contentQueries;t.contentQueries=i?(a,d,g)=>{e(a,d,g),i(a,d,g)}:e}function Gm(t,e){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{e(a,d),i(a,d)}:e}Lo.THROW_IF_NOT_FOUND=is,Lo.NULL=new sh,Lo.\u0275prov=jt({token:Lo,providedIn:"any",factory:()=>ft(td)}),Lo.__NG_ELEMENT_ID__=-1;let T=null;function H(){if(!T){const t=Ue.Symbol;if(t&&t.iterator)T=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<e.length;++i){const a=e[i];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(T=a)}}}return T}class ve{constructor(e){this.wrapped=e}static wrap(e){return new ve(e)}static unwrap(e){return ve.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof ve}}function Ze(t){return!!ni(t)&&(Array.isArray(t)||!(t instanceof Map)&&H()in t)}function ni(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function qm(t,e,i,a){const d=Jt();return _o(d,$o(),e)&&(Cr(),wu($i(),d,t,e,i,a)),qm}function wh(t,e,i,a,d,g){const C=function(t,e,i,a){const d=_o(t,e,i);return _o(t,e+1,a)||d}(t,Xo(),i,d);return io(2),C?e+bt(i)+a+bt(d)+g:Yr}function Gy(t,e,i,a,d,g,w,C){const O=Jt(),q=Cr(),se=t+20,Ee=q.firstCreatePass?function(t,e,i,a,d,g,w,C,O){const q=e.consts,se=yf(e,t,4,w||null,Vr(q,C));bd(e,i,se,Vr(q,O)),_e(e,se);const Ee=se.tViews=Qf(2,se,a,d,g,e.directiveRegistry,e.pipeRegistry,null,e.schemas,q);return null!==e.queries&&(e.queries.template(e,se),Ee.queries=e.queries.embeddedTView(se)),se}(se,q,O,e,i,a,d,g,w):q.data[se];sn(Ee,!1);const Ne=O[11].createComment("");r(q,O,Ne,Ee),ms(Ne,O),Xf(O,O[se]=nh(Ne,O,Ne,Ee)),vi(Ee)&&ip(q,O,Ee),null!=w&&Kd(O,Ee,C)}function qy(t){return Er(hr.lFrame.contextLView,20+t)}function xp(t,e=nn.Default){const i=Jt();return null===i?ft(t,e):pi(Ai(),i,nt(t),e)}function Ym(t,e,i){const a=Jt();return _o(a,$o(),e)&&uu(Cr(),$i(),a,t,e,a[11],i,!1),Ym}function Zm(t,e,i,a,d){const w=d?"class":"style";mp(t,i,e.inputs[w],w,a)}function Qm(t,e,i,a){const d=Jt(),g=Cr(),w=20+t,C=d[11],O=d[w]=$l(C,e,hr.lFrame.currentNamespace),q=g.firstCreatePass?function(t,e,i,a,d,g,w){const C=e.consts,q=yf(e,t,2,d,Vr(C,g));return bd(e,i,q,Vr(C,w)),null!==q.attrs&&oh(q,q.attrs,!1),null!==q.mergedAttrs&&oh(q,q.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,q),q}(w,g,d,0,e,i,a):g.data[w];sn(q,!0);const se=q.mergedAttrs;null!==se&&za(C,O,se);const Ee=q.classes;null!==Ee&&kt(C,O,Ee);const Ne=q.styles;null!==Ne&&it(C,O,Ne),64!=(64&q.flags)&&r(g,d,O,q),0===hr.lFrame.elementDepthCount&&ms(O,d),hr.lFrame.elementDepthCount++,vi(q)&&(ip(g,d,q),function(t,e,i){if(kr(e)){const d=e.directiveEnd;for(let g=e.directiveStart;g<d;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,i[g],g)}}}(g,q,d)),null!==a&&Kd(d,q)}function Jm(){let t=Ai();ta()?hr.lFrame.isParent=!1:(t=t.parent,sn(t,!1));const e=t;hr.lFrame.elementDepthCount--;const i=Cr();i.firstCreatePass&&(_e(i,t),kr(t)&&i.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zm(i,e,Jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zm(i,e,Jt(),e.stylesWithoutHost,!1)}function r_(t,e,i,a){Qm(t,e,i,a),Jm()}function s_(){return Jt()}function Xm(t){return!!t&&"function"==typeof t.then}function a_(t){return!!t&&"function"==typeof t.subscribe}const u_=a_;function ev(t,e,i=!1,a){const d=Jt(),g=Cr(),w=Ai();return function(t,e,i,a,d,g,w=!1,C){const O=vi(a),se=t.firstCreatePass&&hp(t),Ee=e[8],Ne=ed(e);let tt=!0;if(3&a.type){const Mt=ro(a,e),Rn=C?C(Mt):Te,cn=Rn.target||Mt,Ir=Ne.length,Mi=C?zi=>C(xr(zi[a.index])).target:a.index;if(Jn(i)){let zi=null;if(!C&&O&&(zi=function(t,e,i,a){const d=t.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const w=d[g];if(w===i&&d[g+1]===a){const C=e[7],O=d[g+2];return C.length>O?C[O]:null}"string"==typeof w&&(g+=2)}return null}(t,e,d,a.index)),null!==zi)(zi.__ngLastListenerFn__||zi).__ngNextListenerFn__=g,zi.__ngLastListenerFn__=g,tt=!1;else{g=tv(a,e,Ee,g,!1);const Xs=i.listen(Rn.name||cn,d,g);Ne.push(g,Xs),se&&se.push(d,Mi,Ir,Ir+1)}}else g=tv(a,e,Ee,g,!0),cn.addEventListener(d,g,w),Ne.push(g),se&&se.push(d,Mi,Ir,w)}else g=tv(a,e,Ee,g,!1);const mt=a.outputs;let Gt;if(tt&&null!==mt&&(Gt=mt[d])){const Mt=Gt.length;if(Mt)for(let Rn=0;Rn<Mt;Rn+=2){const Xs=e[Gt[Rn]][Gt[Rn+1]].subscribe(g),Zc=Ne.length;Ne.push(g,Xs),se&&se.push(d,a.index,Zc,-(Zc+1))}}}(g,d,d[11],w,t,e,i,a),ev}function f_(t,e,i,a){try{return!1!==i(a)}catch(d){return gp(t,d),!1}}function tv(t,e,i,a,d){return function g(w){if(w===Function)return a;const C=2&t.flags?di(t.index,e):e;0==(32&e[2])&&Cd(C);let O=f_(e,0,a,w),q=g.__ngNextListenerFn__;for(;q;)O=f_(e,0,q,w)&&O,q=q.__ngNextListenerFn__;return d&&!1===O&&(w.preventDefault(),w.returnValue=!1),O}}function d_(t=1){return function(t){return(hr.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,hr.lFrame.contextLView))[8]}(t)}function E_(t,e,i,a,d){const g=t[i+1],w=null===e;let C=a?au(g):_u(g),O=!1;for(;0!==C&&(!1===O||w);){const se=t[C+1];_E(t[C],e)&&(O=!0,t[C+1]=a?zh(se):Wh(se)),C=a?au(se):_u(se)}O&&(t[i+1]=a?Wh(g):zh(g))}function _E(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Su(t,e)>=0}function rv(t,e){return function(t,e,i,a){const d=Jt(),g=Cr(),w=io(2);g.firstUpdatePass&&function(t,e,i,a){const d=t.data;if(null===d[i+1]){const g=d[Qi()],w=function(t,e){return e>=t.expandoStartIndex}(t,i);(function(t,e){return 0!=(t.flags&(e?16:32))})(g,a)&&null===e&&!w&&(e=!1),e=function(t,e,i,a){const d=function(t){const e=hr.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let g=a?e.residualClasses:e.residualStyles;if(null===d)0===(a?e.classBindings:e.styleBindings)&&(i=Np(i=iv(null,t,e,i,a),e.attrs,a),g=null);else{const w=e.directiveStylingLast;if(-1===w||t[w]!==d)if(i=iv(d,t,e,i,a),null===g){let O=function(t,e,i){const a=i?e.classBindings:e.styleBindings;if(0!==_u(a))return t[au(a)]}(t,e,a);void 0!==O&&Array.isArray(O)&&(O=iv(null,t,e,O[1],a),O=Np(O,e.attrs,a),function(t,e,i,a){t[au(i?e.classBindings:e.styleBindings)]=a}(t,e,a,O))}else g=function(t,e,i){let a;const d=e.directiveEnd;for(let g=1+e.directiveStylingLast;g<d;g++)a=Np(a,t[g].hostAttrs,i);return Np(a,e.attrs,i)}(t,e,a)}return void 0!==g&&(a?e.residualClasses=g:e.residualStyles=g),i}(d,g,e,a),function(t,e,i,a,d,g){let w=g?e.classBindings:e.styleBindings,C=au(w),O=_u(w);t[a]=i;let se,q=!1;if(Array.isArray(i)){const Ee=i;se=Ee[1],(null===se||Su(Ee,se)>0)&&(q=!0)}else se=i;if(d)if(0!==O){const Ne=au(t[C+1]);t[a+1]=$f(Ne,C),0!==Ne&&(t[Ne+1]=$h(t[Ne+1],a)),t[C+1]=function(t,e){return 131071&t|e<<17}(t[C+1],a)}else t[a+1]=$f(C,0),0!==C&&(t[C+1]=$h(t[C+1],a)),C=a;else t[a+1]=$f(O,0),0===C?C=a:t[O+1]=$h(t[O+1],a),O=a;q&&(t[a+1]=Wh(t[a+1])),E_(t,se,a,!0),E_(t,se,a,!1),function(t,e,i,a,d){const g=d?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof e&&Su(g,e)>=0&&(i[a+1]=zh(i[a+1]))}(e,se,t,a,g),w=$f(C,O),g?e.classBindings=w:e.styleBindings=w}(d,g,e,i,w,a)}}(g,t,w,a),e!==Yr&&_o(d,w,e)&&function(t,e,i,a,d,g,w,C){if(!(3&e.type))return;const O=t.data,q=O[C+1];Bg(function(t){return 1==(1&t)}(q)?P_(O,e,i,d,_u(q),w):void 0)||(Bg(g)||function(t){return 2==(2&t)}(q)&&(g=P_(O,null,i,d,C,w)),function(t,e,i,a,d){const g=Jn(t);if(e)d?g?t.addClass(i,a):i.classList.add(a):g?t.removeClass(i,a):i.classList.remove(a);else{let w=-1===a.indexOf("-")?void 0:Ga.DashCase;if(null==d)g?t.removeStyle(i,a,w):i.style.removeProperty(a);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),w|=Ga.Important),g?t.setStyle(i,a,d,w):i.style.setProperty(a,d,C?"important":"")}}}(a,w,ls(Qi(),i),d,g))}(g,g.data[Qi()],d,d[11],t,d[w+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=xe(Ca(t)))),t}(e,i),a,w)}(t,e,null,!0),rv}function iv(t,e,i,a,d){let g=null;const w=i.directiveEnd;let C=i.directiveStylingLast;for(-1===C?C=i.directiveStart:C++;C<w&&(g=e[C],a=Np(a,g.hostAttrs,d),g!==t);)C++;return null!==t&&(i.directiveStylingLast=C),a}function Np(t,e,i){const a=i?1:2;let d=-1;if(null!==e)for(let g=0;g<e.length;g++){const w=e[g];"number"==typeof w?d=w:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ws(t,w,!!i||e[++g]))}return void 0===t?null:t}function P_(t,e,i,a,d,g){const w=null===e;let C;for(;d>0;){const O=t[d],q=Array.isArray(O),se=q?O[1]:O,Ee=null===se;let Ne=i[d+1];Ne===Yr&&(Ne=Ee?Qe:void 0);let tt=Ee?eu(Ne,a):se===a?Ne:void 0;if(q&&!Bg(tt)&&(tt=eu(O,a)),Bg(tt)&&(C=tt,w))return C;const mt=t[d+1];d=w?au(mt):_u(mt)}if(null!==e){let O=g?e.residualClasses:e.residualStyles;null!=O&&(C=eu(O,a))}return C}function Bg(t){return void 0!==t}function F_(t,e=""){const i=Jt(),a=Cr(),d=t+20,g=a.firstCreatePass?yf(a,d,1,e,null):a.data[d],w=i[d]=function(t,e){return Jn(t)?t.createText(e):t.createTextNode(e)}(i[11],e);r(a,i,w,g),sn(g,!1)}function ov(t){return Hg("",t,""),ov}function Hg(t,e,i){const a=Jt(),d=function(t,e,i,a){return _o(t,$o(),i)?e+bt(i)+a:Yr}(a,t,e,i);return d!==Yr&&Yo(a,Qi(),d),Hg}function sv(t,e,i,a,d){const g=Jt(),w=wh(g,t,e,i,a,d);return w!==Yr&&Yo(g,Qi(),w),sv}function av(t,e,i){const a=Jt();return _o(a,$o(),e)&&uu(Cr(),$i(),a,t,e,a[11],i,!0),av}const Nd=void 0;var eC=["en",[["a","p"],["AM","PM"],Nd],[["AM","PM"],Nd,Nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nd,"{1} 'at' {0}",Nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Rh={};function uv(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=tw(e);if(i)return i;const a=e.split("-")[0];if(i=tw(a),i)return i;if("en"===a)return eC;throw new Error(`Missing locale data for the locale "${t}".`)}function ew(t){return uv(t)[Zr.PluralCase]}function tw(t){return t in Rh||(Rh[t]=Ue.ng&&Ue.ng.common&&Ue.ng.common.locales&&Ue.ng.common.locales[t]),Rh[t]}var Zr=(()=>((Zr=Zr||{})[Zr.LocaleId=0]="LocaleId",Zr[Zr.DayPeriodsFormat=1]="DayPeriodsFormat",Zr[Zr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zr[Zr.DaysFormat=3]="DaysFormat",Zr[Zr.DaysStandalone=4]="DaysStandalone",Zr[Zr.MonthsFormat=5]="MonthsFormat",Zr[Zr.MonthsStandalone=6]="MonthsStandalone",Zr[Zr.Eras=7]="Eras",Zr[Zr.FirstDayOfWeek=8]="FirstDayOfWeek",Zr[Zr.WeekendRange=9]="WeekendRange",Zr[Zr.DateFormat=10]="DateFormat",Zr[Zr.TimeFormat=11]="TimeFormat",Zr[Zr.DateTimeFormat=12]="DateTimeFormat",Zr[Zr.NumberSymbols=13]="NumberSymbols",Zr[Zr.NumberFormats=14]="NumberFormats",Zr[Zr.CurrencyCode=15]="CurrencyCode",Zr[Zr.CurrencySymbol=16]="CurrencySymbol",Zr[Zr.CurrencyName=17]="CurrencyName",Zr[Zr.Currencies=18]="Currencies",Zr[Zr.Directionality=19]="Directionality",Zr[Zr.PluralCase=20]="PluralCase",Zr[Zr.ExtraData=21]="ExtraData",Zr))();const Gg="en-US";let nw=Gg;function cv(t){vn(t,"Expected localeId to be defined"),"string"==typeof t&&(nw=t.toLowerCase().replace(/_/g,"-"))}function dv(t,e,i,a,d){if(t=nt(t),Array.isArray(t))for(let g=0;g<t.length;g++)dv(t[g],e,i,a,d);else{const g=Cr(),w=Jt();let C=id(t)?t:nt(t.provide),O=cc(t);const q=Ai(),se=1048575&q.providerIndexes,Ee=q.directiveStart,Ne=q.providerIndexes>>20;if(id(t)||!t.multi){const tt=new gr(O,d,xp),mt=pv(C,e,d?se:se+Ne,Ee);-1===mt?($t(oe(q,w),g,C),hv(g,t,e.length),e.push(C),q.directiveStart++,q.directiveEnd++,d&&(q.providerIndexes+=1048576),i.push(tt),w.push(tt)):(i[mt]=tt,w[mt]=tt)}else{const tt=pv(C,e,se+Ne,Ee),mt=pv(C,e,se,se+Ne),Gt=tt>=0&&i[tt],Mt=mt>=0&&i[mt];if(d&&!Mt||!d&&!Gt){$t(oe(q,w),g,C);const Rn=function(t,e,i,a,d){const g=new gr(t,i,xp);return g.multi=[],g.index=e,g.componentProviders=0,Aw(g,d,a&&!i),g}(d?QC:ZC,i.length,d,a,O);!d&&Mt&&(i[mt].providerFactory=Rn),hv(g,t,e.length,0),e.push(C),q.directiveStart++,q.directiveEnd++,d&&(q.providerIndexes+=1048576),i.push(Rn),w.push(Rn)}else hv(g,t,tt>-1?tt:mt,Aw(i[d?mt:tt],O,!d&&a));!d&&a&&Mt&&i[mt].componentProviders++}}}function hv(t,e,i,a){const d=id(e);if(d||function(t){return!!t.useClass}(e)){const w=(e.useClass||e).prototype.ngOnDestroy;if(w){const C=t.destroyHooks||(t.destroyHooks=[]);if(!d&&e.multi){const O=C.indexOf(i);-1===O?C.push(i,[a,w]):C[O+1].push(a,w)}else C.push(i,w)}}}function Aw(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function pv(t,e,i,a){for(let d=i;d<a;d++)if(e[d]===t)return d;return-1}function ZC(t,e,i,a){return gv(this.multi,[])}function QC(t,e,i,a){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=ra(i,i[1],this.providerFactory.index,a);g=C.slice(0,w),gv(d,g);for(let O=w;O<C.length;O++)g.push(C[O])}else g=[],gv(d,g);return g}function gv(t,e){for(let i=0;i<t.length;i++)e.push((0,t[i])());return e}function Sw(t,e=[]){return i=>{i.providersResolver=(a,d)=>function(t,e,i){const a=Cr();if(a.firstCreatePass){const d=Mr(t);dv(i,a.data,a.blueprint,d,!0),dv(e,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,e)}}class Dw{}const xw="ngComponent";class eT{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${xe(t)}. Did you add it to @NgModule.entryComponents?`);return e[xw]=t,e}(e)}}class Md{}function Kg(...t){}function Nh(t,e){return new Jl(ro(t,e))}Md.NULL=new eT;const rT=function(){return Nh(Ai(),Jt())};let Jl=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=rT,t})();function Nw(t){return t instanceof Jl?t.nativeElement:t}class Yg{}let iT=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sT(),t})();const sT=function(){const t=Jt(),i=di(Ai().index,t);return function(t){return t[11]}(Kr(i)?i:t)};let vv=(()=>{class t{}return t.\u0275prov=jt({token:t,providedIn:"root",factory:()=>null}),t})();class Mw{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yv=new Mw("11.2.14");class Ow{constructor(){}supports(e){return Ze(e)}create(e){return new lT(e)}}const cT=(t,e)=>e;class lT{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cT}forEachItem(e){let i;for(i=this._itHead;null!==i;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,a=this._removalsHead,d=0,g=null;for(;i||a;){const w=!a||i&&i.currentIndex<kw(a,d,g)?i:a,C=kw(w,d,g),O=w.currentIndex;if(w===a)d--,a=a._nextRemoved;else if(i=i._next,null==w.previousIndex)d++;else{g||(g=[]);const q=C-d,se=O-d;if(q!=se){for(let Ne=0;Ne<q;Ne++){const tt=Ne<g.length?g[Ne]:g[Ne]=0,mt=tt+Ne;se<=mt&&mt<q&&(g[Ne]=tt+1)}g[w.previousIndex]=se-q}}C!==O&&e(w,C,O)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)e(i)}diff(e){if(null==e&&(e=[]),!Ze(e))throw new Error(`Error trying to diff '${xe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let d,g,w,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(let C=0;C<this.length;C++)g=e[C],w=this._trackByFn(C,g),null!==i&&Object.is(i.trackById,w)?(a&&(i=this._verifyReinsertion(i,g,w,C)),Object.is(i.item,g)||this._addIdentityChange(i,g)):(i=this._mismatch(i,g,w,C),a=!0),i=i._next}else d=0,function(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[H()]();let a;for(;!(a=i.next()).done;)e(a.value)}}(e,C=>{w=this._trackByFn(d,C),null!==i&&Object.is(i.trackById,w)?(a&&(i=this._verifyReinsertion(i,C,w,d)),Object.is(i.item,C)||this._addIdentityChange(i,C)):(i=this._mismatch(i,C,w,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,a,d){let g;return null===e?g=this._itTail:(g=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,g,d)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,g,d)):e=this._addAfter(new fT(i,a),g,d),e}_verifyReinsertion(e,i,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?e=this._reinsertAfter(g,e._prev,d):e.currentIndex!=d&&(e.currentIndex=d,this._addToMoves(e,d)),e}_truncate(e){for(;null!==e;){const i=e._next;this._addToRemovals(this._unlink(e)),e=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const d=e._prevRemoved,g=e._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(e,i,a),this._addToMoves(e,a),e}_moveAfter(e,i,a){return this._unlink(e),this._insertAfter(e,i,a),this._addToMoves(e,a),e}_addAfter(e,i,a){return this._insertAfter(e,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,i,a){const d=null===i?this._itHead:i._next;return e._next=d,e._prev=i,null===d?this._itTail=e:d._prev=e,null===i?this._itHead=e:i._next=e,null===this._linkedRecords&&(this._linkedRecords=new Pw),this._linkedRecords.put(e),e.currentIndex=a,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const i=e._prev,a=e._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class fT{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dT{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,e))return a;return null}remove(e){const i=e._prevDup,a=e._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Pw{constructor(){this.map=new Map}put(e){const i=e.trackById;let a=this.map.get(i);a||(a=new dT,this.map.set(i,a)),a.add(e)}get(e,i){const d=this.map.get(e);return d?d.get(e,i):null}remove(e){const i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kw(t,e,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+e+d}class Fw{constructor(){}supports(e){return e instanceof Map||ni(e)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let i;for(i=this._mapHead;null!==i;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}diff(e){if(e){if(!(e instanceof Map||ni(e)))throw new Error(`Error trying to diff '${xe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const g=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,g)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){const a=e._prev;return i._next=e,i._prev=a,e._prev=i,a&&(a._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){const d=this._records.get(e);this._maybeAddToChanges(d,i);const g=d._prev,w=d._next;return g&&(g._next=w),w&&(w._prev=g),d._next=null,d._prev=null,d}const a=new pT(e);return this._records.set(e,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(a=>i(e[a],a))}}class pT{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lw(){return new Zg([new Ow])}let Zg=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Lw()),deps:[[t,new ga,new po]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'`)}}return t.\u0275prov=jt({token:t,providedIn:"root",factory:Lw}),t})();function Vw(){return new Qg([new Fw])}let Qg=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Vw()),deps:[[t,new ga,new po]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return t.\u0275prov=jt({token:t,providedIn:"root",factory:Vw}),t})();function Jg(t,e,i,a,d=!1){for(;null!==i;){const g=e[i.index];if(null!==g&&a.push(xr(g)),Zi(g))for(let C=10;C<g.length;C++){const O=g[C],q=O[1].firstChild;null!==q&&Jg(O[1],O,q,a)}const w=i.type;if(8&w)Jg(t,e,i.child,a);else if(32&w){const C=ql(i,e);let O;for(;O=C();)a.push(O)}else if(16&w){const C=c(e,i);if(Array.isArray(C))a.push(...C);else{const O=Ic(e[16]);Jg(O[1],O,C,a,!0)}}i=d?i.projectionNext:i.next}return a}class Fp{constructor(e,i){this._lView=e,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,i=e[1];return Jg(i,e,i.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Zi(e)){const i=e[8],a=i?i.indexOf(this):-1;a>-1&&(J(e,a),Ra(i,a))}this._attachedToViewContainer=!1}be(this._lView[1],this._lView)}onDestroy(e){Qd(this._lView[1],this._lView,null,e)}markForCheck(){Cd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,i){as(!0);try{qc(t,e,i)}finally{as(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,P(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class mT extends Fp{constructor(e){super(e),this._view=e}detectChanges(){Td(this._view)}checkNoChanges(){!function(t){as(!0);try{Td(t)}finally{as(!1)}}(this._view)}get context(){return null}}const yT=Uw;let _T=(()=>{class t{}return t.__NG_ELEMENT_ID__=yT,t.__ChangeDetectorRef__=!0,t})();function Uw(t=!1){return function(t,e,i){if(!i&&wo(t)){const d=di(t.index,e);return new Fp(d,d)}return 47&t.type?new Fp(e[16],e):null}(Ai(),Jt(),t)}const bT=[new Fw],CT=new Zg([new Ow]),TT=new Qg(bT),AT=function(){return Xg(Ai(),Jt())};let Lp=(()=>{class t{}return t.__NG_ELEMENT_ID__=AT,t})();const ST=Lp,DT=class extends ST{constructor(e,i,a){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=a}createEmbeddedView(e){const i=this._declarationTContainer.tViews,a=Yl(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(a[19]=g.createEmbeddedView(i)),_d(i,a,e),new Fp(a)}};function Xg(t,e){return 4&t.type?new DT(e,t,Nh(t,e)):null}class Od{}class jw{}const NT=function(){return Gw(Ai(),Jt())};let em=(()=>{class t{}return t.__NG_ELEMENT_ID__=NT,t})();const OT=em,Bw=class extends OT{constructor(e,i,a){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=a}get element(){return Nh(this._hostTNode,this._hostLView)}get injector(){return new Ka(this._hostTNode,this._hostLView)}get parentInjector(){const e=ut(this._hostTNode,this._hostLView);if(wa(e)){const i=_s(e,this._hostLView),a=ho(e);return new Ka(i[1].data[a+8],i)}return new Ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const i=Hw(this._lContainer);return null!==i&&i[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,i,a){const d=e.createEmbeddedView(i||{});return this.insert(d,a),d}createComponent(e,i,a,d,g){const w=a||this.parentInjector;if(!g&&null==e.ngModule&&w){const O=w.get(Od,null);O&&(g=O)}const C=e.create(w,d,void 0,g);return this.insert(C.hostView,i),C}insert(e,i){const a=e._lView,d=a[1];if(Zi(a[3])){const se=this.indexOf(e);if(-1!==se)this.detach(se);else{const Ee=a[3],Ne=new Bw(Ee,Ee[6],Ee[3]);Ne.detach(Ne.indexOf(e))}}const g=this._adjustIndex(i),w=this._lContainer;!function(t,e,i,a){const d=10+a,g=i.length;a>0&&(i[d-1][4]=e),a<g-10?(e[4]=i[d],gs(i,10+a,e)):(i.push(e),e[4]=null),e[3]=i;const w=e[17];null!==w&&i!==w&&function(t,e){const i=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===i?t[9]=[e]:i.push(e)}(w,e);const C=e[19];null!==C&&C.insertView(t),e[2]|=128}(d,a,w,g);const C=p(g,w),O=a[11],q=qr(O,w[7]);return null!==q&&function(t,e,i,a,d,g){a[0]=d,a[6]=e,P(t,a,i,1,d,g)}(d,w[6],O,a,q,C),e.attachToViewContainerRef(),gs(_v(w),g,e),e}move(e,i){return this.insert(e,i)}indexOf(e){const i=Hw(this._lContainer);return null!==i?i.indexOf(e):-1}remove(e){const i=this._adjustIndex(e,-1),a=J(this._lContainer,i);a&&(Ra(_v(this._lContainer),i),be(a[1],a))}detach(e){const i=this._adjustIndex(e,-1),a=J(this._lContainer,i);return a&&null!=Ra(_v(this._lContainer),i)?new Fp(a):null}_adjustIndex(e,i=0){return null==e?this.length+i:e}};function Hw(t){return t[8]}function _v(t){return t[8]||(t[8]=[])}function Gw(t,e){let i;const a=e[t.index];if(Zi(a))i=a;else{let d;if(8&t.type)d=xr(a);else{const g=e[11];d=g.createComment("");const w=ro(t,e);mn(g,qr(g,w),d,function(t,e){return Jn(t)?t.nextSibling(e):e.nextSibling}(g,w),!1)}e[t.index]=i=nh(a,e,d,t),Xf(e,i)}return new Bw(i,t,e)}const kh={};class c0 extends Md{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const i=Ri(e);return new f0(i,this.ngModule)}}function l0(t){const e=[];for(let i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}const RI=new Io("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vu});class f0 extends Dw{constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=e.selectors.map(_m).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return l0(this.componentDef.inputs)}get outputs(){return l0(this.componentDef.outputs)}create(e,i,a,d){const g=(d=d||this.ngModule)?function(t,e){return{get:(i,a,d)=>{const g=t.get(i,kh,d);return g!==kh||a===kh?g:e.get(i,a,d)}}}(e,d.injector):e,w=g.get(Yg,oi),C=g.get(vv,null),O=w.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",se=a?function(t,e,i){if(Jn(t))return t.selectRootElement(e,i===tr.ShadowDom);let a="string"==typeof e?t.querySelector(e):e;return a.textContent="",a}(O,a,this.componentDef.encapsulation):$l(w.createRenderer(null,this.componentDef),q,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(q)),Ee=this.componentDef.onPush?576:528,Ne=function(t,e){return{components:[],scheduler:t||Vu,clean:ih,playerHandler:e||null,flags:0}}(),tt=Qf(0,null,null,1,0,null,null,null,null,null),mt=Yl(null,tt,Ne,Ee,null,null,w,O,C,g);let Gt,Mt;mo(mt);try{const Rn=function(t,e,i,a,d,g){const w=i[1];i[20]=t;const O=yf(w,20,2,"#host",null),q=O.mergedAttrs=e.hostAttrs;null!==q&&(oh(O,q,!0),null!==t&&(za(d,t,q),null!==O.classes&&kt(d,t,O.classes),null!==O.styles&&it(d,t,O.styles)));const se=a.createRenderer(t,e),Ee=Yl(i,Yd(e),null,e.onPush?64:16,i[20],O,a,se,g||null,null);return w.firstCreatePass&&($t(oe(O,i),w,e.type),Cg(w,O),eh(O,i.length,1)),Xf(i,Ee),i[20]=Ee}(se,this.componentDef,mt,w,O);if(se)if(a)za(O,se,["ng-version",yv.full]);else{const{attrs:cn,classes:Ir}=function(t){const e=[],i=[];let a=1,d=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===d?""!==g&&e.push(g,t[++a]):8===d&&i.push(g);else{if(!ci(d))break;d=g}a++}return{attrs:e,classes:i}}(this.componentDef.selectors[0]);cn&&za(O,se,cn),Ir&&Ir.length>0&&kt(O,se,Ir.join(" "))}if(Mt=Fi(tt,20),void 0!==i){const cn=Mt.projection=[];for(let Ir=0;Ir<this.ngContentSelectors.length;Ir++){const Mi=i[Ir];cn.push(null!=Mi?Array.from(Mi):null)}}Gt=function(t,e,i,a,d){const g=i[1],w=function(t,e,i){const a=Ai();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),th(t,a,e,Zf(t,e,1,null),i));const d=ra(e,t,a.directiveStart,a);ms(d,e);const g=ro(a,e);return g&&ms(g,e),d}(g,i,e);if(a.components.push(w),t[8]=w,d&&d.forEach(O=>O(w,e)),e.contentQueries){const O=Ai();e.contentQueries(1,w,O.directiveStart)}const C=Ai();return!g.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ts(C.index),Jd(i[1],C,0,C.directiveStart,C.directiveEnd,e),Eg(e,w)),w}(Rn,this.componentDef,mt,Ne,[Rp]),_d(tt,mt,null)}finally{ya()}return new MI(this.componentType,Gt,Nh(Mt,mt),mt,Mt)}}class MI extends class{}{constructor(e,i,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.instance=i,this.hostView=this.changeDetectorRef=new mT(d),this.componentType=e}get injector(){return new Ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Fh=new Map;class PI extends Od{constructor(e,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new c0(this);const a=qi(e),d=e[ur]||null;d&&cv(d),this._bootstrapComponents=cs(a.bootstrap),this._r3Injector=Sg(e,i,[{provide:Od,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],xe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,i=Lo.THROW_IF_NOT_FOUND,a=nn.Default){return e===Lo||e===Od||e===td?this:this._r3Injector.get(e,i,a)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Mv extends jw{constructor(e){super(),this.moduleType=e,null!==qi(e)&&function(t){const e=new Set;!function i(a){const d=qi(a,!0),g=d.id;null!==g&&(function(t,e,i){if(e&&e!==i)throw new Error(`Duplicate module registered for ${t} - ${xe(e)} vs ${xe(e.name)}`)}(g,Fh.get(g),a),Fh.set(g,a));const w=cs(d.imports);for(const C of w)e.has(C)||(e.add(C),i(C))}(t)}(e)}create(e){return new PI(this.moduleType,e)}}function p0(t,e,i,a,d,g){const w=e+i;return _o(t,w,d)?function(t,e,i){return t[e]=i}(t,w+1,g?a.call(g,d):a(d)):function(t,e){const i=t[e];return i===Yr?void 0:i}(t,w+1)}function _0(t,e){const i=Cr();let a;const d=t+20;i.firstCreatePass?(a=function(t,e){if(e)for(let i=e.length-1;i>=0;i--){const a=e[i];if(t===a.name)return a}throw new at("302",`The pipe '${t}' could not be found!`)}(e,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(d,a.onDestroy)):a=i.data[d];const g=a.factory||(a.factory=ge(a.type)),w=ln(xp);try{const C=Da(!1),O=g();return Da(C),function(t,e,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=a}(i,Jt(),d,O),O}finally{ln(w)}}function w0(t,e,i){const a=t+20,d=Jt(),g=Er(d,a);return function(t,e){ve.isWrapped(e)&&(e=ve.unwrap(e),t[Xo()]=Yr);return e}(d,function(t,e){return t[1].data[e].pure}(d,a)?p0(d,function(){const t=hr.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,g.transform,i,g):g.transform(i))}function Ov(t){return e=>{setTimeout(t,void 0,e)}}const Xl=class extends E.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,i,a){var d,g,w;let C=e,O=i||(()=>null),q=a;if(e&&"object"==typeof e){const Ee=e;C=null===(d=Ee.next)||void 0===d?void 0:d.bind(Ee),O=null===(g=Ee.error)||void 0===g?void 0:g.bind(Ee),q=null===(w=Ee.complete)||void 0===w?void 0:w.bind(Ee)}this.__isAsync&&(O=Ov(O),C&&(C=Ov(C)),q&&(q=Ov(q)));const se=super.subscribe({next:C,error:O,complete:q});return e instanceof b.w&&e.add(se),se}};function QI(){return this._results[H()]()}class om{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=H(),a=om.prototype;a[i]||(a[i]=QI)}get changes(){return this._changes||(this._changes=new Xl)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){const a=this;a.dirty=!1;const d=ps(e);(this._changesDetected=!function(t,e,i){if(t.length!==e.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],g=e[a];if(i&&(d=i(d),g=i(g)),g!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class kv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const i=e.queries;if(null!==i){const a=null!==e.contentQueries?e.contentQueries[0]:i.length,d=[];for(let g=0;g<a;g++){const w=i.getByIndex(g);d.push(this.queries[w.indexInDeclarationView].clone())}return new kv(d)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)null!==D0(e,i).matches&&this.queries[i].setDirty()}}class b0{constructor(e,i,a=null){this.predicate=e,this.flags=i,this.read=a}}class Fv{constructor(e=[]){this.queries=e}elementStart(e,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,g=this.getByIndex(a).embeddedTView(e,d);g&&(g.indexInDeclarationView=a,null!==i?i.push(g):i=[g])}return null!==i?new Fv(i):null}template(e,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Lv{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new Lv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=e.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(e,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(e,i,eA(i,g)),this.matchTNodeWithReadOption(e,i,ws(i,e,g,!1,!1))}else a===Lp?4&i.type&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,ws(i,e,a,!1,!1))}matchTNodeWithReadOption(e,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Jl||d===em||d===Lp&&4&i.type)this.addMatch(i.index,-2);else{const g=ws(i,e,d,!1,!1);null!==g&&this.addMatch(i.index,g)}else this.addMatch(i.index,a)}}addMatch(e,i){null===this.matches?this.matches=[e,i]:this.matches.push(e,i)}}function eA(t,e){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===e)return i[a+1];return null}function nA(t,e,i,a){return-1===i?function(t,e){return 11&t.type?Nh(t,e):4&t.type?Xg(t,e):null}(e,t):-2===i?function(t,e,i){return i===Jl?Nh(e,t):i===Lp?Xg(e,t):i===em?Gw(e,t):void 0}(t,e,a):ra(t,t[1],i,e)}function E0(t,e,i,a){const d=e[19].queries[a];if(null===d.matches){const g=t.data,w=i.matches,C=[];for(let O=0;O<w.length;O+=2){const q=w[O];C.push(q<0?null:nA(e,g[q],w[O+1],i.metadata.read))}d.matches=C}return d.matches}function Vv(t,e,i,a){const d=t.queries.getByIndex(i),g=d.matches;if(null!==g){const w=E0(t,e,d,i);for(let C=0;C<g.length;C+=2){const O=g[C];if(O>0)a.push(w[C/2]);else{const q=g[C+1],se=e[-O];for(let Ee=10;Ee<se.length;Ee++){const Ne=se[Ee];Ne[17]===Ne[3]&&Vv(Ne[1],Ne,q,a)}if(null!==se[9]){const Ee=se[9];for(let Ne=0;Ne<Ee.length;Ne++){const tt=Ee[Ne];Vv(tt[1],tt,q,a)}}}}}return a}function C0(t){const e=Jt(),i=Cr(),a=vs();Rs(a+1);const d=D0(i,a);if(t.dirty&&co(e)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const g=d.crossesNgTemplate?Vv(i,e,a,[]):E0(i,e,d,a);t.reset(g,Nw),t.notifyOnChanges()}return!0}return!1}function T0(t,e,i,a){const d=Cr();if(d.firstCreatePass){const g=Ai();(function(t,e,i){null===t.queries&&(t.queries=new Fv),t.queries.track(new Lv(e,i))})(d,new b0(e,i,a),g.index),function(t,e){const i=t.contentQueries||(t.contentQueries=[]);e!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,e)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}!function(t,e,i){const a=new om(4==(4&i));Qd(t,e,a,a.destroy),null===e[19]&&(e[19]=new kv),e[19].queries.push(new Pv(a))}(d,Jt(),i)}function I0(){return t=Jt(),e=vs(),t[19].queries[e].queryList;var t,e}function D0(t,e){return t.queries.getByIndex(e)}function R0(t,e){return Xg(t,e)}function x0(t=nn.Default){const e=Uw(!0);if(null!=e||t&nn.Optional)return e;$e("ChangeDetectorRef")}const qv=new Io("Application Initializer");let Vh=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Kg,this.reject=Kg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const i=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();Xm(g)&&i.push(g)}Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(ft(qv,8))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();const K0=new Io("AppId"),OA={provide:K0,useFactory:function(){return`${Wv()}${Wv()}${Wv()}`},deps:[]};function Wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Y0=new Io("Platform Initializer"),Z0=new Io("Platform ID"),Q0=new Io("appBootstrapListener");let J0=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();const um=new Io("LocaleId"),X0=new Io("DefaultCurrencyCode");class kA{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}}const $v=function(t){return new Mv(t)},FA=$v,LA=function(t){return Promise.resolve($v(t))},eb=function(t){const e=$v(t),a=cs(qi(t).declarations).reduce((d,g)=>{const w=Ri(g);return w&&d.push(new f0(w)),d},[]);return new kA(e,a)},VA=eb,UA=function(t){return Promise.resolve(eb(t))};let Yp=(()=>{class t{constructor(){this.compileModuleSync=FA,this.compileModuleAsync=LA,this.compileModuleAndAllComponentsSync=VA,this.compileModuleAndAllComponentsAsync=UA}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();const HA=(()=>Promise.resolve(0))();function zv(t){"undefined"==typeof Zone?HA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Sc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xl(!1),this.onMicrotaskEmpty=new Xl(!1),this.onStable=new Xl(!1),this.onError=new Xl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let t=Ue.requestAnimationFrame,e=Ue.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=e[Zone.__symbol__("OriginalDelegate")];a&&(e=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ue,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yv(t),Kv(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,g,w,C)=>{try{return tb(t),i.invokeTask(d,g,w,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&e(),nb(t)}},onInvoke:(i,a,d,g,w,C,O)=>{try{return tb(t),i.invoke(d,g,w,C,O)}finally{t.shouldCoalesceRunChangeDetection&&e(),nb(t)}},onHasTask:(i,a,d,g)=>{i.hasTask(d,g),a===d&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Yv(t),Kv(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(i,a,d,g)=>(i.handleError(d,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Sc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,i,a){return this._inner.run(e,i,a)}runTask(e,i,a,d){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+d,e,qA,Kg,Kg);try{return g.runTask(w,i,a)}finally{g.cancelTask(w)}}runGuarded(e,i,a){return this._inner.runGuarded(e,i,a)}runOutsideAngular(e){return this._outer.run(e)}}const qA={};function Kv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nb(t){t._nesting--,Kv(t)}class zA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xl,this.onMicrotaskEmpty=new Xl,this.onStable=new Xl,this.onError=new Xl}run(e,i,a){return e.apply(i,a)}runGuarded(e,i,a){return e.apply(i,a)}runOutsideAngular(e){return e()}runTask(e,i,a,d){return e.apply(i,a)}}let rb=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sc.assertNotInAngularZone(),zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zv(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:g,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,a,d){return[]}}return t.\u0275fac=function(i){return new(i||t)(ft(Sc))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})(),ib=(()=>{class t{constructor(){this._applications=new Map,Zv.addToWindow(this)}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return Zv.findTestabilityInTree(this,i,a)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();class KA{addToWindow(e){}findTestabilityInTree(e,i,a){return null}}function YA(t){Zv=t}let Zv=new KA,ob=!0,sb=!1;function Qv(){return sb=!0,ob}function ZA(){if(sb)throw new Error("Cannot enable prod mode after platform setup.");ob=!1}let Sl;const ab=new Io("AllowMultipleToken");class rS{constructor(e,i){this.name=e,this.token=i}}function ub(t,e,i=[]){const a=`Platform: ${e}`,d=new Io(a);return(g=[])=>{let w=cb();if(!w||w.injector.get(ab,!1))if(t)t(i.concat(g).concat({provide:d,useValue:!0}));else{const C=i.concat(g).concat({provide:d,useValue:!0},{provide:nd,useValue:"platform"});!function(t){if(Sl&&!Sl.destroyed&&!Sl.injector.get(ab,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sl=t.get(lb);const e=t.get(Y0,null);e&&e.forEach(i=>i())}(Lo.create({providers:C,name:a}))}return function(t){const e=cb();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(d)}}function cb(){return Sl&&!Sl.destroyed?Sl:null}let lb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const C=function(t,e){let i;return i="noop"===t?new zA:("zone.js"===t?void 0:t)||new Sc({enableLongStackTrace:Qv(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),i}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),O=[{provide:Sc,useValue:C}];return C.run(()=>{const q=Lo.create({providers:O,parent:this.injector,name:i.moduleType.name}),se=i.create(q),Ee=se.injector.get(Ba,null);if(!Ee)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const Ne=C.onError.subscribe({next:tt=>{Ee.handleError(tt)}});se.onDestroy(()=>{Jv(this._modules,se),Ne.unsubscribe()})}),function(t,e,i){try{const a=i();return Xm(a)?a.catch(d=>{throw e.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw e.runOutsideAngular(()=>t.handleError(a)),a}}(Ee,C,()=>{const Ne=se.injector.get(Vh);return Ne.runInitializers(),Ne.donePromise.then(()=>(cv(se.injector.get(um,Gg)||Gg),this._moduleDoBootstrap(se),se))})})}bootstrapModule(i,a=[]){const d=fb({},a);return function(t,e,i){const a=new Mv(i);return Promise.resolve(a)}(0,0,i).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(i){const a=i.injector.get(Zp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${xe(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(ft(Lo))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();function fb(t,e){return Array.isArray(e)?e.reduce(fb,t):Object.assign(Object.assign({},t),e)}let Zp=(()=>{class t{constructor(i,a,d,g,w){this._zone=i,this._injector=a,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new j.y(q=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{q.next(this._stable),q.complete()})}),O=new j.y(q=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{Sc.assertNotInAngularZone(),zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,q.next(!0))})})});const Ee=this._zone.onUnstable.subscribe(()=>{Sc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{q.next(!1)}))});return()=>{se.unsubscribe(),Ee.unsubscribe()}});this.isStable=(0,L.T)(C,O.pipe(t=>(0,Je.x)()(function(t,e){return function(a){let d;d="function"==typeof t?t:function(){return t};const g=Object.create(a,Pe.N);return g.source=a,g.subjectFactory=d,g}}(Fe)(t))))}bootstrap(i,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=i instanceof Dw?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(d.componentType);const g=function(t){return t.isBoundToModule}(d)?void 0:this._injector.get(Od),C=d.create(Lo.NULL,[],a||d.selector,g),O=C.location.nativeElement,q=C.injector.get(rb,null),se=q&&C.injector.get(ib);return q&&se&&se.registerApplication(O,q),C.onDestroy(()=>{this.detachView(C.hostView),Jv(this.components,C),se&&se.unregisterApplication(O)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;Jv(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Q0,[]).concat(this._bootstrapListeners).forEach(d=>d(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(ft(Sc),ft(Lo),ft(Ba),ft(Md),ft(Vh))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();function Jv(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}class cS{}class fS{}const dS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hS=(()=>{class t{constructor(i,a){this._compiler=i,this._config=a||dS}load(i){return this.loadAndCompile(i)}loadAndCompile(i){let[a,d]=i.split("#");return void 0===d&&(d="default"),ie(8255)(a).then(g=>g[d]).then(g=>gb(g,a,d)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(i){let[a,d]=i.split("#"),g="NgFactory";return void 0===d&&(d="default",g=""),ie(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(w=>w[d+g]).then(w=>gb(w,a,d))}}return t.\u0275fac=function(i){return new(i||t)(ft(Yp),ft(fS,8))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();function gb(t,e,i){if(!t)throw new Error(`Cannot find '${i}' in '${e}'`);return t}const bS=function(t){return null},CS=ub(null,"core",[{provide:Z0,useValue:"unknown"},{provide:lb,deps:[Lo]},{provide:ib,deps:[]},{provide:J0,deps:[]}]),DS=[{provide:Zp,useClass:Zp,deps:[Sc,Lo,Ba,Md,Vh]},{provide:RI,deps:[Sc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(i){e.push(i)}}},{provide:Vh,useClass:Vh,deps:[[new po,qv]]},{provide:Yp,useClass:Yp,deps:[]},OA,{provide:Zg,useFactory:function(){return CT},deps:[]},{provide:Qg,useFactory:function(){return TT},deps:[]},{provide:um,useFactory:function(t){return cv(t=t||"undefined"!=typeof $localize&&$localize.locale||Gg),t},deps:[[new ks(um),new po,new ga]]},{provide:X0,useValue:"USD"}];let xS=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(ft(Zp))},t.\u0275mod=rr({type:t}),t.\u0275inj=Gn({providers:DS}),t})()},1562:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{zQ:()=>_t,Qv:()=>xn});var E=ie(3018),b=ie(9765),j=ie(5917),L=ie(7574),Pe=ie(4402),le=ie(6682),fe=ie(7771),Je=ie(5319),Fe=ie(309),k=ie(7971),Re=ie(8858);class Ye extends b.xQ{constructor(Ut=Number.POSITIVE_INFINITY,yn=Number.POSITIVE_INFINITY,un){super(),this.scheduler=un,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Ut<1?1:Ut,this._windowTime=yn<1?1:yn,yn===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Ut){if(!this.isStopped){const yn=this._events;yn.push(Ut),yn.length>this._bufferSize&&yn.shift()}super.next(Ut)}nextTimeWindow(Ut){this.isStopped||(this._events.push(new xe(this._getNow(),Ut)),this._trimBufferThenGetEvents()),super.next(Ut)}_subscribe(Ut){const yn=this._infiniteTimeWindow,un=yn?this._events:this._trimBufferThenGetEvents(),fn=this.scheduler,dn=un.length;let Zt;if(this.closed)throw new k.N;if(this.isStopped||this.hasError?Zt=Je.w.EMPTY:(this.observers.push(Ut),Zt=new Re.W(this,Ut)),fn&&Ut.add(Ut=new Fe.ht(Ut,fn)),yn)for(let _n=0;_n<dn&&!Ut.closed;_n++)Ut.next(un[_n]);else for(let _n=0;_n<dn&&!Ut.closed;_n++)Ut.next(un[_n].value);return this.hasError?Ut.error(this.thrownError):this.isStopped&&Ut.complete(),Zt}_getNow(){return(this.scheduler||fe.c).now()}_trimBufferThenGetEvents(){const Ut=this._getNow(),yn=this._bufferSize,un=this._windowTime,fn=this._events,dn=fn.length;let Zt=0;for(;Zt<dn&&!(Ut-fn[Zt].time<un);)Zt++;return dn>yn&&(Zt=Math.max(Zt,dn-yn)),Zt>0&&fn.splice(0,Zt),fn}}class xe{constructor(Ut,yn){this.time=Ut,this.value=yn}}function De(qt,Ut,yn){let un;return un=qt&&"object"==typeof qt?qt:{bufferSize:qt,windowTime:Ut,refCount:!1,scheduler:yn},fn=>fn.lift(function({bufferSize:qt=Number.POSITIVE_INFINITY,windowTime:Ut=Number.POSITIVE_INFINITY,refCount:yn,scheduler:un}){let fn,Zt,dn=0,_n=!1,$n=!1;return function(vt){let Et;dn++,!fn||_n?(_n=!1,fn=new Ye(qt,Ut,un),Et=fn.subscribe(this),Zt=vt.subscribe({next(Rt){fn.next(Rt)},error(Rt){_n=!0,fn.error(Rt)},complete(){$n=!0,Zt=void 0,fn.complete()}}),$n&&(Zt=void 0)):Et=fn.subscribe(this),this.add(()=>{dn--,Et.unsubscribe(),Et=void 0,Zt&&!$n&&yn&&0===dn&&(Zt.unsubscribe(),Zt=void 0,fn=void 0)})}}(un))}var je=ie(3190);function nt(qt,Ut){return Ut?(0,je.w)(()=>qt,Ut):(0,je.w)(()=>qt)}var Me=ie(8002),Ve=ie(8049),at=ie(3101),At=ie(5435),It=ie(57),bt=ie(8583);const xn=new E.OlP("angularfire2.auth.use-emulator"),Wn=new E.OlP("angularfire2.auth.settings"),ke=new E.OlP("angularfire2.auth.tenant-id"),$e=new E.OlP("angularfire2.auth.langugage-code"),ce=new E.OlP("angularfire2.auth.use-device-language"),rt=new E.OlP("angularfire.auth.persistence");let _t=(()=>{class qt{constructor(yn,un,fn,dn,Zt,_n,$n,vn,vt,Et){const Rt=new It.HU(dn),hn=(0,It.ss)(Rt),jt=new b.xQ,Un=(0,j.of)(void 0).pipe((0,Fe.QV)(Rt.outsideAngular),(0,je.w)(()=>dn.runOutsideAngular(()=>ie.e(952).then(ie.bind(ie,1952)))),(0,Me.U)(()=>(0,It.on)(yn,dn,un)),(0,Me.U)(Gn=>dn.runOutsideAngular(()=>{const bn=Zt,kn=_n;return(0,It.sI)(`${Gn.name}.auth`,"AngularFireAuth",Gn,()=>{const In=dn.runOutsideAngular(()=>Gn.auth());if(bn&&In.useEmulator(`http://${bn.join(":")}`),$n&&(In.tenantId=$n),In.languageCode=vn,vt&&In.useDeviceLanguage(),kn)for(const[Ct,He]of Object.entries(kn))In.settings[Ct]=He;return Et&&In.setPersistence(Et),In},[bn,$n,vn,vt,kn,Et])})),De({bufferSize:1,refCount:!1}));if((0,bt.PM)(fn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{Un.pipe((0,Ve.P)()).subscribe();const bn=Un.pipe((0,je.w)(He=>He.getRedirectResult().then(qe=>qe,()=>null)),hn,De({bufferSize:1,refCount:!1})),kn=He=>new L.y(qe=>({unsubscribe:dn.runOutsideAngular(()=>He(qe))})),In=Un.pipe((0,je.w)(He=>kn(He.onAuthStateChanged.bind(He)))),Ct=Un.pipe((0,je.w)(He=>kn(He.onIdTokenChanged.bind(He))));this.authState=bn.pipe(nt(In),(0,at.R)(Rt.outsideAngular),(0,Fe.QV)(Rt.insideAngular)),this.user=bn.pipe(nt(Ct),(0,at.R)(Rt.outsideAngular),(0,Fe.QV)(Rt.insideAngular)),this.idToken=this.user.pipe((0,je.w)(He=>He?(0,Pe.D)(He.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,je.w)(He=>He?(0,Pe.D)(He.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,le.T)(bn,jt,this.authState.pipe((0,At.h)(He=>!He))).pipe((0,Me.U)(He=>(null==He?void 0:He.user)?He:null),(0,at.R)(Rt.outsideAngular),(0,Fe.QV)(Rt.insideAngular))}return(0,It.pX)(this,Un,dn,{spy:{apply:(Gn,bn,kn)=>{(Gn.startsWith("signIn")||Gn.startsWith("createUser"))&&kn.then(In=>jt.next(In))}}})}}return qt.\u0275fac=function(yn){return new(yn||qt)(E.LFG(It.Dh),E.LFG(It.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(xn,8),E.LFG(Wn,8),E.LFG(ke,8),E.LFG($e,8),E.LFG(ce,8),E.LFG(rt,8))},qt.\u0275prov=E.Yz7({factory:function(){return new qt(E.LFG(It.Dh),E.LFG(It.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(xn,8),E.LFG(Wn,8),E.LFG(ke,8),E.LFG($e,8),E.LFG(ce,8),E.LFG(rt,8))},token:qt,providedIn:"any"}),qt})()},21:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{ST:()=>$n});var E=ie(3018),b=ie(3637),j=ie(7574),L=ie(4402),Pe=ie(5917),le=ie(7393);function fe(){return vt=>vt.lift(new Je)}class Je{call(Et,Rt){return Rt.subscribe(new Fe(Et))}}class Fe extends le.L{constructor(Et){super(Et),this.hasPrev=!1}_next(Et){let Rt;this.hasPrev?Rt=[this.prev,Et]:this.hasPrev=!0,this.prev=Et,Rt&&this.destination.next(Rt)}}class Re{constructor(Et,Rt){this.compare=Et,this.keySelector=Rt}call(Et,Rt){return Rt.subscribe(new Ye(Et,this.compare,this.keySelector))}}class Ye extends le.L{constructor(Et,Rt,hn){super(Et),this.keySelector=hn,this.hasKey=!1,"function"==typeof Rt&&(this.compare=Rt)}compare(Et,Rt){return Et===Rt}_next(Et){let Rt;try{const{keySelector:jt}=this;Rt=jt?jt(Et):Et}catch(jt){return this.destination.error(jt)}let hn=!1;if(this.hasKey)try{const{compare:jt}=this;hn=jt(this.key,Rt)}catch(jt){return this.destination.error(jt)}else this.hasKey=!0;hn||(this.key=Rt,this.destination.next(Et))}}var xe=ie(9761),De=ie(8002),st=ie(2145),je=ie(5435),nt=ie(309),Me=ie(57),Ve=ie(8583),at=ie(2329),It=(ie(5171),ie(1562));function tn(vt,Et){return function(vt,Et=b.z){return new j.y(Rt=>{let hn;return null!=Et?Et.schedule(()=>{hn=vt.onSnapshot({includeMetadataChanges:!0},Rt)}):hn=vt.onSnapshot({includeMetadataChanges:!0},Rt),()=>{null!=hn&&hn()}})}(vt,Et)}function Wn(vt,Et){return tn(vt,Et).pipe((0,De.U)(Rt=>({payload:Rt,type:"query"})))}function ke(vt,Et){return Wn(vt,Et).pipe((0,xe.O)(void 0),fe(),(0,De.U)(([Rt,hn])=>{const jt=hn.payload.docChanges(),Un=jt.map(Gn=>({type:Gn.type,payload:Gn}));return Rt&&JSON.stringify(Rt.payload.metadata)!==JSON.stringify(hn.payload.metadata)&&hn.payload.docs.forEach((Gn,bn)=>{const kn=jt.find(Ct=>Ct.doc.ref.isEqual(Gn.ref)),In=null==Rt?void 0:Rt.payload.docs.find(Ct=>Ct.ref.isEqual(Gn.ref));kn&&JSON.stringify(kn.doc.metadata)===JSON.stringify(Gn.metadata)||!kn&&In&&JSON.stringify(In.metadata)===JSON.stringify(Gn.metadata)||Un.push({type:"modified",payload:{oldIndex:bn,newIndex:bn,type:"modified",doc:Gn}})}),Un}))}function $e(vt,Et,Rt){return ke(vt,Rt).pipe((0,st.R)((hn,jt)=>function(vt,Et,Rt){return Et.forEach(hn=>{Rt.indexOf(hn.type)>-1&&(vt=function(vt,Et){switch(Et.type){case"added":if(!vt[Et.newIndex]||!vt[Et.newIndex].doc.ref.isEqual(Et.doc.ref))return rt(vt,Et.newIndex,0,Et);break;case"modified":if(null==vt[Et.oldIndex]||vt[Et.oldIndex].doc.ref.isEqual(Et.doc.ref)){if(Et.oldIndex!==Et.newIndex){const Rt=vt.slice();return Rt.splice(Et.oldIndex,1),Rt.splice(Et.newIndex,0,Et),Rt}return rt(vt,Et.newIndex,1,Et)}break;case"removed":if(vt[Et.oldIndex]&&vt[Et.oldIndex].doc.ref.isEqual(Et.doc.ref))return rt(vt,Et.oldIndex,1)}return vt}(vt,hn))}),vt}(hn,jt.map(Un=>Un.payload),Et),[]),Rt=>Rt.lift(new Re(void 0,void 0)),(0,De.U)(hn=>hn.map(jt=>({type:jt.type,payload:jt}))))}function rt(vt,Et,Rt,...hn){const jt=vt.slice();return jt.splice(Et,Rt,...hn),jt}function lt(vt){return(!vt||0===vt.length)&&(vt=["added","removed","modified"]),vt}class qt{constructor(Et,Rt,hn){this.ref=Et,this.query=Rt,this.afs=hn}stateChanges(Et){let Rt=ke(this.query,this.afs.schedulers.outsideAngular);return Et&&Et.length>0&&(Rt=Rt.pipe((0,De.U)(hn=>hn.filter(jt=>Et.indexOf(jt.type)>-1)))),Rt.pipe((0,xe.O)(void 0),fe(),(0,je.h)(([hn,jt])=>jt.length>0||!hn),(0,De.U)(([hn,jt])=>jt),this.afs.keepUnstableUntilFirst)}auditTrail(Et){return this.stateChanges(Et).pipe((0,st.R)((Rt,hn)=>[...Rt,...hn],[]))}snapshotChanges(Et){const Rt=lt(Et);return $e(this.query,Rt,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(Et={}){return Wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.U)(Rt=>Rt.payload.docs.map(hn=>Et.idField?Object.assign(Object.assign({},hn.data()),{[Et.idField]:hn.id}):hn.data())),this.afs.keepUnstableUntilFirst)}get(Et){return(0,L.D)(this.query.get(Et)).pipe((0,nt.QV)(this.afs.schedulers.insideAngular))}add(Et){return this.ref.add(Et)}doc(Et){return new Ut(this.ref.doc(Et),this.afs)}}class Ut{constructor(Et,Rt){this.ref=Et,this.afs=Rt}set(Et,Rt){return this.ref.set(Et,Rt)}update(Et){return this.ref.update(Et)}delete(){return this.ref.delete()}collection(Et,Rt){const hn=this.ref.collection(Et),{ref:jt,query:Un}=_n(hn,Rt);return new qt(jt,Un,this.afs)}snapshotChanges(){return(vt=this.ref,Et=this.afs.schedulers.outsideAngular,tn(vt,Et).pipe((0,xe.O)(void 0),fe(),(0,De.U)(([Rt,hn])=>hn.exists?(null==Rt?void 0:Rt.exists)?{payload:hn,type:"modified"}:{payload:hn,type:"added"}:{payload:hn,type:"removed"}))).pipe(this.afs.keepUnstableUntilFirst);var vt,Et}valueChanges(Et={}){return this.snapshotChanges().pipe((0,De.U)(({payload:Rt})=>Et.idField?Object.assign(Object.assign({},Rt.data()),{[Et.idField]:Rt.id}):Rt.data()))}get(Et){return(0,L.D)(this.ref.get(Et)).pipe((0,nt.QV)(this.afs.schedulers.insideAngular))}}class yn{constructor(Et,Rt){this.query=Et,this.afs=Rt}stateChanges(Et){return Et&&0!==Et.length?ke(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.U)(Rt=>Rt.filter(hn=>Et.indexOf(hn.type)>-1)),(0,je.h)(Rt=>Rt.length>0),this.afs.keepUnstableUntilFirst):ke(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(Et){return this.stateChanges(Et).pipe((0,st.R)((Rt,hn)=>[...Rt,...hn],[]))}snapshotChanges(Et){const Rt=lt(Et);return $e(this.query,Rt,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(Et={}){return Wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.U)(hn=>hn.payload.docs.map(jt=>Et.idField?Object.assign({[Et.idField]:jt.id},jt.data()):jt.data())),this.afs.keepUnstableUntilFirst)}get(Et){return(0,L.D)(this.query.get(Et)).pipe((0,nt.QV)(this.afs.schedulers.insideAngular))}}const un=new E.OlP("angularfire2.enableFirestorePersistence"),fn=new E.OlP("angularfire2.firestore.persistenceSettings"),dn=new E.OlP("angularfire2.firestore.settings"),Zt=new E.OlP("angularfire2.firestore.use-emulator");function _n(vt,Et=(Rt=>Rt)){return{query:Et(vt),ref:vt}}let $n=(()=>{class vt{constructor(Rt,hn,jt,Un,Gn,bn,kn,In,Ct){this.schedulers=new Me.HU(bn),this.keepUnstableUntilFirst=(0,Me.ss)(this.schedulers);const He=(0,Me.on)(Rt,bn,hn);!at.Z.auth&&Ct&&(0,Me.yq)();const qe=In;[this.firestore,this.persistenceEnabled$]=(0,Me.sI)(`${He.name}.firestore`,"AngularFirestore",He,()=>{const Nt=bn.runOutsideAngular(()=>He.firestore());if(Un&&Nt.settings(Un),qe&&Nt.useEmulator(...qe),jt&&!(0,Ve.PM)(Gn)){const Tt=()=>{try{return(0,L.D)(Nt.enablePersistence(kn||void 0).then(()=>!0,()=>!1))}catch(Tn){return"undefined"!=typeof console&&console.warn(Tn),(0,Pe.of)(!1)}};return[Nt,bn.runOutsideAngular(Tt)]}return[Nt,(0,Pe.of)(!1)]},[Un,qe,jt])}collection(Rt,hn){let jt;jt="string"==typeof Rt?this.firestore.collection(Rt):Rt;const{ref:Un,query:Gn}=_n(jt,hn),bn=this.schedulers.ngZone.run(()=>Un);return new qt(bn,Gn,this)}collectionGroup(Rt,hn){const jt=hn||(Gn=>Gn),Un=this.firestore.collectionGroup(Rt);return new yn(jt(Un),this)}doc(Rt){let hn;hn="string"==typeof Rt?this.firestore.doc(Rt):Rt;const jt=this.schedulers.ngZone.run(()=>hn);return new Ut(jt,this)}createId(){return this.firestore.collection("_").doc().id}}return vt.\u0275fac=function(Rt){return new(Rt||vt)(E.LFG(Me.Dh),E.LFG(Me.xv,8),E.LFG(un,8),E.LFG(dn,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(fn,8),E.LFG(Zt,8),E.LFG(It.Qv,8))},vt.\u0275prov=E.Yz7({factory:function(){return new vt(E.LFG(Me.Dh),E.LFG(Me.xv,8),E.LFG(un,8),E.LFG(dn,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(fn,8),E.LFG(Zt,8),E.LFG(It.Qv,8))},token:vt,providedIn:"any"}),vt})()},3194:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{Q1:()=>bt,TE:()=>Wn});var E=ie(7574),b=ie(5917),j=ie(4402),L=ie(7393),Pe=ie(3637);class fe{constructor($e,ce){this.dueTime=$e,this.scheduler=ce}call($e,ce){return ce.subscribe(new Je($e,this.dueTime,this.scheduler))}}class Je extends L.L{constructor($e,ce,rt){super($e),this.dueTime=ce,this.scheduler=rt,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next($e){this.clearDebounce(),this.lastValue=$e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Fe,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:$e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next($e)}}clearDebounce(){const $e=this.debouncedSubscription;null!==$e&&(this.remove($e),$e.unsubscribe(),this.debouncedSubscription=null)}}function Fe(ke){ke.debouncedNext()}var k=ie(8002),Re=ie(309),Ye=ie(3190),xe=ie(3018),De=ie(57);function Me(ke){const $e=function(ke){return new E.y($e=>{const ce=qt=>$e.next(qt);ce(ke.snapshot);const lt=ke.on("state_changed",ce);return ke.then(qt=>{ce(qt),$e.complete()},qt=>{ce(ke.snapshot),(qt=>{$e.error(qt)})(qt)}),function(){lt()}}).pipe(function(ke,$e=Pe.P){return ce=>ce.lift(new fe(ke,$e))}(0))}(ke);return{task:ke,then:ke.then.bind(ke),catch:ke.catch.bind(ke),pause:ke.pause.bind(ke),cancel:ke.cancel.bind(ke),resume:ke.resume.bind(ke),snapshotChanges:()=>$e,percentageChanges:()=>$e.pipe((0,k.U)(ce=>ce.bytesTransferred/ce.totalBytes*100))}}function Ve(ke,$e,ce){return{getDownloadURL:()=>(0,b.of)(void 0).pipe((0,Re.QV)($e.outsideAngular),(0,Ye.w)(()=>ke.getDownloadURL()),ce),getMetadata:()=>(0,b.of)(void 0).pipe((0,Re.QV)($e.outsideAngular),(0,Ye.w)(()=>ke.getMetadata()),ce),delete:()=>(0,j.D)(ke.delete()),child:rt=>Ve(ke.child(rt),$e,ce),updateMetadata:rt=>(0,j.D)(ke.updateMetadata(rt)),put:(rt,_t)=>Me(ke.put(rt,_t)),putString:(rt,_t,lt)=>Me(ke.putString(rt,_t,lt)),listAll:()=>(0,j.D)(ke.listAll())}}ie(990),ie(8583);const at=new xe.OlP("angularfire2.storageBucket"),At=new xe.OlP("angularfire2.storage.maxUploadRetryTime"),It=new xe.OlP("angularfire2.storage.maxOperationRetryTime");let bt=(()=>{class ke{constructor(ce,rt,_t,lt,qt,Ut,yn){this.schedulers=new De.HU(qt),this.keepUnstableUntilFirst=(0,De.ss)(this.schedulers);const un=(0,De.on)(ce,qt,rt);this.storage=(0,De.sI)(`${un.name}.storage.${_t}`,"AngularFireStorage",un,()=>{const fn=qt.runOutsideAngular(()=>un.storage(_t||void 0));return Ut&&fn.setMaxUploadRetryTime(Ut),yn&&fn.setMaxOperationRetryTime(yn),fn},[Ut,yn])}ref(ce){return Ve(this.storage.ref(ce),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(ce){return Ve(this.storage.refFromURL(ce),this.schedulers,this.keepUnstableUntilFirst)}upload(ce,rt,_t){return Ve(this.storage.ref(ce),this.schedulers,this.keepUnstableUntilFirst).put(rt,_t)}}return ke.\u0275fac=function(ce){return new(ce||ke)(xe.LFG(De.Dh),xe.LFG(De.xv,8),xe.LFG(at,8),xe.LFG(xe.Lbi),xe.LFG(xe.R0b),xe.LFG(At,8),xe.LFG(It,8))},ke.\u0275prov=xe.Yz7({factory:function(){return new ke(xe.LFG(De.Dh),xe.LFG(De.xv,8),xe.LFG(at,8),xe.LFG(xe.Lbi),xe.LFG(xe.R0b),xe.LFG(At,8),xe.LFG(It,8))},token:ke,providedIn:"any"}),ke})(),xn=(()=>{class ke{}return ke.\u0275fac=function(ce){return new(ce||ke)},ke.\u0275mod=xe.oAB({type:ke}),ke.\u0275inj=xe.cJS({}),ke})(),Wn=(()=>{class ke{}return ke.\u0275fac=function(ce){return new(ce||ke)},ke.\u0275mod=xe.oAB({type:ke}),ke.\u0275inj=xe.cJS({providers:[bt],imports:[xn]}),ke})()},57:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{hO:()=>Wn,xv:()=>nt,Dh:()=>je,HU:()=>Re,GT:()=>st,sI:()=>tn,on:()=>at,ss:()=>Ye,pX:()=>De,yq:()=>At});var E=ie(7771),b=ie(3637),j=ie(3342),L=ie(3101),Pe=ie(309),le=ie(3018),fe=ie(2329);function Je(){}Mn=ie.hmd(Mn);class Fe{constructor($e,ce=E.N){this.zone=$e,this.delegate=ce}now(){return this.delegate.now()}schedule($e,ce,rt){const _t=this.zone;return this.delegate.schedule(function(qt){_t.runGuarded(()=>{$e.apply(this,[qt])})},ce,rt)}}class k{constructor($e){this.zone=$e,this.task=null}call($e,ce){const rt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je)),ce.pipe((0,j.b)({next:rt,complete:rt,error:rt})).subscribe($e).add(rt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Re{constructor($e){this.ngZone=$e,this.outsideAngular=$e.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=$e.run(()=>new Fe(Zone.current,b.z))}}function Ye(ke){return function(ce){return(ce=ce.lift(new k(ke.ngZone))).pipe((0,L.R)(ke.outsideAngular),(0,Pe.QV)(ke.insideAngular))}}const xe=["ngOnDestroy"],De=(ke,$e,ce,rt={})=>new Proxy(ke,{get:(_t,lt)=>ce.runOutsideAngular(()=>{var qt;if(ke[lt])return(null===(qt=null==rt?void 0:rt.spy)||void 0===qt?void 0:qt.get)&&rt.spy.get(lt,ke[lt]),ke[lt];if(xe.indexOf(lt)>-1)return()=>{};const Ut=$e.toPromise().then(yn=>{const un=yn&&yn[lt];return"function"==typeof un?un.bind(yn):un&&un.then?un.then(fn=>ce.run(()=>fn)):ce.run(()=>un)});return new Proxy(()=>{},{get:(yn,un)=>Ut[un],apply:(yn,un,fn)=>Ut.then(dn=>{var Zt;const _n=dn&&dn(...fn);return(null===(Zt=null==rt?void 0:rt.spy)||void 0===Zt?void 0:Zt.apply)&&rt.spy.apply(lt,fn,_n),_n})})})}),st=(ke,$e)=>{$e.forEach(ce=>{Object.getOwnPropertyNames(ce.prototype||ce).forEach(rt=>{Object.defineProperty(ke.prototype,rt,Object.getOwnPropertyDescriptor(ce.prototype||ce,rt))})})},je=new le.OlP("angularfire2.app.options"),nt=new le.OlP("angularfire2.app.nameOrConfig"),Ve=new le.GfV("6.1.5");function at(ke,$e,ce){const _t="object"==typeof ce&&ce||{};_t.name=_t.name||"string"==typeof ce&&ce||"[DEFAULT]";const qt=fe.Z.apps.filter(Ut=>Ut&&Ut.name===_t.name)[0]||$e.runOutsideAngular(()=>fe.Z.initializeApp(ke,_t));try{JSON.stringify(ke)!==JSON.stringify(qt.options)&&It("error",`${qt.name} Firebase App already initialized with different options${Mn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ut){}return qt}const At=()=>{It("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},It=(ke,...$e)=>{(0,le.X6Q)()&&"undefined"!=typeof console&&console[ke](...$e)};function tn(ke,$e,ce,rt,_t){const[lt,...qt]=globalThis.\u0275AngularfireInstanceCache.get(ke)||[];if(lt){try{_t.some((Ut,yn)=>{const un=qt[yn];return Ut&&"object"==typeof Ut?JSON.stringify(Ut)!==JSON.stringify(un):Ut!==un})&&It("error",`${$e} was already initialized on the ${ce.name} Firebase App instance with different settings.${Mn.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ut){}return lt}{const Ut=rt();return globalThis.\u0275AngularfireInstanceCache.set(ke,[Ut,..._t]),Ut}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const xn={provide:class{},useFactory:at,deps:[je,le.R0b,[new le.FiY,nt]]};let Wn=(()=>{class ke{constructor(ce){fe.Z.registerVersion("angularfire",Ve.full,ce.toString()),fe.Z.registerVersion("angular",le.q4F.full)}static initializeApp(ce,rt){return{ngModule:ke,providers:[{provide:je,useValue:ce},{provide:nt,useValue:rt}]}}}return ke.\u0275fac=function(ce){return new(ce||ke)(le.LFG(le.Lbi))},ke.\u0275mod=le.oAB({type:ke}),ke.\u0275inj=le.cJS({providers:[xn]}),ke})()},665:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{Fj:()=>nt,qu:()=>an,u:()=>zr,sg:()=>Qn,u5:()=>Ge,JU:()=>Re,JJ:()=>In,JL:()=>Ct,F:()=>ri,On:()=>Ki,YN:()=>Hr,wV:()=>Vn,UX:()=>dt,EJ:()=>er,kI:()=>bt,Y7:()=>on,$B:()=>wo});var E=ie(3018),b=ie(8583),j=ie(7574),L=ie(9796),Pe=ie(8002),le=ie(1555),fe=ie(4402);function Fe(Z,z){return new j.y(F=>{const ge=Z.length;if(0===ge)return void F.complete();const ne=new Array(ge);let ye=0,re=0;for(let Le=0;Le<ge;Le++){const St=(0,fe.D)(Z[Le]);let rn=!1;F.add(St.subscribe({next:On=>{rn||(rn=!0,re++),ne[Le]=On},error:On=>F.error(On),complete:()=>{ye++,(ye===ge||!rn)&&(re===ge&&F.next(z?z.reduce((On,br,Dr)=>(On[br]=ne[Dr],On),{}):ne),F.complete())}}))}})}class k{}const Re=new E.OlP("NgValueAccessor"),De={provide:Re,useExisting:(0,E.Gpc)(()=>nt),multi:!0},je=new E.OlP("CompositionEventMode");let nt=(()=>{class Z{constructor(F,ge,ne){this._renderer=F,this._elementRef=ge,this._compositionMode=ne,this.onChange=ye=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const Z=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(F){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==F?"":F)}registerOnChange(F){this.onChange=F}registerOnTouched(F){this.onTouched=F}setDisabledState(F){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(je,8))},Z.\u0275dir=E.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,ge){1&F&&E.NdJ("input",function(ye){return ge._handleInput(ye.target.value)})("blur",function(){return ge.onTouched()})("compositionstart",function(){return ge._compositionStart()})("compositionend",function(ye){return ge._compositionEnd(ye.target.value)})},features:[E._Bn([De])]}),Z})();function Me(Z){return null==Z||0===Z.length}function Ve(Z){return null!=Z&&"number"==typeof Z.length}const at=new E.OlP("NgValidators"),At=new E.OlP("NgAsyncValidators"),It=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bt{static min(z){return Z=z,z=>{if(Me(z.value)||Me(Z))return null;const F=parseFloat(z.value);return!isNaN(F)&&F<Z?{min:{min:Z,actual:z.value}}:null};var Z}static max(z){return Z=z,z=>{if(Me(z.value)||Me(Z))return null;const F=parseFloat(z.value);return!isNaN(F)&&F>Z?{max:{max:Z,actual:z.value}}:null};var Z}static required(z){return Me(z.value)?{required:!0}:null}static requiredTrue(z){return!0===z.value?null:{required:!0}}static email(z){return Me((Z=z).value)||It.test(Z.value)?null:{email:!0};var Z}static minLength(z){return Z=z,z=>Me(z.value)||!Ve(z.value)?null:z.value.length<Z?{minlength:{requiredLength:Z,actualLength:z.value.length}}:null;var Z}static maxLength(z){return Z=z,z=>Ve(z.value)&&z.value.length>Z?{maxlength:{requiredLength:Z,actualLength:z.value.length}}:null;var Z}static pattern(z){return function(Z){if(!Z)return lt;let z,F;return"string"==typeof Z?(F="","^"!==Z.charAt(0)&&(F+="^"),F+=Z,"$"!==Z.charAt(Z.length-1)&&(F+="$"),z=new RegExp(F)):(F=Z.toString(),z=Z),ge=>{if(Me(ge.value))return null;const ne=ge.value;return z.test(ne)?null:{pattern:{requiredPattern:F,actualValue:ne}}}}(z)}static nullValidator(z){return null}static compose(z){return Zt(z)}static composeAsync(z){return $n(z)}}function lt(Z){return null}function qt(Z){return null!=Z}function Ut(Z){const z=(0,E.QGY)(Z)?(0,fe.D)(Z):Z;return(0,E.CqO)(z),z}function yn(Z){let z={};return Z.forEach(F=>{z=null!=F?Object.assign(Object.assign({},z),F):z}),0===Object.keys(z).length?null:z}function un(Z,z){return z.map(F=>F(Z))}function dn(Z){return Z.map(z=>function(Z){return!Z.validate}(z)?z:F=>z.validate(F))}function Zt(Z){if(!Z)return null;const z=Z.filter(qt);return 0==z.length?null:function(F){return yn(un(F,z))}}function _n(Z){return null!=Z?Zt(dn(Z)):null}function $n(Z){if(!Z)return null;const z=Z.filter(qt);return 0==z.length?null:function(F){return function(...Z){if(1===Z.length){const z=Z[0];if((0,L.k)(z))return Fe(z,null);if((0,le.K)(z)&&Object.getPrototypeOf(z)===Object.prototype){const F=Object.keys(z);return Fe(F.map(ge=>z[ge]),F)}}if("function"==typeof Z[Z.length-1]){const z=Z.pop();return Fe(Z=1===Z.length&&(0,L.k)(Z[0])?Z[0]:Z,null).pipe((0,Pe.U)(F=>z(...F)))}return Fe(Z,null)}(un(F,z).map(Ut)).pipe((0,Pe.U)(yn))}}function vn(Z){return null!=Z?$n(dn(Z)):null}function vt(Z,z){return null===Z?[z]:Array.isArray(Z)?[...Z,z]:[Z,z]}function Et(Z){return Z._rawValidators}function Rt(Z){return Z._rawAsyncValidators}let hn=(()=>{class Z{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=_n(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,ge){return!!this.control&&this.control.hasError(F,ge)}getError(F,ge){return this.control?this.control.getError(F,ge):null}}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275dir=E.lG2({type:Z}),Z})(),jt=(()=>{class Z extends hn{get formDirective(){return null}get path(){return null}}return Z.\u0275fac=function(F){return Un(F||Z)},Z.\u0275dir=E.lG2({type:Z,features:[E.qOj]}),Z})();const Un=E.n5z(jt);class Gn extends hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bn{constructor(z){this._cd=z}is(z){var F,ge;return!!(null===(ge=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===ge?void 0:ge[z])}}let In=(()=>{class Z extends bn{constructor(F){super(F)}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(Gn,2))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,ge){2&F&&E.ekj("ng-untouched",ge.is("untouched"))("ng-touched",ge.is("touched"))("ng-pristine",ge.is("pristine"))("ng-dirty",ge.is("dirty"))("ng-valid",ge.is("valid"))("ng-invalid",ge.is("invalid"))("ng-pending",ge.is("pending"))},features:[E.qOj]}),Z})(),Ct=(()=>{class Z extends bn{constructor(F){super(F)}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(jt,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(F,ge){2&F&&E.ekj("ng-untouched",ge.is("untouched"))("ng-touched",ge.is("touched"))("ng-pristine",ge.is("pristine"))("ng-dirty",ge.is("dirty"))("ng-valid",ge.is("valid"))("ng-invalid",ge.is("invalid"))("ng-pending",ge.is("pending"))},features:[E.qOj]}),Z})();function Nt(Z,z){return[...z.path,Z]}function Tt(Z,z){pt(Z,z,!0),z.valueAccessor.writeValue(Z.value),function(Z,z){z.valueAccessor.registerOnChange(F=>{Z._pendingValue=F,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Yt(Z,z)})}(Z,z),function(Z,z){const F=(ge,ne)=>{z.valueAccessor.writeValue(ge),ne&&z.viewToModelUpdate(ge)};Z.registerOnChange(F),z._registerOnDestroy(()=>{Z._unregisterOnChange(F)})}(Z,z),function(Z,z){z.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Yt(Z,z),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,z),function(Z,z){if(z.valueAccessor.setDisabledState){const F=ge=>{z.valueAccessor.setDisabledState(ge)};Z.registerOnDisabledChange(F),z._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(F)})}}(Z,z)}function Tn(Z,z,F=!0){const ge=()=>{};z.valueAccessor&&(z.valueAccessor.registerOnChange(ge),z.valueAccessor.registerOnTouched(ge)),ln(Z,z,!0),Z&&(z._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function nn(Z,z){Z.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(z)})}function pt(Z,z,F){const ge=Et(Z);null!==z.validator?Z.setValidators(vt(ge,z.validator)):"function"==typeof ge&&Z.setValidators([ge]);const ne=Rt(Z);if(null!==z.asyncValidator?Z.setAsyncValidators(vt(ne,z.asyncValidator)):"function"==typeof ne&&Z.setAsyncValidators([ne]),F){const ye=()=>Z.updateValueAndValidity();nn(z._rawValidators,ye),nn(z._rawAsyncValidators,ye)}}function ln(Z,z,F){let ge=!1;if(null!==Z){if(null!==z.validator){const ne=Et(Z);if(Array.isArray(ne)&&ne.length>0){const ye=ne.filter(re=>re!==z.validator);ye.length!==ne.length&&(ge=!0,Z.setValidators(ye))}}if(null!==z.asyncValidator){const ne=Rt(Z);if(Array.isArray(ne)&&ne.length>0){const ye=ne.filter(re=>re!==z.asyncValidator);ye.length!==ne.length&&(ge=!0,Z.setAsyncValidators(ye))}}}if(F){const ne=()=>{};nn(z._rawValidators,ne),nn(z._rawAsyncValidators,ne)}return ge}function Yt(Z,z){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function or(Z,z){pt(Z,z,!1)}function Fr(Z,z){if(!Z.hasOwnProperty("model"))return!1;const F=Z.model;return!!F.isFirstChange()||!Object.is(z,F.currentValue)}function et(Z,z){Z._syncPendingControls(),z.forEach(F=>{const ge=F.control;"submit"===ge.updateOn&&ge._pendingChange&&(F.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1)})}function Ue(Z,z){if(!z)return null;let F,ge,ne;return Array.isArray(z),z.forEach(ye=>{ye.constructor===nt?F=ye:function(Z){return Object.getPrototypeOf(Z.constructor)===k}(ye)?ge=ye:ne=ye}),ne||ge||F||null}function gt(Z,z){const F=Z.indexOf(z);F>-1&&Z.splice(F,1)}const Te="VALID",Qe="INVALID",yt="PENDING",Lt="DISABLED";function Sn(Z){return(Lr(Z)?Z.validators:Z)||null}function Ln(Z){return Array.isArray(Z)?_n(Z):Z||null}function ur(Z,z){return(Lr(z)?z.asyncValidators:Z)||null}function nr(Z){return Array.isArray(Z)?vn(Z):Z||null}function Lr(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class zn{constructor(z,F){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=z,this._rawAsyncValidators=F,this._composedValidatorFn=Ln(this._rawValidators),this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===Te}get invalid(){return this.status===Qe}get pending(){return this.status==yt}get disabled(){return this.status===Lt}get enabled(){return this.status!==Lt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._rawValidators=z,this._composedValidatorFn=Ln(z)}setAsyncValidators(z){this._rawAsyncValidators=z,this._composedAsyncValidatorFn=nr(z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=yt,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const F=this._parentMarkedDirty(z.onlySelf);this.status=Lt,this.errors=null,this._forEachChild(ge=>{ge.disable(Object.assign(Object.assign({},z),{onlySelf:!0}))}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},z),{skipPristineCheck:F})),this._onDisabledChange.forEach(ge=>ge(!0))}enable(z={}){const F=this._parentMarkedDirty(z.onlySelf);this.status=Te,this._forEachChild(ge=>{ge.enable(Object.assign(Object.assign({},z),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},z),{skipPristineCheck:F})),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Te||this.status===yt)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lt:Te}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator=!0;const F=Ut(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ge=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ge,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,F={}){this.errors=z,this._updateControlsErrors(!1!==F.emitEvent)}get(z){return function(Z,z,F){if(null==z||(Array.isArray(z)||(z=z.split(".")),Array.isArray(z)&&0===z.length))return null;let ge=Z;return z.forEach(ne=>{ge=ge instanceof Wr?ge.controls.hasOwnProperty(ne)?ge.controls[ne]:null:ge instanceof Sr&&ge.at(ne)||null}),ge}(this,z)}getError(z,F){const ge=F?this.get(F):this;return ge&&ge.errors?ge.errors[z]:null}hasError(z,F){return!!this.getError(z,F)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?Lt:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(Qe)?Qe:Te}_anyControlsHaveStatus(z){return this._anyControls(F=>F.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_isBoxedValue(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){Lr(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hi extends zn{constructor(z=null,F,ge){super(Sn(F),ur(ge,F)),this._onChange=[],this._applyFormState(z),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!ge})}setValue(z,F={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(z,F={}){this.setValue(z,F)}reset(z=null,F={}){this._applyFormState(z),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){gt(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){gt(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){this._isBoxedValue(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}}class Wr extends zn{constructor(z,F,ge){super(Sn(F),ur(ge,F)),this.controls=z,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!ge})}registerControl(z,F){return this.controls[z]?this.controls[z]:(this.controls[z]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(z,F){this.registerControl(z,F),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(z){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity(),this._onCollectionChange()}setControl(z,F){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],F&&this.registerControl(z,F),this.updateValueAndValidity(),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,F={}){this._checkAllValuesPresent(z),Object.keys(z).forEach(ge=>{this._throwIfControlMissing(ge),this.controls[ge].setValue(z[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(z,F={}){null!=z&&(Object.keys(z).forEach(ge=>{this.controls[ge]&&this.controls[ge].patchValue(z[ge],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(z={},F={}){this._forEachChild((ge,ne)=>{ge.reset(z[ne],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(z,F,ge)=>(z[ge]=F instanceof Hi?F.value:F.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(F,ge)=>!!ge._syncPendingControls()||F);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_throwIfControlMissing(z){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[z])throw new Error(`Cannot find form control with name: ${z}.`)}_forEachChild(z){Object.keys(this.controls).forEach(F=>{const ge=this.controls[F];ge&&z(ge,F)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const F of Object.keys(this.controls)){const ge=this.controls[F];if(this.contains(F)&&z(ge))return!0}return!1}_reduceValue(){return this._reduceChildren({},(z,F,ge)=>((F.enabled||this.disabled)&&(z[ge]=F.value),z))}_reduceChildren(z,F){let ge=z;return this._forEachChild((ne,ye)=>{ge=F(ge,ne,ye)}),ge}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(z){this._forEachChild((F,ge)=>{if(void 0===z[ge])throw new Error(`Must supply a value for form control with name: '${ge}'.`)})}}class Sr extends zn{constructor(z,F,ge){super(Sn(F),ur(ge,F)),this.controls=z,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!ge})}at(z){return this.controls[z]}push(z){this.controls.push(z),this._registerControl(z),this.updateValueAndValidity(),this._onCollectionChange()}insert(z,F){this.controls.splice(z,0,F),this._registerControl(F),this.updateValueAndValidity()}removeAt(z){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),this.controls.splice(z,1),this.updateValueAndValidity()}setControl(z,F){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),this.controls.splice(z,1),F&&(this.controls.splice(z,0,F),this._registerControl(F)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(z,F={}){this._checkAllValuesPresent(z),z.forEach((ge,ne)=>{this._throwIfControlMissing(ne),this.at(ne).setValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(z,F={}){null!=z&&(z.forEach((ge,ne)=>{this.at(ne)&&this.at(ne).patchValue(ge,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(z=[],F={}){this._forEachChild((ge,ne)=>{ge.reset(z[ne],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(z=>z instanceof Hi?z.value:z.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(z=>z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let z=this.controls.reduce((F,ge)=>!!ge._syncPendingControls()||F,!1);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_throwIfControlMissing(z){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(z))throw new Error(`Cannot find form control at index ${z}`)}_forEachChild(z){this.controls.forEach((F,ge)=>{z(F,ge)})}_updateValue(){this.value=this.controls.filter(z=>z.enabled||this.disabled).map(z=>z.value)}_anyControls(z){return this.controls.some(F=>F.enabled&&z(F))}_setUpControls(){this._forEachChild(z=>this._registerControl(z))}_checkAllValuesPresent(z){this._forEachChild((F,ge)=>{if(void 0===z[ge])throw new Error(`Must supply a value for form control at index: ${ge}.`)})}_allControlsDisabled(){for(const z of this.controls)if(z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(z){z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)}}const li={provide:jt,useExisting:(0,E.Gpc)(()=>ri)},rr=(()=>Promise.resolve(null))();let ri=(()=>{class Z extends jt{constructor(F,ge){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new E.vpe,this.form=new Wr({},_n(F),vn(ge))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){rr.then(()=>{const ge=this._findContainer(F.path);F.control=ge.registerControl(F.name,F.control),Tt(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){rr.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name),gt(this._directives,F)})}addFormGroup(F){rr.then(()=>{const ge=this._findContainer(F.path),ne=new Wr({});or(ne,F),ge.registerControl(F.name,ne),ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){rr.then(()=>{const ge=this._findContainer(F.path);ge&&ge.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ge){rr.then(()=>{this.form.get(F.path).setValue(ge)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,et(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(at,10),E.Y36(At,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,ge){1&F&&E.NdJ("submit",function(ye){return ge.onSubmit(ye)})("reset",function(){return ge.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([li]),E.qOj]}),Z})();const Ui={provide:Gn,useExisting:(0,E.Gpc)(()=>Ki)},Do=(()=>Promise.resolve(null))();let Ki=(()=>{class Z extends Gn{constructor(F,ge,ne,ye){super(),this.control=new Hi,this._registered=!1,this.update=new E.vpe,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ne),this.valueAccessor=Ue(0,ye)}ngOnChanges(F){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in F&&this._updateDisabled(F),Fr(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Nt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Do.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1})})}_updateDisabled(F){const ge=F.isDisabled.currentValue,ne=""===ge||ge&&"false"!==ge;Do.then(()=>{ne&&!this.control.disabled?this.control.disable():!ne&&this.control.disabled&&this.control.enable()})}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(jt,9),E.Y36(at,10),E.Y36(At,10),E.Y36(Re,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Ui]),E.qOj,E.TTD]}),Z})(),on=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275dir=E.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})();const sr={provide:Re,useExisting:(0,E.Gpc)(()=>Vn),multi:!0};let Vn=(()=>{class Z extends k{constructor(F,ge){super(),this._renderer=F,this._elementRef=ge,this.onChange=ne=>{},this.onTouched=()=>{}}writeValue(F){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==F?"":F)}registerOnChange(F){this.onChange=ge=>{F(""==ge?null:parseFloat(ge))}}registerOnTouched(F){this.onTouched=F}setDisabledState(F){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",F)}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(E.Qsj),E.Y36(E.SBq))},Z.\u0275dir=E.lG2({type:Z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(F,ge){1&F&&E.NdJ("input",function(ye){return ge.onChange(ye.target.value)})("blur",function(){return ge.onTouched()})},features:[E._Bn([sr]),E.qOj]}),Z})(),Xr=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({}),Z})();const Xn=new E.OlP("NgModelWithFormControlWarning"),pr={provide:jt,useExisting:(0,E.Gpc)(()=>Qn)};let Qn=(()=>{class Z extends jt{constructor(F,ge){super(),this.validators=F,this.asyncValidators=ge,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(F),this._setAsyncValidators(ge)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ln(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ge=this.form.get(F.path);return Tt(ge,F),ge.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ge}getControl(F){return this.form.get(F.path)}removeControl(F){Tn(F.control||null,F,!1),gt(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ge){this.form.get(F.path).setValue(ge)}onSubmit(F){return this.submitted=!0,et(this.form,this.directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ge=F.control,ne=this.form.get(F.path);ge!==ne&&(Tn(ge||null,F),ne instanceof Hi&&(Tt(ne,F),F.control=ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ge=this.form.get(F.path);or(ge,F),ge.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ge=this.form.get(F.path);ge&&function(Z,z){return ln(Z,z,!1)}(ge,F)&&ge.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pt(this.form,this,!1),this._oldForm&&ln(this._oldForm,this,!1)}_checkFormPresent(){}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(at,10),E.Y36(At,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(F,ge){1&F&&E.NdJ("submit",function(ye){return ge.onSubmit(ye)})("reset",function(){return ge.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([pr]),E.qOj,E.TTD]}),Z})();const Fn={provide:Gn,useExisting:(0,E.Gpc)(()=>zr)};let zr=(()=>{class Z extends Gn{constructor(F,ge,ne,ye,re){super(),this._ngModelWarningConfig=re,this._added=!1,this.update=new E.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ge),this._setAsyncValidators(ne),this.valueAccessor=Ue(0,ye)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),Fr(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Nt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(jt,13),E.Y36(at,10),E.Y36(At,10),E.Y36(Re,10),E.Y36(Xn,8))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[E._Bn([Fn]),E.qOj,E.TTD]}),Z._ngModelWarningSentOnce=!1,Z})();const ir={provide:Re,useExisting:(0,E.Gpc)(()=>er),multi:!0};function ii(Z,z){return null==Z?`${z}`:(z&&"object"==typeof z&&(z="Object"),`${Z}: ${z}`.slice(0,50))}let er=(()=>{class Z extends k{constructor(F,ge){super(),this._renderer=F,this._elementRef=ge,this._optionMap=new Map,this._idCounter=0,this.onChange=ne=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const ge=this._getOptionId(F);null==ge&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const ne=ii(ge,F);this._renderer.setProperty(this._elementRef.nativeElement,"value",ne)}registerOnChange(F){this.onChange=ge=>{this.value=this._getOptionValue(ge),F(this.value)}}registerOnTouched(F){this.onTouched=F}setDisabledState(F){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",F)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ge of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ge),F))return ge;return null}_getOptionValue(F){const ge=function(Z){return Z.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge):F}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(E.Qsj),E.Y36(E.SBq))},Z.\u0275dir=E.lG2({type:Z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(F,ge){1&F&&E.NdJ("change",function(ye){return ge.onChange(ye.target.value)})("blur",function(){return ge.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([ir]),E.qOj]}),Z})(),Hr=(()=>{class Z{constructor(F,ge,ne){this._element=F,this._renderer=ge,this._select=ne,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(ii(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(er,9))},Z.\u0275dir=E.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Z})();const mi={provide:Re,useExisting:(0,E.Gpc)(()=>kr),multi:!0};function Po(Z,z){return null==Z?`${z}`:("string"==typeof z&&(z=`'${z}'`),z&&"object"==typeof z&&(z="Object"),`${Z}: ${z}`.slice(0,50))}let kr=(()=>{class Z extends k{constructor(F,ge){super(),this._renderer=F,this._elementRef=ge,this._optionMap=new Map,this._idCounter=0,this.onChange=ne=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ge;if(this.value=F,Array.isArray(F)){const ne=F.map(ye=>this._getOptionId(ye));ge=(ye,re)=>{ye._setSelected(ne.indexOf(re.toString())>-1)}}else ge=(ne,ye)=>{ne._setSelected(!1)};this._optionMap.forEach(ge)}registerOnChange(F){this.onChange=ge=>{const ne=[];if(void 0!==ge.selectedOptions){const ye=ge.selectedOptions;for(let re=0;re<ye.length;re++){const Le=ye.item(re),St=this._getOptionValue(Le.value);ne.push(St)}}else{const ye=ge.options;for(let re=0;re<ye.length;re++){const Le=ye.item(re);if(Le.selected){const St=this._getOptionValue(Le.value);ne.push(St)}}}this.value=ne,F(ne)}}registerOnTouched(F){this.onTouched=F}setDisabledState(F){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",F)}_registerOption(F){const ge=(this._idCounter++).toString();return this._optionMap.set(ge,F),ge}_getOptionId(F){for(const ge of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ge)._value,F))return ge;return null}_getOptionValue(F){const ge=function(Z){return Z.split(":")[0]}(F);return this._optionMap.has(ge)?this._optionMap.get(ge)._value:F}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(E.Qsj),E.Y36(E.SBq))},Z.\u0275dir=E.lG2({type:Z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(F,ge){1&F&&E.NdJ("change",function(ye){return ge.onChange(ye.target)})("blur",function(){return ge.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([mi]),E.qOj]}),Z})(),wo=(()=>{class Z{constructor(F,ge,ne){this._element=F,this._renderer=ge,this._select=ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(Po(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(Po(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Z.\u0275fac=function(F){return new(F||Z)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(kr,9))},Z.\u0275dir=E.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Z})(),Ie=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[[Xr]]}),Z})(),Ge=(()=>{class Z{}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[Ie]}),Z})(),dt=(()=>{class Z{static withConfig(F){return{ngModule:Z,providers:[{provide:Xn,useValue:F.warnOnNgModelWithFormControl}]}}}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[Ie]}),Z})(),an=(()=>{class Z{group(F,ge=null){const ne=this._reduceControls(F);let Le,ye=null,re=null;return null!=ge&&(function(Z){return void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn}(ge)?(ye=null!=ge.validators?ge.validators:null,re=null!=ge.asyncValidators?ge.asyncValidators:null,Le=null!=ge.updateOn?ge.updateOn:void 0):(ye=null!=ge.validator?ge.validator:null,re=null!=ge.asyncValidator?ge.asyncValidator:null)),new Wr(ne,{asyncValidators:re,updateOn:Le,validators:ye})}control(F,ge,ne){return new Hi(F,ge,ne)}array(F,ge,ne){const ye=F.map(re=>this._createControl(re));return new Sr(ye,ge,ne)}_reduceControls(F){const ge={};return Object.keys(F).forEach(ne=>{ge[ne]=this._createControl(F[ne])}),ge}_createControl(F){return F instanceof Hi||F instanceof Wr||F instanceof Sr?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return Z.\u0275fac=function(F){return new(F||Z)},Z.\u0275prov=(0,E.Yz7)({factory:function(){return new Z},token:Z,providedIn:dt}),Z})()},6476:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{gz:()=>ii,F0:()=>hi,rH:()=>y,yS:()=>U,Bz:()=>zo,lC:()=>A});var E=ie(8583),b=ie(3018),j=ie(4869),L=ie(9796),Pe=ie(7393);class le extends Pe.L{notifyNext(x,D,$,oe,we){this.destination.next(D)}notifyError(x,D){this.destination.error(x)}notifyComplete(x){this.destination.complete()}}class fe extends Pe.L{constructor(x,D,$){super(),this.parent=x,this.outerValue=D,this.outerIndex=$,this.index=0}_next(x){this.parent.notifyNext(this.outerValue,x,this.outerIndex,this.index++,this)}_error(x){this.parent.notifyError(x,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Je=ie(7444),Fe=ie(7574);function k(V,x,D,$,oe=new fe(V,D,$)){if(!oe.closed)return x instanceof Fe.y?x.subscribe(oe):(0,Je.s)(x)(oe)}var Re=ie(6693);const Ye={};class De{constructor(x){this.resultSelector=x}call(x,D){return D.subscribe(new st(x,this.resultSelector))}}class st extends le{constructor(x,D){super(x),this.resultSelector=D,this.active=0,this.values=[],this.observables=[]}_next(x){this.values.push(Ye),this.observables.push(x)}_complete(){const x=this.observables,D=x.length;if(0===D)this.destination.complete();else{this.active=D,this.toRespond=D;for(let $=0;$<D;$++)this.add(k(this,x[$],void 0,$))}}notifyComplete(x){0==(this.active-=1)&&this.destination.complete()}notifyNext(x,D,$){const oe=this.values,We=this.toRespond?oe[$]===Ye?--this.toRespond:this.toRespond:0;oe[$]=D,0===We&&(this.resultSelector?this._tryResultSelector(oe):this.destination.next(oe.slice()))}_tryResultSelector(x){let D;try{D=this.resultSelector.apply(this,x)}catch($){return void this.destination.error($)}this.destination.next(D)}}var je=ie(4402),nt=ie(9193);function Me(V){return new Fe.y(x=>{let D;try{D=V()}catch(oe){return void x.error(oe)}return(D?(0,je.D)(D):(0,nt.c)()).subscribe(x)})}var Ve=ie(5917),at=ie(6215),At=ie(3410),It=ie(8071),bt=ie(2441),tn=ie(9765),xn=ie(5345);function Wn(V){return function(D){const $=new ke(V),oe=D.lift($);return $.caught=oe}}class ke{constructor(x){this.selector=x}call(x,D){return D.subscribe(new $e(x,this.selector,this.caught))}}class $e extends xn.Ds{constructor(x,D,$){super(x),this.selector=D,this.caught=$}error(x){if(!this.isStopped){let D;try{D=this.selector(x,this.caught)}catch(we){return void super.error(we)}this._unsubscribeAndRecycle();const $=new xn.IY(this);this.add($);const oe=(0,xn.ft)(D,$);oe!==$&&this.add(oe)}}}var ce=ie(5435),rt=ie(7108);function _t(V){return function(D){return 0===V?(0,nt.c)():D.lift(new lt(V))}}class lt{constructor(x){if(this.total=x,this.total<0)throw new rt.W}call(x,D){return D.subscribe(new qt(x,this.total))}}class qt extends Pe.L{constructor(x,D){super(x),this.total=D,this.ring=new Array,this.count=0}_next(x){const D=this.ring,$=this.total,oe=this.count++;D.length<$?D.push(x):D[oe%$]=x}_complete(){const x=this.destination;let D=this.count;if(D>0){const $=this.count>=this.total?this.total:this.count,oe=this.ring;for(let we=0;we<$;we++){const We=D++%$;x.next(oe[We])}}x.complete()}}var Ut=ie(4635),yn=ie(5242),un=ie(4487),dn=ie(5319);class _n{constructor(x){this.callback=x}call(x,D){return D.subscribe(new $n(x,this.callback))}}class $n extends Pe.L{constructor(x,D){super(x),this.add(new dn.w(D))}}var vn=ie(8002),vt=ie(3190),Et=ie(5257),Rt=ie(9761),hn=ie(2145),jt=ie(4612),Un=ie(8049),Gn=ie(9773),bn=ie(3342),kn=ie(1307),In=ie(3282);class Ct{constructor(x,D){this.id=x,this.url=D}}class He extends Ct{constructor(x,D,$="imperative",oe=null){super(x,D),this.navigationTrigger=$,this.restoredState=oe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qe extends Ct{constructor(x,D,$){super(x,D),this.urlAfterRedirects=$}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nt extends Ct{constructor(x,D,$){super(x,D),this.reason=$}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tt extends Ct{constructor(x,D,$){super(x,D),this.error=$}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tn extends Ct{constructor(x,D,$,oe){super(x,D),this.urlAfterRedirects=$,this.state=oe}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends Ct{constructor(x,D,$,oe){super(x,D),this.urlAfterRedirects=$,this.state=oe}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends Ct{constructor(x,D,$,oe,we){super(x,D),this.urlAfterRedirects=$,this.state=oe,this.shouldActivate=we}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pt extends Ct{constructor(x,D,$,oe){super(x,D),this.urlAfterRedirects=$,this.state=oe}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends Ct{constructor(x,D,$,oe){super(x,D),this.urlAfterRedirects=$,this.state=oe}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt{constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ht{constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yt{constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(x,D,$){this.routerEvent=x,this.position=D,this.anchor=$}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const An="primary";class Fr{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D[0]:D}return null}getAll(x){if(this.has(x)){const D=this.params[x];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function wr(V){return new Fr(V)}const et="ngNavigationCancelingError";function Ue(V){const x=Error("NavigationCancelingError: "+V);return x[et]=!0,x}function Se(V,x,D){const $=D.path.split("/");if($.length>V.length||"full"===D.pathMatch&&(x.hasChildren()||$.length<V.length))return null;const oe={};for(let we=0;we<$.length;we++){const We=$[we],ut=V[we];if(We.startsWith(":"))oe[We.substring(1)]=ut;else if(We!==ut.path)return null}return{consumed:V.slice(0,$.length),posParams:oe}}function Qe(V,x){const D=V?Object.keys(V):void 0,$=x?Object.keys(x):void 0;if(!D||!$||D.length!=$.length)return!1;let oe;for(let we=0;we<D.length;we++)if(oe=D[we],!yt(V[oe],x[oe]))return!1;return!0}function yt(V,x){if(Array.isArray(V)&&Array.isArray(x)){if(V.length!==x.length)return!1;const D=[...V].sort(),$=[...x].sort();return D.every((oe,we)=>$[we]===oe)}return V===x}function Lt(V){return Array.prototype.concat.apply([],V)}function Ht(V){return V.length>0?V[V.length-1]:null}function Ln(V,x){for(const D in V)V.hasOwnProperty(D)&&x(V[D],D)}function ur(V){return(0,b.CqO)(V)?V:(0,b.QGY)(V)?(0,je.D)(Promise.resolve(V)):(0,Ve.of)(V)}function Lr(V,x,D){return D?function(V,x){return Qe(V,x)}(V.queryParams,x.queryParams)&&Hi(V.root,x.root):function(V,x){return Object.keys(x).length<=Object.keys(V).length&&Object.keys(x).every(D=>yt(V[D],x[D]))}(V.queryParams,x.queryParams)&&Sr(V.root,x.root)}function Hi(V,x){if(!to(V.segments,x.segments)||V.numberOfChildren!==x.numberOfChildren)return!1;for(const D in x.children)if(!V.children[D]||!Hi(V.children[D],x.children[D]))return!1;return!0}function Sr(V,x){return li(V,x,x.segments)}function li(V,x,D){if(V.segments.length>D.length)return!(!to(V.segments.slice(0,D.length),D)||x.hasChildren());if(V.segments.length===D.length){if(!to(V.segments,D))return!1;for(const $ in x.children)if(!V.children[$]||!Sr(V.children[$],x.children[$]))return!1;return!0}{const $=D.slice(0,V.segments.length),oe=D.slice(V.segments.length);return!(!to(V.segments,$)||!V.children[An])&&li(V.children[An],x,oe)}}class Gi{constructor(x,D,$){this.root=x,this.queryParams=D,this.fragment=$}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wr(this.queryParams)),this._queryParamMap}toString(){return Ui.serialize(this)}}class rr{constructor(x,D){this.segments=x,this.children=D,this.parent=null,Ln(D,($,oe)=>$.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qi(this)}}class ri{constructor(x,D){this.path=x,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=wr(this.parameters)),this._parameterMap}toString(){return Xr(this)}}function to(V,x){return V.length===x.length&&V.every((D,$)=>D.path===x[$].path)}class Ri{}class So{parse(x){const D=new Qn(x);return new Gi(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(x){var V;return`${`/${Do(x.root,!0)}`}${function(V){const x=Object.keys(V).map(D=>{const $=V[D];return Array.isArray($)?$.map(oe=>`${on(D)}=${on(oe)}`).join("&"):`${on(D)}=${on($)}`});return x.length?`?${x.join("&")}`:""}(x.queryParams)}${"string"==typeof x.fragment?`#${V=x.fragment,encodeURI(V)}`:""}`}}const Ui=new So;function qi(V){return V.segments.map(x=>Xr(x)).join("/")}function Do(V,x){if(!V.hasChildren())return qi(V);if(x){const D=V.children[An]?Do(V.children[An],!1):"",$=[];return Ln(V.children,(oe,we)=>{we!==An&&$.push(`${we}:${Do(oe,!1)}`)}),$.length>0?`${D}(${$.join("//")})`:D}{const D=function(V,x){let D=[];return Ln(V.children,($,oe)=>{oe===An&&(D=D.concat(x($,oe)))}),Ln(V.children,($,oe)=>{oe!==An&&(D=D.concat(x($,oe)))}),D}(V,($,oe)=>oe===An?[Do(V.children[An],!1)]:[`${oe}:${Do($,!1)}`]);return 1===Object.keys(V.children).length&&null!=V.children[An]?`${qi(V)}/${D[0]}`:`${qi(V)}/(${D.join("//")})`}}function Ki(V){return encodeURIComponent(V).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(V){return Ki(V).replace(/%3B/gi,";")}function Vn(V){return Ki(V).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fi(V){return decodeURIComponent(V)}function ao(V){return fi(V.replace(/\+/g,"%20"))}function Xr(V){return`${Vn(V.path)}${function(V){return Object.keys(V).map(x=>`;${Vn(x)}=${Vn(V[x])}`).join("")}(V.parameters)}`}const xi=/^[^\/()?;=#]+/;function Yi(V){const x=V.match(xi);return x?x[0]:""}const Xn=/^[^=?&#]+/,Kn=/^[^?&#]+/;class Qn{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let $={};return this.peekStartsWith("(")&&($=this.parseParens(!1)),(x.length>0||Object.keys(D).length>0)&&($[An]=new rr(x,D)),$}parseSegment(){const x=Yi(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(x),new ri(fi(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const D=Yi(this.remaining);if(!D)return;this.capture(D);let $="";if(this.consumeOptional("=")){const oe=Yi(this.remaining);oe&&($=oe,this.capture($))}x[fi(D)]=fi($)}parseQueryParam(x){const D=function(V){const x=V.match(Xn);return x?x[0]:""}(this.remaining);if(!D)return;this.capture(D);let $="";if(this.consumeOptional("=")){const We=function(V){const x=V.match(Kn);return x?x[0]:""}(this.remaining);We&&($=We,this.capture($))}const oe=ao(D),we=ao($);if(x.hasOwnProperty(oe)){let We=x[oe];Array.isArray(We)||(We=[We],x[oe]=We),We.push(we)}else x[oe]=we}parseParens(x){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const $=Yi(this.remaining),oe=this.remaining[$.length];if("/"!==oe&&")"!==oe&&";"!==oe)throw new Error(`Cannot parse url '${this.url}'`);let we;$.indexOf(":")>-1?(we=$.substr(0,$.indexOf(":")),this.capture(we),this.capture(":")):x&&(we=An);const We=this.parseChildren();D[we]=1===Object.keys(We).length?We[An]:new rr([],We),this.consumeOptional("//")}return D}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new Error(`Expected "${x}".`)}}class Rr{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const D=this.pathFromRoot(x);return D.length>1?D[D.length-2]:null}children(x){const D=cr(x,this._root);return D?D.children.map($=>$.value):[]}firstChild(x){const D=cr(x,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(x){const D=Wi(x,this._root);return D.length<2?[]:D[D.length-2].children.map(oe=>oe.value).filter(oe=>oe!==x)}pathFromRoot(x){return Wi(x,this._root).map(D=>D.value)}}function cr(V,x){if(V===x.value)return x;for(const D of x.children){const $=cr(V,D);if($)return $}return null}function Wi(V,x){if(V===x.value)return[x];for(const D of x.children){const $=Wi(V,D);if($.length)return $.unshift(x),$}return[]}class ei{constructor(x,D){this.value=x,this.children=D}toString(){return`TreeNode(${this.value})`}}function lr(V){const x={};return V&&V.children.forEach(D=>x[D.value.outlet]=D),x}class Fn extends Rr{constructor(x,D){super(x),this.snapshot=D,Po(this,x)}toString(){return this.snapshot.toString()}}function zr(V,x){const D=function(V,x){const We=new Hr([],{},{},"",{},An,x,null,V.root,-1,{});return new mi("",new ei(We,[]))}(V,x),$=new at.X([new ri("",{})]),oe=new at.X({}),we=new at.X({}),We=new at.X({}),ut=new at.X(""),$t=new ii($,oe,We,ut,we,An,x,D.root);return $t.snapshot=D.root,new Fn(new ei($t,[]),D)}class ii{constructor(x,D,$,oe,we,We,ut,$t){this.url=x,this.params=D,this.queryParams=$,this.fragment=oe,this.data=we,this.outlet=We,this.component=ut,this._futureSnapshot=$t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vn.U)(x=>wr(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vn.U)(x=>wr(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nr(V,x="emptyOnly"){const D=V.pathFromRoot;let $=0;if("always"!==x)for($=D.length-1;$>=1;){const oe=D[$],we=D[$-1];if(oe.routeConfig&&""===oe.routeConfig.path)$--;else{if(we.component)break;$--}}return function(V){return V.reduce((x,D)=>({params:Object.assign(Object.assign({},x.params),D.params),data:Object.assign(Object.assign({},x.data),D.data),resolve:Object.assign(Object.assign({},x.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice($))}class Hr{constructor(x,D,$,oe,we,We,ut,$t,Hn,Xt,Zn){this.url=x,this.params=D,this.queryParams=$,this.fragment=oe,this.data=we,this.outlet=We,this.component=ut,this.routeConfig=$t,this._urlSegment=Hn,this._lastPathIndex=Xt,this._resolve=Zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map($=>$.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mi extends Rr{constructor(x,D){super(D),this.url=x,Po(this,D)}toString(){return Kr(this._root)}}function Po(V,x){x.value._routerState=V,x.children.forEach(D=>Po(V,D))}function Kr(V){const x=V.children.length>0?` { ${V.children.map(Kr).join(", ")} } `:"";return`${V.value}${x}`}function Zi(V){if(V.snapshot){const x=V.snapshot,D=V._futureSnapshot;V.snapshot=D,Qe(x.queryParams,D.queryParams)||V.queryParams.next(D.queryParams),x.fragment!==D.fragment&&V.fragment.next(D.fragment),Qe(x.params,D.params)||V.params.next(D.params),function(V,x){if(V.length!==x.length)return!1;for(let D=0;D<V.length;++D)if(!Qe(V[D],x[D]))return!1;return!0}(x.url,D.url)||V.url.next(D.url),Qe(x.data,D.data)||V.data.next(D.data)}else V.snapshot=V._futureSnapshot,V.data.next(V._futureSnapshot.data)}function kr(V,x){return Qe(V.params,x.params)&&function(V,x){return to(V,x)&&V.every((D,$)=>Qe(D.parameters,x[$].parameters))}(V.url,x.url)&&!(!V.parent!=!x.parent)&&(!V.parent||kr(V.parent,x.parent))}function vi(V,x,D){if(D&&V.shouldReuseRoute(x.value,D.value.snapshot)){const $=D.value;$._futureSnapshot=x.value;const oe=function(V,x,D){return x.children.map($=>{for(const oe of D.children)if(V.shouldReuseRoute($.value,oe.value.snapshot))return vi(V,$,oe);return vi(V,$)})}(V,x,D);return new ei($,oe)}{if(V.shouldAttach(x.value)){const we=V.retrieve(x.value);if(null!==we){const We=we.route;return Mr(x,We),We}}const $=function(V){return new ii(new at.X(V.url),new at.X(V.params),new at.X(V.queryParams),new at.X(V.fragment),new at.X(V.data),V.outlet,V.component,V)}(x.value),oe=x.children.map(we=>vi(V,we));return new ei($,oe)}}function Mr(V,x){if(V.value.routeConfig!==x.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(V.children.length!==x.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");x.value._futureSnapshot=V.value;for(let D=0;D<V.children.length;++D)Mr(V.children[D],x.children[D])}function uo(V){return"object"==typeof V&&null!=V&&!V.outlets&&!V.segmentPath}function Ni(V){return"object"==typeof V&&null!=V&&V.outlets}function ki(V,x,D,$,oe){let we={};return $&&Ln($,(We,ut)=>{we[ut]=Array.isArray(We)?We.map($t=>`${$t}`):`${We}`}),new Gi(D.root===V?x:Ro(D.root,V,x),we,oe)}function Ro(V,x,D){const $={};return Ln(V.children,(oe,we)=>{$[we]=oe===x?D:Ro(oe,x,D)}),new rr(V.segments,$)}class fr{constructor(x,D,$){if(this.isAbsolute=x,this.numberOfDoubleDots=D,this.commands=$,x&&$.length>0&&uo($[0]))throw new Error("Root segment cannot have matrix parameters");const oe=$.find(Ni);if(oe&&oe!==Ht($))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(x,D,$){this.segmentGroup=x,this.processChildren=D,this.index=$}}function W(V,x,D){if(V||(V=new rr([],{})),0===V.segments.length&&V.hasChildren())return Ie(V,x,D);const $=function(V,x,D){let $=0,oe=x;const we={match:!1,pathIndex:0,commandIndex:0};for(;oe<V.segments.length;){if($>=D.length)return we;const We=V.segments[oe],ut=D[$];if(Ni(ut))break;const $t=`${ut}`,Hn=$<D.length-1?D[$+1]:null;if(oe>0&&void 0===$t)break;if($t&&Hn&&"object"==typeof Hn&&void 0===Hn.outlets){if(!pn($t,Hn,We))return we;$+=2}else{if(!pn($t,{},We))return we;$++}oe++}return{match:!0,pathIndex:oe,commandIndex:$}}(V,x,D),oe=D.slice($.commandIndex);if($.match&&$.pathIndex<V.segments.length){const we=new rr(V.segments.slice(0,$.pathIndex),{});return we.children[An]=new rr(V.segments.slice($.pathIndex),V.children),Ie(we,0,oe)}return $.match&&0===oe.length?new rr(V.segments,{}):$.match&&!V.hasChildren()?dt(V,x,D):$.match?Ie(V,0,oe):dt(V,x,D)}function Ie(V,x,D){if(0===D.length)return new rr(V.segments,{});{const $=function(V){return Ni(V[0])?V[0].outlets:{[An]:V}}(D),oe={};return Ln($,(we,We)=>{"string"==typeof we&&(we=[we]),null!==we&&(oe[We]=W(V.children[We],x,we))}),Ln(V.children,(we,We)=>{void 0===$[We]&&(oe[We]=we)}),new rr(V.segments,oe)}}function dt(V,x,D){const $=V.segments.slice(0,x);let oe=0;for(;oe<D.length;){const we=D[oe];if(Ni(we)){const $t=xt(we.outlets);return new rr($,$t)}if(0===oe&&uo(D[0])){$.push(new ri(V.segments[x].path,an(D[0]))),oe++;continue}const We=Ni(we)?we.outlets[An]:`${we}`,ut=oe<D.length-1?D[oe+1]:null;We&&ut&&uo(ut)?($.push(new ri(We,an(ut))),oe+=2):($.push(new ri(We,{})),oe++)}return new rr($,{})}function xt(V){const x={};return Ln(V,(D,$)=>{"string"==typeof D&&(D=[D]),null!==D&&(x[$]=dt(new rr([],{}),0,D))}),x}function an(V){const x={};return Ln(V,(D,$)=>x[$]=`${D}`),x}function pn(V,x,D){return V==D.path&&Qe(x,D.parameters)}class z{constructor(x,D,$,oe){this.routeReuseStrategy=x,this.futureState=D,this.currState=$,this.forwardEvent=oe}activate(x){const D=this.futureState._root,$=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,$,x),Zi(this.futureState.root),this.activateChildRoutes(D,$,x)}deactivateChildRoutes(x,D,$){const oe=lr(D);x.children.forEach(we=>{const We=we.value.outlet;this.deactivateRoutes(we,oe[We],$),delete oe[We]}),Ln(oe,(we,We)=>{this.deactivateRouteAndItsChildren(we,$)})}deactivateRoutes(x,D,$){const oe=x.value,we=D?D.value:null;if(oe===we)if(oe.component){const We=$.getContext(oe.outlet);We&&this.deactivateChildRoutes(x,D,We.children)}else this.deactivateChildRoutes(x,D,$);else we&&this.deactivateRouteAndItsChildren(D,$)}deactivateRouteAndItsChildren(x,D){this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,D):this.deactivateRouteAndOutlet(x,D)}detachAndStoreRouteSubtree(x,D){const $=D.getContext(x.value.outlet);if($&&$.outlet){const oe=$.outlet.detach(),we=$.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:oe,route:x,contexts:we})}}deactivateRouteAndOutlet(x,D){const $=D.getContext(x.value.outlet),oe=$&&x.value.component?$.children:D,we=lr(x);for(const We of Object.keys(we))this.deactivateRouteAndItsChildren(we[We],oe);$&&$.outlet&&($.outlet.deactivate(),$.children.onOutletDeactivated(),$.attachRef=null,$.resolver=null,$.route=null)}activateChildRoutes(x,D,$){const oe=lr(D);x.children.forEach(we=>{this.activateRoutes(we,oe[we.value.outlet],$),this.forwardEvent(new Ar(we.value.snapshot))}),x.children.length&&this.forwardEvent(new Bt(x.value.snapshot))}activateRoutes(x,D,$){const oe=x.value,we=D?D.value:null;if(Zi(oe),oe===we)if(oe.component){const We=$.getOrCreateContext(oe.outlet);this.activateChildRoutes(x,D,We.children)}else this.activateChildRoutes(x,D,$);else if(oe.component){const We=$.getOrCreateContext(oe.outlet);if(this.routeReuseStrategy.shouldAttach(oe.snapshot)){const ut=this.routeReuseStrategy.retrieve(oe.snapshot);this.routeReuseStrategy.store(oe.snapshot,null),We.children.onOutletReAttached(ut.contexts),We.attachRef=ut.componentRef,We.route=ut.route.value,We.outlet&&We.outlet.attach(ut.componentRef,ut.route.value),F(ut.route)}else{const ut=function(V){for(let x=V.parent;x;x=x.parent){const D=x.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(oe.snapshot),$t=ut?ut.module.componentFactoryResolver:null;We.attachRef=null,We.route=oe,We.resolver=$t,We.outlet&&We.outlet.activateWith(oe,$t),this.activateChildRoutes(x,null,We.children)}}else this.activateChildRoutes(x,null,$)}}function F(V){Zi(V.value),V.children.forEach(F)}class ne{constructor(x,D){this.routes=x,this.module=D}}function ye(V){return"function"==typeof V}function Le(V){return V instanceof Gi}const Dr=Symbol("INITIAL_VALUE");function no(){return(0,vt.w)(V=>function(...V){let x,D;return(0,j.K)(V[V.length-1])&&(D=V.pop()),"function"==typeof V[V.length-1]&&(x=V.pop()),1===V.length&&(0,L.k)(V[0])&&(V=V[0]),(0,Re.n)(V,D).lift(new De(x))}(V.map(x=>x.pipe((0,Et.q)(1),(0,Rt.O)(Dr)))).pipe((0,hn.R)((x,D)=>{let $=!1;return D.reduce((oe,we,We)=>oe!==Dr?oe:(we===Dr&&($=!0),$||!1!==we&&We!==D.length-1&&!Le(we)?oe:we),x)},Dr),(0,ce.h)(x=>x!==Dr),(0,vn.U)(x=>Le(x)?x:!0===x),(0,Et.q)(1)))}let K=(()=>{class V{}return V.\u0275fac=function(D){return new(D||V)},V.\u0275cmp=b.Xpm({type:V,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,$){1&D&&b._UZ(0,"router-outlet")},directives:function(){return[A]},encapsulation:2}),V})();function de(V,x=""){for(let D=0;D<V.length;D++){const $=V[D];Y($,pe(x,$))}}function Y(V,x){V.children&&de(V.children,x)}function pe(V,x){return x?V||x.path?V&&!x.path?`${V}/`:!V&&x.path?x.path:`${V}/${x.path}`:"":V}function ot(V){const x=V.children&&V.children.map(ot),D=x?Object.assign(Object.assign({},V),{children:x}):Object.assign({},V);return!D.component&&(x||D.loadChildren)&&D.outlet&&D.outlet!==An&&(D.component=K),D}function Ft(V){return V.outlet||An}function gn(V,x){const D=V.filter($=>Ft($)===x);return D.push(...V.filter($=>Ft($)!==x)),D}const Dn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Jn(V,x,D){var $;if(""===x.path)return"full"===x.pathMatch&&(V.hasChildren()||D.length>0)?Object.assign({},Dn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const we=(x.matcher||Se)(D,V,x);if(!we)return Object.assign({},Dn);const We={};Ln(we.posParams,($t,Hn)=>{We[Hn]=$t.path});const ut=we.consumed.length>0?Object.assign(Object.assign({},We),we.consumed[we.consumed.length-1].parameters):We;return{matched:!0,consumedSegments:we.consumed,lastChild:we.consumed.length,parameters:ut,positionalParamSegments:null!==($=we.posParams)&&void 0!==$?$:{}}}function ai(V,x,D,$,oe="corrected"){if(D.length>0&&function(V,x,D){return D.some($=>Qr(V,x,$)&&Ft($)!==An)}(V,D,$)){const We=new rr(x,function(V,x,D,$){const oe={};oe[An]=$,$._sourceSegment=V,$._segmentIndexShift=x.length;for(const we of D)if(""===we.path&&Ft(we)!==An){const We=new rr([],{});We._sourceSegment=V,We._segmentIndexShift=x.length,oe[Ft(we)]=We}return oe}(V,x,$,new rr(D,V.children)));return We._sourceSegment=V,We._segmentIndexShift=x.length,{segmentGroup:We,slicedSegments:[]}}if(0===D.length&&function(V,x,D){return D.some($=>Qr(V,x,$))}(V,D,$)){const We=new rr(V.segments,function(V,x,D,$,oe,we){const We={};for(const ut of $)if(Qr(V,D,ut)&&!oe[Ft(ut)]){const $t=new rr([],{});$t._sourceSegment=V,$t._segmentIndexShift="legacy"===we?V.segments.length:x.length,We[Ft(ut)]=$t}return Object.assign(Object.assign({},oe),We)}(V,x,D,$,V.children,oe));return We._sourceSegment=V,We._segmentIndexShift=x.length,{segmentGroup:We,slicedSegments:D}}const we=new rr(V.segments,V.children);return we._sourceSegment=V,we._segmentIndexShift=x.length,{segmentGroup:we,slicedSegments:D}}function Qr(V,x,D){return(!(V.hasChildren()||x.length>0)||"full"!==D.pathMatch)&&""===D.path}function ls(V,x,D,$){return!!(Ft(V)===$||$!==An&&Qr(x,D,V))&&("**"===V.path||Jn(x,V,D).matched)}function ro(V,x,D){return 0===x.length&&!V.children[D]}class yi{constructor(x){this.segmentGroup=x||null}}class Fi{constructor(x){this.urlTree=x}}function Er(V){return new Fe.y(x=>x.error(new yi(V)))}function di(V){return new Fe.y(x=>x.error(new Fi(V)))}function ko(V){return new Fe.y(x=>x.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${V}'`)))}class Co{constructor(x,D,$,oe,we){this.configLoader=D,this.urlSerializer=$,this.urlTree=oe,this.config=we,this.allowRedirects=!0,this.ngModule=x.get(b.h0i)}apply(){const x=ai(this.urlTree.root,[],[],this.config).segmentGroup,D=new rr(x.segments,x.children);return this.expandSegmentGroup(this.ngModule,this.config,D,An).pipe((0,vn.U)(we=>this.createUrlTree(Vr(we),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wn(we=>{if(we instanceof Fi)return this.allowRedirects=!1,this.match(we.urlTree);throw we instanceof yi?this.noMatchError(we):we}))}match(x){return this.expandSegmentGroup(this.ngModule,this.config,x.root,An).pipe((0,vn.U)(oe=>this.createUrlTree(Vr(oe),x.queryParams,x.fragment))).pipe(Wn(oe=>{throw oe instanceof yi?this.noMatchError(oe):oe}))}noMatchError(x){return new Error(`Cannot match any routes. URL Segment: '${x.segmentGroup}'`)}createUrlTree(x,D,$){const oe=x.segments.length>0?new rr([],{[An]:x}):x;return new Gi(oe,D,$)}expandSegmentGroup(x,D,$,oe){return 0===$.segments.length&&$.hasChildren()?this.expandChildren(x,D,$).pipe((0,vn.U)(we=>new rr([],we))):this.expandSegment(x,$,D,$.segments,oe,!0)}expandChildren(x,D,$){const oe=[];for(const we of Object.keys($.children))"primary"===we?oe.unshift(we):oe.push(we);return(0,je.D)(oe).pipe((0,jt.b)(we=>{const We=$.children[we],ut=gn(D,we);return this.expandSegmentGroup(x,ut,We,we).pipe((0,vn.U)($t=>({segment:$t,outlet:we})))}),(0,hn.R)((we,We)=>(we[We.outlet]=We.segment,we),{}),function(V,x){const D=arguments.length>=2;return $=>$.pipe(V?(0,ce.h)((oe,we)=>V(oe,we,$)):un.y,_t(1),D?(0,yn.d)(x):(0,Ut.T)(()=>new At.K))}())}expandSegment(x,D,$,oe,we,We){return(0,je.D)($).pipe((0,jt.b)(ut=>this.expandSegmentAgainstRoute(x,D,$,ut,oe,we,We).pipe(Wn(Hn=>{if(Hn instanceof yi)return(0,Ve.of)(null);throw Hn}))),(0,Un.P)(ut=>!!ut),Wn((ut,$t)=>{if(ut instanceof At.K||"EmptyError"===ut.name){if(ro(D,oe,we))return(0,Ve.of)(new rr([],{}));throw new yi(D)}throw ut}))}expandSegmentAgainstRoute(x,D,$,oe,we,We,ut){return ls(oe,D,we,We)?void 0===oe.redirectTo?this.matchSegmentAgainstRoute(x,D,oe,we,We):ut&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,D,$,oe,we,We):Er(D):Er(D)}expandSegmentAgainstRouteUsingRedirect(x,D,$,oe,we,We){return"**"===oe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,$,oe,We):this.expandRegularSegmentAgainstRouteUsingRedirect(x,D,$,oe,we,We)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,D,$,oe){const we=this.applyRedirectCommands([],$.redirectTo,{});return $.redirectTo.startsWith("/")?di(we):this.lineralizeSegments($,we).pipe((0,Gn.zg)(We=>{const ut=new rr(We,{});return this.expandSegment(x,ut,D,We,oe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,D,$,oe,we,We){const{matched:ut,consumedSegments:$t,lastChild:Hn,positionalParamSegments:Xt}=Jn(D,oe,we);if(!ut)return Er(D);const Zn=this.applyRedirectCommands($t,oe.redirectTo,Xt);return oe.redirectTo.startsWith("/")?di(Zn):this.lineralizeSegments(oe,Zn).pipe((0,Gn.zg)(pi=>this.expandSegment(x,D,$,pi.concat(we.slice(Hn)),We,!1)))}matchSegmentAgainstRoute(x,D,$,oe,we){if("**"===$.path)return $.loadChildren?($._loadedConfig?(0,Ve.of)($._loadedConfig):this.configLoader.load(x.injector,$)).pipe((0,vn.U)(pi=>($._loadedConfig=pi,new rr(oe,{})))):(0,Ve.of)(new rr(oe,{}));const{matched:We,consumedSegments:ut,lastChild:$t}=Jn(D,$,oe);if(!We)return Er(D);const Hn=oe.slice($t);return this.getChildConfig(x,$,oe).pipe((0,Gn.zg)(Zn=>{const pi=Zn.module,Ei=Zn.routes,{segmentGroup:Os,slicedSegments:Gs}=ai(D,ut,Hn,Ei),ws=new rr(Os.segments,Os.children);if(0===Gs.length&&ws.hasChildren())return this.expandChildren(pi,Ei,ws).pipe((0,vn.U)(Bu=>new rr(ut,Bu)));if(0===Ei.length&&0===Gs.length)return(0,Ve.of)(new rr(ut,{}));const ra=Ft($)===we;return this.expandSegment(pi,ws,Ei,Gs,ra?An:we,!0).pipe((0,vn.U)(ka=>new rr(ut.concat(ka.segments),ka.children)))}))}getChildConfig(x,D,$){return D.children?(0,Ve.of)(new ne(D.children,x)):D.loadChildren?void 0!==D._loadedConfig?(0,Ve.of)(D._loadedConfig):this.runCanLoadGuards(x.injector,D,$).pipe((0,Gn.zg)(oe=>{return oe?this.configLoader.load(x.injector,D).pipe((0,vn.U)(we=>(D._loadedConfig=we,we))):(V=D,new Fe.y(x=>x.error(Ue(`Cannot load children because the guard of the route "path: '${V.path}'" returned false`))));var V})):(0,Ve.of)(new ne([],x))}runCanLoadGuards(x,D,$){const oe=D.canLoad;if(!oe||0===oe.length)return(0,Ve.of)(!0);const we=oe.map(We=>{const ut=x.get(We);let $t;if((V=ut)&&ye(V.canLoad))$t=ut.canLoad(D,$);else{if(!ye(ut))throw new Error("Invalid CanLoad guard");$t=ut(D,$)}var V;return ur($t)});return(0,Ve.of)(we).pipe(no(),(0,bn.b)(We=>{if(!Le(We))return;const ut=Ue(`Redirecting to "${this.urlSerializer.serialize(We)}"`);throw ut.url=We,ut}),(0,vn.U)(We=>!0===We))}lineralizeSegments(x,D){let $=[],oe=D.root;for(;;){if($=$.concat(oe.segments),0===oe.numberOfChildren)return(0,Ve.of)($);if(oe.numberOfChildren>1||!oe.children[An])return ko(x.redirectTo);oe=oe.children[An]}}applyRedirectCommands(x,D,$){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),x,$)}applyRedirectCreatreUrlTree(x,D,$,oe){const we=this.createSegmentGroup(x,D.root,$,oe);return new Gi(we,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(x,D){const $={};return Ln(x,(oe,we)=>{if("string"==typeof oe&&oe.startsWith(":")){const ut=oe.substring(1);$[we]=D[ut]}else $[we]=oe}),$}createSegmentGroup(x,D,$,oe){const we=this.createSegments(x,D.segments,$,oe);let We={};return Ln(D.children,(ut,$t)=>{We[$t]=this.createSegmentGroup(x,ut,$,oe)}),new rr(we,We)}createSegments(x,D,$,oe){return D.map(we=>we.path.startsWith(":")?this.findPosParam(x,we,oe):this.findOrReturn(we,$))}findPosParam(x,D,$){const oe=$[D.path.substring(1)];if(!oe)throw new Error(`Cannot redirect to '${x}'. Cannot find '${D.path}'.`);return oe}findOrReturn(x,D){let $=0;for(const oe of D){if(oe.path===x.path)return D.splice($),oe;$++}return x}}function Vr(V){const x={};for(const $ of Object.keys(V.children)){const we=Vr(V.children[$]);(we.segments.length>0||we.hasChildren())&&(x[$]=we)}return function(V){if(1===V.numberOfChildren&&V.children[An]){const x=V.children[An];return new rr(V.segments.concat(x.segments),x.children)}return V}(new rr(V.segments,x))}class ua{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class hr{constructor(x,D){this.component=x,this.route=D}}function ji(V,x,D){const $=V._root;return eo($,x?x._root:null,D,[$.value])}function Ii(V,x,D){const $=function(V){if(!V)return null;for(let x=V.parent;x;x=x.parent){const D=x.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(x);return($?$.module.injector:D).get(V)}function eo(V,x,D,$,oe={canDeactivateChecks:[],canActivateChecks:[]}){const we=lr(x);return V.children.forEach(We=>{(function(V,x,D,$,oe={canDeactivateChecks:[],canActivateChecks:[]}){const we=V.value,We=x?x.value:null,ut=D?D.getContext(V.value.outlet):null;if(We&&we.routeConfig===We.routeConfig){const $t=function(V,x,D){if("function"==typeof D)return D(V,x);switch(D){case"pathParamsChange":return!to(V.url,x.url);case"pathParamsOrQueryParamsChange":return!to(V.url,x.url)||!Qe(V.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kr(V,x)||!Qe(V.queryParams,x.queryParams);case"paramsChange":default:return!kr(V,x)}}(We,we,we.routeConfig.runGuardsAndResolvers);$t?oe.canActivateChecks.push(new ua($)):(we.data=We.data,we._resolvedData=We._resolvedData),eo(V,x,we.component?ut?ut.children:null:D,$,oe),$t&&ut&&ut.outlet&&ut.outlet.isActivated&&oe.canDeactivateChecks.push(new hr(ut.outlet.component,We))}else We&&Jt(x,ut,oe),oe.canActivateChecks.push(new ua($)),eo(V,null,we.component?ut?ut.children:null:D,$,oe)})(We,we[We.value.outlet],D,$.concat([We.value]),oe),delete we[We.value.outlet]}),Ln(we,(We,ut)=>Jt(We,D.getContext(ut),oe)),oe}function Jt(V,x,D){const $=lr(V),oe=V.value;Ln($,(we,We)=>{Jt(we,oe.component?x?x.children.getContext(We):null:x,D)}),D.canDeactivateChecks.push(new hr(oe.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,oe))}class Jo{}function go(V){return new Fe.y(x=>x.error(V))}class as{constructor(x,D,$,oe,we,We){this.rootComponentType=x,this.config=D,this.urlTree=$,this.url=oe,this.paramsInheritanceStrategy=we,this.relativeLinkResolution=We}recognize(){const x=ai(this.urlTree.root,[],[],this.config.filter(We=>void 0===We.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,x,An);if(null===D)return null;const $=new Hr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),oe=new ei($,D),we=new mi(this.url,oe);return this.inheritParamsAndData(we._root),we}inheritParamsAndData(x){const D=x.value,$=Nr(D,this.paramsInheritanceStrategy);D.params=Object.freeze($.params),D.data=Object.freeze($.data),x.children.forEach(oe=>this.inheritParamsAndData(oe))}processSegmentGroup(x,D,$){return 0===D.segments.length&&D.hasChildren()?this.processChildren(x,D):this.processSegment(x,D,D.segments,$)}processChildren(x,D){const $=[];for(const we of Object.keys(D.children)){const We=D.children[we],ut=gn(x,we),$t=this.processSegmentGroup(ut,We,we);if(null===$t)return null;$.push(...$t)}const oe=$o($);return oe.sort((x,D)=>x.value.outlet===An?-1:D.value.outlet===An?1:x.value.outlet.localeCompare(D.value.outlet)),oe}processSegment(x,D,$,oe){for(const we of x){const We=this.processSegmentAgainstRoute(we,D,$,oe);if(null!==We)return We}return ro(D,$,oe)?[]:null}processSegmentAgainstRoute(x,D,$,oe){if(x.redirectTo||!ls(x,D,$,oe))return null;let we,We=[],ut=[];if("**"===x.path){const Ei=$.length>0?Ht($).parameters:{};we=new Hr($,Ei,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,es(x),Ft(x),x.component,x,Bs(D),ca(D)+$.length,fo(x))}else{const Ei=Jn(D,x,$);if(!Ei.matched)return null;We=Ei.consumedSegments,ut=$.slice(Ei.lastChild),we=new Hr(We,Ei.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,es(x),Ft(x),x.component,x,Bs(D),ca(D)+We.length,fo(x))}const $t=(V=x).children?V.children:V.loadChildren?V._loadedConfig.routes:[],{segmentGroup:Hn,slicedSegments:Xt}=ai(D,We,ut,$t.filter(Ei=>void 0===Ei.redirectTo),this.relativeLinkResolution);var V;if(0===Xt.length&&Hn.hasChildren()){const Ei=this.processChildren($t,Hn);return null===Ei?null:[new ei(we,Ei)]}if(0===$t.length&&0===Xt.length)return[new ei(we,[])];const Zn=Ft(x)===oe,pi=this.processSegment($t,Hn,Xt,Zn?An:oe);return null===pi?null:[new ei(we,pi)]}}function fs(V){const x=V.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function $o(V){const x=[],D=new Set;for(const $ of V){if(!fs($)){x.push($);continue}const oe=x.find(we=>$.value.routeConfig===we.value.routeConfig);void 0!==oe?(oe.children.push(...$.children),D.add(oe)):x.push($)}for(const $ of D){const oe=$o($.children);x.push(new ei($.value,oe))}return x.filter($=>!D.has($))}function Bs(V){let x=V;for(;x._sourceSegment;)x=x._sourceSegment;return x}function ca(V){let x=V,D=x._segmentIndexShift?x._segmentIndexShift:0;for(;x._sourceSegment;)x=x._sourceSegment,D+=x._segmentIndexShift?x._segmentIndexShift:0;return D-1}function es(V){return V.data||{}}function fo(V){return V.resolve||{}}function wi(V){return(0,vt.w)(x=>{const D=V(x);return D?(0,je.D)(D).pipe((0,vn.U)(()=>x)):(0,Ve.of)(x)})}class ys extends class{shouldDetach(x){return!1}store(x,D){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,D){return x.routeConfig===D.routeConfig}}{}const xo=new b.OlP("ROUTES");class la{constructor(x,D,$,oe){this.loader=x,this.compiler=D,this.onLoadStartListener=$,this.onLoadEndListener=oe}load(x,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const oe=this.loadModuleFactory(D.loadChildren).pipe((0,vn.U)(we=>{this.onLoadEndListener&&this.onLoadEndListener(D);const We=we.create(x);return new ne(Lt(We.injector.get(xo,void 0,b.XFs.Self|b.XFs.Optional)).map(ot),We)}),Wn(we=>{throw D._loader$=void 0,we}));return D._loader$=new bt.c(oe,()=>new tn.xQ).pipe((0,kn.x)()),D._loader$}loadModuleFactory(x){return"string"==typeof x?(0,je.D)(this.loader.load(x)):ur(x()).pipe((0,Gn.zg)(D=>D instanceof b.YKP?(0,Ve.of)(D):(0,je.D)(this.compiler.compileModuleAsync(D))))}}class ya{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vo,this.attachRef=null}}class vo{constructor(){this.contexts=new Map}onChildOutletCreated(x,D){const $=this.getOrCreateContext(x);$.outlet=D,this.contexts.set(x,$)}onChildOutletDestroyed(x){const D=this.getContext(x);D&&(D.outlet=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let D=this.getContext(x);return D||(D=new ya,this.contexts.set(x,D)),D}getContext(x){return this.contexts.get(x)||null}}class Qi{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,D){return x}}function ts(V){throw V}function $i(V,x,D){return x.parse("/")}function Hs(V,x){return(0,Ve.of)(null)}let hi=(()=>{class V{constructor(D,$,oe,we,We,ut,$t,Hn){this.rootComponentType=D,this.urlSerializer=$,this.rootContexts=oe,this.location=we,this.config=Hn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new tn.xQ,this.errorHandler=ts,this.malformedUriErrorHandler=$i,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hs,afterPreactivation:Hs},this.urlHandlingStrategy=new Qi,this.routeReuseStrategy=new ys,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=We.get(b.h0i),this.console=We.get(b.c2e);const pi=We.get(b.R0b);this.isNgZoneEnabled=pi instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(Hn),this.currentUrlTree=new Gi(new rr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new la(ut,$t,Ei=>this.triggerEvent(new wt(Ei)),Ei=>this.triggerEvent(new ht(Ei))),this.routerState=zr(this.currentUrlTree,this.rootComponentType),this.transitions=new at.X({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(D){const $=this.events;return D.pipe((0,ce.h)(oe=>0!==oe.id),(0,vn.U)(oe=>Object.assign(Object.assign({},oe),{extractedUrl:this.urlHandlingStrategy.extract(oe.rawUrl)})),(0,vt.w)(oe=>{let we=!1,We=!1;return(0,Ve.of)(oe).pipe((0,bn.b)(ut=>{this.currentNavigation={id:ut.id,initialUrl:ut.currentRawUrl,extractedUrl:ut.extractedUrl,trigger:ut.source,extras:ut.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,vt.w)(ut=>{const $t=!this.navigated||ut.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||$t)&&this.urlHandlingStrategy.shouldProcessUrl(ut.rawUrl))return(0,Ve.of)(ut).pipe((0,vt.w)(Xt=>{const Zn=this.transitions.getValue();return $.next(new He(Xt.id,this.serializeUrl(Xt.extractedUrl),Xt.source,Xt.restoredState)),Zn!==this.transitions.getValue()?nt.E:Promise.resolve(Xt)}),function(V,x,D,$){return(0,vt.w)(oe=>function(V,x,D,$,oe){return new Co(V,x,D,$,oe).apply()}(V,x,D,oe.extractedUrl,$).pipe((0,vn.U)(we=>Object.assign(Object.assign({},oe),{urlAfterRedirects:we}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(Xt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Xt.urlAfterRedirects})}),function(V,x,D,$,oe){return(0,Gn.zg)(we=>function(V,x,D,$,oe="emptyOnly",we="legacy"){try{const We=new as(V,x,D,$,oe,we).recognize();return null===We?go(new Jo):(0,Ve.of)(We)}catch(We){return go(We)}}(V,x,we.urlAfterRedirects,D(we.urlAfterRedirects),$,oe).pipe((0,vn.U)(We=>Object.assign(Object.assign({},we),{targetSnapshot:We}))))}(this.rootComponentType,this.config,Xt=>this.serializeUrl(Xt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(Xt=>{"eager"===this.urlUpdateStrategy&&(Xt.extras.skipLocationChange||this.setBrowserUrl(Xt.urlAfterRedirects,!!Xt.extras.replaceUrl,Xt.id,Xt.extras.state),this.browserUrlTree=Xt.urlAfterRedirects);const Zn=new Tn(Xt.id,this.serializeUrl(Xt.extractedUrl),this.serializeUrl(Xt.urlAfterRedirects),Xt.targetSnapshot);$.next(Zn)}));if($t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zn,extractedUrl:pi,source:Ei,restoredState:Os,extras:Gs}=ut,ws=new He(Zn,this.serializeUrl(pi),Ei,Os);$.next(ws);const ra=zr(pi,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},ut),{targetSnapshot:ra,urlAfterRedirects:pi,extras:Object.assign(Object.assign({},Gs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ut.rawUrl,this.browserUrlTree=ut.urlAfterRedirects,ut.resolve(null),nt.E}),wi(ut=>{const{targetSnapshot:$t,id:Hn,extractedUrl:Xt,rawUrl:Zn,extras:{skipLocationChange:pi,replaceUrl:Ei}}=ut;return this.hooks.beforePreactivation($t,{navigationId:Hn,appliedUrlTree:Xt,rawUrlTree:Zn,skipLocationChange:!!pi,replaceUrl:!!Ei})}),(0,bn.b)(ut=>{const $t=new nn(ut.id,this.serializeUrl(ut.extractedUrl),this.serializeUrl(ut.urlAfterRedirects),ut.targetSnapshot);this.triggerEvent($t)}),(0,vn.U)(ut=>Object.assign(Object.assign({},ut),{guards:ji(ut.targetSnapshot,ut.currentSnapshot,this.rootContexts)})),function(V,x){return(0,Gn.zg)(D=>{const{targetSnapshot:$,currentSnapshot:oe,guards:{canActivateChecks:we,canDeactivateChecks:We}}=D;return 0===We.length&&0===we.length?(0,Ve.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function(V,x,D,$){return(0,je.D)(V).pipe((0,Gn.zg)(oe=>function(V,x,D,$,oe){const we=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!we||0===we.length)return(0,Ve.of)(!0);const We=we.map(ut=>{const $t=Ii(ut,x,oe);let Hn;if(function(V){return V&&ye(V.canDeactivate)}($t))Hn=ur($t.canDeactivate(V,x,D,$));else{if(!ye($t))throw new Error("Invalid CanDeactivate guard");Hn=ur($t(V,x,D,$))}return Hn.pipe((0,Un.P)())});return(0,Ve.of)(We).pipe(no())}(oe.component,oe.route,D,x,$)),(0,Un.P)(oe=>!0!==oe,!0))}(We,$,oe,V).pipe((0,Gn.zg)(ut=>ut&&function(V){return"boolean"==typeof V}(ut)?function(V,x,D,$){return(0,je.D)(x).pipe((0,jt.b)(oe=>(0,It.z)(function(V,x){return null!==V&&x&&x(new Yt(V)),(0,Ve.of)(!0)}(oe.route.parent,$),function(V,x){return null!==V&&x&&x(new or(V)),(0,Ve.of)(!0)}(oe.route,$),function(V,x,D){const $=x[x.length-1],we=x.slice(0,x.length-1).reverse().map(We=>function(V){const x=V.routeConfig?V.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:V,guards:x}:null}(We)).filter(We=>null!==We).map(We=>Me(()=>{const ut=We.guards.map($t=>{const Hn=Ii($t,We.node,D);let Xt;if(function(V){return V&&ye(V.canActivateChild)}(Hn))Xt=ur(Hn.canActivateChild($,V));else{if(!ye(Hn))throw new Error("Invalid CanActivateChild guard");Xt=ur(Hn($,V))}return Xt.pipe((0,Un.P)())});return(0,Ve.of)(ut).pipe(no())}));return(0,Ve.of)(we).pipe(no())}(V,oe.path,D),function(V,x,D){const $=x.routeConfig?x.routeConfig.canActivate:null;if(!$||0===$.length)return(0,Ve.of)(!0);const oe=$.map(we=>Me(()=>{const We=Ii(we,x,D);let ut;if(function(V){return V&&ye(V.canActivate)}(We))ut=ur(We.canActivate(x,V));else{if(!ye(We))throw new Error("Invalid CanActivate guard");ut=ur(We(x,V))}return ut.pipe((0,Un.P)())}));return(0,Ve.of)(oe).pipe(no())}(V,oe.route,D))),(0,Un.P)(oe=>!0!==oe,!0))}($,we,V,x):(0,Ve.of)(ut)),(0,vn.U)(ut=>Object.assign(Object.assign({},D),{guardsResult:ut})))})}(this.ngModule.injector,ut=>this.triggerEvent(ut)),(0,bn.b)(ut=>{if(Le(ut.guardsResult)){const Hn=Ue(`Redirecting to "${this.serializeUrl(ut.guardsResult)}"`);throw Hn.url=ut.guardsResult,Hn}const $t=new Bn(ut.id,this.serializeUrl(ut.extractedUrl),this.serializeUrl(ut.urlAfterRedirects),ut.targetSnapshot,!!ut.guardsResult);this.triggerEvent($t)}),(0,ce.h)(ut=>{if(!ut.guardsResult){this.resetUrlToCurrentUrlTree();const $t=new Nt(ut.id,this.serializeUrl(ut.extractedUrl),"");return $.next($t),ut.resolve(!1),!1}return!0}),wi(ut=>{if(ut.guards.canActivateChecks.length)return(0,Ve.of)(ut).pipe((0,bn.b)($t=>{const Hn=new pt($t.id,this.serializeUrl($t.extractedUrl),this.serializeUrl($t.urlAfterRedirects),$t.targetSnapshot);this.triggerEvent(Hn)}),(0,vt.w)($t=>{let Hn=!1;return(0,Ve.of)($t).pipe(function(V,x){return(0,Gn.zg)(D=>{const{targetSnapshot:$,guards:{canActivateChecks:oe}}=D;if(!oe.length)return(0,Ve.of)(D);let we=0;return(0,je.D)(oe).pipe((0,jt.b)(We=>function(V,x,D,$){return function(V,x,D,$){const oe=Object.keys(V);if(0===oe.length)return(0,Ve.of)({});const we={};return(0,je.D)(oe).pipe((0,Gn.zg)(We=>function(V,x,D,$){const oe=Ii(V,x,$);return ur(oe.resolve?oe.resolve(x,D):oe(x,D))}(V[We],x,D,$).pipe((0,bn.b)(ut=>{we[We]=ut}))),_t(1),(0,Gn.zg)(()=>Object.keys(we).length===oe.length?(0,Ve.of)(we):nt.E))}(V._resolve,V,x,$).pipe((0,vn.U)(we=>(V._resolvedData=we,V.data=Object.assign(Object.assign({},V.data),Nr(V,D).resolve),null)))}(We.route,$,V,x)),(0,bn.b)(()=>we++),_t(1),(0,Gn.zg)(We=>we===oe.length?(0,Ve.of)(D):nt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>Hn=!0,complete:()=>{if(!Hn){const Xt=new Nt($t.id,this.serializeUrl($t.extractedUrl),"At least one route resolver didn't emit any value.");$.next(Xt),$t.resolve(!1)}}}))}),(0,bn.b)($t=>{const Hn=new ln($t.id,this.serializeUrl($t.extractedUrl),this.serializeUrl($t.urlAfterRedirects),$t.targetSnapshot);this.triggerEvent(Hn)}))}),wi(ut=>{const{targetSnapshot:$t,id:Hn,extractedUrl:Xt,rawUrl:Zn,extras:{skipLocationChange:pi,replaceUrl:Ei}}=ut;return this.hooks.afterPreactivation($t,{navigationId:Hn,appliedUrlTree:Xt,rawUrlTree:Zn,skipLocationChange:!!pi,replaceUrl:!!Ei})}),(0,vn.U)(ut=>{const $t=function(V,x,D){const $=vi(V,x._root,D?D._root:void 0);return new Fn($,x)}(this.routeReuseStrategy,ut.targetSnapshot,ut.currentRouterState);return Object.assign(Object.assign({},ut),{targetRouterState:$t})}),(0,bn.b)(ut=>{this.currentUrlTree=ut.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ut.rawUrl),this.routerState=ut.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ut.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!ut.extras.replaceUrl,ut.id,ut.extras.state),this.browserUrlTree=ut.urlAfterRedirects)}),((V,x,D)=>(0,vn.U)($=>(new z(x,$.targetRouterState,$.currentRouterState,D).activate(V),$)))(this.rootContexts,this.routeReuseStrategy,ut=>this.triggerEvent(ut)),(0,bn.b)({next(){we=!0},complete(){we=!0}}),function(V){return x=>x.lift(new _n(V))}(()=>{if(!we&&!We){this.resetUrlToCurrentUrlTree();const ut=new Nt(oe.id,this.serializeUrl(oe.extractedUrl),`Navigation ID ${oe.id} is not equal to the current navigation id ${this.navigationId}`);$.next(ut),oe.resolve(!1)}this.currentNavigation=null}),Wn(ut=>{if(We=!0,function(V){return V&&V[et]}(ut)){const $t=Le(ut.url);$t||(this.navigated=!0,this.resetStateAndUrl(oe.currentRouterState,oe.currentUrlTree,oe.rawUrl));const Hn=new Nt(oe.id,this.serializeUrl(oe.extractedUrl),ut.message);$.next(Hn),$t?setTimeout(()=>{const Xt=this.urlHandlingStrategy.merge(ut.url,this.rawUrlTree);this.scheduleNavigation(Xt,"imperative",null,{skipLocationChange:oe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:oe.resolve,reject:oe.reject,promise:oe.promise})},0):oe.resolve(!1)}else{this.resetStateAndUrl(oe.currentRouterState,oe.currentUrlTree,oe.rawUrl);const $t=new Tt(oe.id,this.serializeUrl(oe.extractedUrl),ut);$.next($t);try{oe.resolve(this.errorHandler(ut))}catch(Hn){oe.reject(Hn)}}return nt.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}getTransition(){const D=this.transitions.value;return D.urlAfterRedirects=this.browserUrlTree,D}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const $=this.extractLocationChangeInfoFromEvent(D);this.shouldScheduleNavigation(this.lastLocationChangeInfo,$)&&setTimeout(()=>{const{source:oe,state:we,urlTree:We}=$,ut={replaceUrl:!0};if(we){const $t=Object.assign({},we);delete $t.navigationId,0!==Object.keys($t).length&&(ut.state=$t)}this.scheduleNavigation(We,oe,we,ut)},0),this.lastLocationChangeInfo=$}))}extractLocationChangeInfoFromEvent(D){var $;return{source:"popstate"===D.type?"popstate":"hashchange",urlTree:this.parseUrl(D.url),state:(null===($=D.state)||void 0===$?void 0:$.navigationId)?D.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(D,$){if(!D)return!0;const oe=$.urlTree.toString()===D.urlTree.toString();return $.transitionId!==D.transitionId||!oe||!("hashchange"===$.source&&"popstate"===D.source||"popstate"===$.source&&"hashchange"===D.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){de(D),this.config=D.map(ot),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,$={}){const{relativeTo:oe,queryParams:we,fragment:We,queryParamsHandling:ut,preserveFragment:$t}=$,Hn=oe||this.routerState.root,Xt=$t?this.currentUrlTree.fragment:We;let Zn=null;switch(ut){case"merge":Zn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),we);break;case"preserve":Zn=this.currentUrlTree.queryParams;break;default:Zn=we||null}return null!==Zn&&(Zn=this.removeEmptyProps(Zn)),function(V,x,D,$,oe){if(0===D.length)return ki(x.root,x.root,x,$,oe);const we=function(V){if("string"==typeof V[0]&&1===V.length&&"/"===V[0])return new fr(!0,0,V);let x=0,D=!1;const $=V.reduce((oe,we,We)=>{if("object"==typeof we&&null!=we){if(we.outlets){const ut={};return Ln(we.outlets,($t,Hn)=>{ut[Hn]="string"==typeof $t?$t.split("/"):$t}),[...oe,{outlets:ut}]}if(we.segmentPath)return[...oe,we.segmentPath]}return"string"!=typeof we?[...oe,we]:0===We?(we.split("/").forEach((ut,$t)=>{0==$t&&"."===ut||(0==$t&&""===ut?D=!0:".."===ut?x++:""!=ut&&oe.push(ut))}),oe):[...oe,we]},[]);return new fr(D,x,$)}(D);if(we.toRoot())return ki(x.root,new rr([],{}),x,$,oe);const We=function(V,x,D){if(V.isAbsolute)return new qn(x.root,!0,0);if(-1===D.snapshot._lastPathIndex){const we=D.snapshot._urlSegment;return new qn(we,we===x.root,0)}const $=uo(V.commands[0])?0:1;return function(V,x,D){let $=V,oe=x,we=D;for(;we>oe;){if(we-=oe,$=$.parent,!$)throw new Error("Invalid number of '../'");oe=$.segments.length}return new qn($,!1,oe-we)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+$,V.numberOfDoubleDots)}(we,x,V),ut=We.processChildren?Ie(We.segmentGroup,We.index,we.commands):W(We.segmentGroup,We.index,we.commands);return ki(We.segmentGroup,ut,x,$,oe)}(Hn,this.currentUrlTree,D,Zn,Xt)}navigateByUrl(D,$={skipLocationChange:!1}){const oe=Le(D)?D:this.parseUrl(D),we=this.urlHandlingStrategy.merge(oe,this.rawUrlTree);return this.scheduleNavigation(we,"imperative",null,$)}navigate(D,$={skipLocationChange:!1}){return function(V){for(let x=0;x<V.length;x++){const D=V[x];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${x}`)}}(D),this.navigateByUrl(this.createUrlTree(D,$),$)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let $;try{$=this.urlSerializer.parse(D)}catch(oe){$=this.malformedUriErrorHandler(oe,this.urlSerializer,D)}return $}isActive(D,$){if(Le(D))return Lr(this.currentUrlTree,D,$);const oe=this.parseUrl(D);return Lr(this.currentUrlTree,oe,$)}removeEmptyProps(D){return Object.keys(D).reduce(($,oe)=>{const we=D[oe];return null!=we&&($[oe]=we),$},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.events.next(new qe(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(D,$,oe,we,We){if(this.disposed)return Promise.resolve(!1);const ut=this.getTransition(),$t="imperative"!==$&&"imperative"===(null==ut?void 0:ut.source),Zn=(this.lastSuccessfulId===ut.id||this.currentNavigation?ut.rawUrl:ut.urlAfterRedirects).toString()===D.toString();if($t&&Zn)return Promise.resolve(!0);let pi,Ei,Os;We?(pi=We.resolve,Ei=We.reject,Os=We.promise):Os=new Promise((ws,ra)=>{pi=ws,Ei=ra});const Gs=++this.navigationId;return this.setTransition({id:Gs,source:$,restoredState:oe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:we,resolve:pi,reject:Ei,promise:Os,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Os.catch(ws=>Promise.reject(ws))}setBrowserUrl(D,$,oe,we){const We=this.urlSerializer.serialize(D);we=we||{},this.location.isCurrentPathEqualTo(We)||$?this.location.replaceState(We,"",Object.assign(Object.assign({},we),{navigationId:oe})):this.location.go(We,"",Object.assign(Object.assign({},we),{navigationId:oe}))}resetStateAndUrl(D,$,oe){this.routerState=D,this.currentUrlTree=$,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,oe),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return V.\u0275fac=function(D){return new(D||V)(b.LFG(b.DyG),b.LFG(Ri),b.LFG(vo),b.LFG(E.Ye),b.LFG(b.zs3),b.LFG(b.v3s),b.LFG(b.Sil),b.LFG(void 0))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})(),y=(()=>{class V{constructor(D,$,oe,we,We){this.router=D,this.route=$,this.commands=[],this.onChanges=new tn.xQ,null==oe&&we.setAttribute(We.nativeElement,"tabindex","0")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:[]}onClick(){const D={skipLocationChange:X(this.skipLocationChange),replaceUrl:X(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:X(this.preserveFragment)})}}return V.\u0275fac=function(D){return new(D||V)(b.Y36(hi),b.Y36(ii),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq))},V.\u0275dir=b.lG2({type:V,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,$){1&D&&b.NdJ("click",function(){return $.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[b.TTD]}),V})(),U=(()=>{class V{constructor(D,$,oe){this.router=D,this.route=$,this.locationStrategy=oe,this.commands=[],this.onChanges=new tn.xQ,this.subscription=D.events.subscribe(we=>{we instanceof qe&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:[]}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,$,oe,we,We){if(0!==D||$||oe||we||We||"string"==typeof this.target&&"_self"!=this.target)return!0;const ut={skipLocationChange:X(this.skipLocationChange),replaceUrl:X(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ut),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:X(this.preserveFragment)})}}return V.\u0275fac=function(D){return new(D||V)(b.Y36(hi),b.Y36(ii),b.Y36(E.S$))},V.\u0275dir=b.lG2({type:V,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,$){1&D&&b.NdJ("click",function(we){return $.onClick(we.button,we.ctrlKey,we.shiftKey,we.altKey,we.metaKey)}),2&D&&(b.Ikx("href",$.href,b.LSH),b.uIk("target",$.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[b.TTD]}),V})();function X(V){return""===V||!!V}let A=(()=>{class V{constructor(D,$,oe,we,We){this.parentContexts=D,this.location=$,this.resolver=oe,this.changeDetector=We,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.name=we||An,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,D}attach(D,$){this.activated=D,this._activatedRoute=$,this.location.insert(D.hostView)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const We=($=$||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),ut=this.parentContexts.getOrCreateContext(this.name).children,$t=new R(D,ut,this.location.injector);this.activated=this.location.createComponent(We,this.location.length,$t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return V.\u0275fac=function(D){return new(D||V)(b.Y36(vo),b.Y36(b.s_b),b.Y36(b._Vd),b.$8M("name"),b.Y36(b.sBO))},V.\u0275dir=b.lG2({type:V,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),V})();class R{constructor(x,D,$){this.route=x,this.childContexts=D,this.parent=$}get(x,D){return x===ii?this.route:x===vo?this.childContexts:this.parent.get(x,D)}}class te{}class Vt{preload(x,D){return(0,Ve.of)(null)}}let Cn=(()=>{class V{constructor(D,$,oe,we,We){this.router=D,this.injector=we,this.preloadingStrategy=We,this.loader=new la($,oe,Hn=>D.triggerEvent(new wt(Hn)),Hn=>D.triggerEvent(new ht(Hn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ce.h)(D=>D instanceof qe),(0,jt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(b.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,$){const oe=[];for(const we of $)if(we.loadChildren&&!we.canLoad&&we._loadedConfig){const We=we._loadedConfig;oe.push(this.processRoutes(We.module,We.routes))}else we.loadChildren&&!we.canLoad?oe.push(this.preloadConfig(D,we)):we.children&&oe.push(this.processRoutes(D,we.children));return(0,je.D)(oe).pipe((0,In.J)(),(0,vn.U)(we=>{}))}preloadConfig(D,$){return this.preloadingStrategy.preload($,()=>($._loadedConfig?(0,Ve.of)($._loadedConfig):this.loader.load(D.injector,$)).pipe((0,Gn.zg)(we=>($._loadedConfig=we,this.processRoutes(we.module,we.routes)))))}}return V.\u0275fac=function(D){return new(D||V)(b.LFG(hi),b.LFG(b.v3s),b.LFG(b.Sil),b.LFG(b.zs3),b.LFG(te))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})(),gr=(()=>{class V{constructor(D,$,oe={}){this.router=D,this.viewportScroller=$,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof He?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof qe&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof tr&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,$){this.router.triggerEvent(new tr(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,$))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return V.\u0275fac=function(D){return new(D||V)(b.LFG(hi),b.LFG(E.EM),b.LFG(void 0))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})();const Li=new b.OlP("ROUTER_CONFIGURATION"),Uo=new b.OlP("ROUTER_FORROOT_GUARD"),Cu=[E.Ye,{provide:Ri,useClass:So},{provide:hi,useFactory:function(V,x,D,$,oe,we,We,ut={},$t,Hn){const Xt=new hi(null,V,x,D,$,oe,we,Lt(We));if($t&&(Xt.urlHandlingStrategy=$t),Hn&&(Xt.routeReuseStrategy=Hn),function(V,x){V.errorHandler&&(x.errorHandler=V.errorHandler),V.malformedUriErrorHandler&&(x.malformedUriErrorHandler=V.malformedUriErrorHandler),V.onSameUrlNavigation&&(x.onSameUrlNavigation=V.onSameUrlNavigation),V.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=V.paramsInheritanceStrategy),V.relativeLinkResolution&&(x.relativeLinkResolution=V.relativeLinkResolution),V.urlUpdateStrategy&&(x.urlUpdateStrategy=V.urlUpdateStrategy)}(ut,Xt),ut.enableTracing){const Zn=(0,E.q)();Xt.events.subscribe(pi=>{Zn.logGroup(`Router Event: ${pi.constructor.name}`),Zn.log(pi.toString()),Zn.log(pi),Zn.logGroupEnd()})}return Xt},deps:[Ri,vo,E.Ye,b.zs3,b.v3s,b.Sil,xo,Li,[class{},new b.FiY],[class{},new b.FiY]]},vo,{provide:ii,useFactory:function(V){return V.routerState.root},deps:[hi]},{provide:b.v3s,useClass:b.EAV},Cn,Vt,class{preload(x,D){return D().pipe(Wn(()=>(0,Ve.of)(null)))}},{provide:Li,useValue:{enableTracing:!1}}];function _a(){return new b.PXZ("Router",hi)}let zo=(()=>{class V{constructor(D,$){}static forRoot(D,$){return{ngModule:V,providers:[Cu,Sa(D),{provide:Uo,useFactory:fa,deps:[[hi,new b.FiY,new b.tp0]]},{provide:Li,useValue:$||{}},{provide:E.S$,useFactory:za,deps:[E.lw,[new b.tBr(E.mr),new b.FiY],Li]},{provide:gr,useFactory:oo,deps:[hi,E.EM,Li]},{provide:te,useExisting:$&&$.preloadingStrategy?$.preloadingStrategy:Vt},{provide:b.PXZ,multi:!0,useFactory:_a},[ho,{provide:b.ip1,multi:!0,useFactory:ha,deps:[ho]},{provide:Tu,useFactory:_s,deps:[ho]},{provide:b.tb,multi:!0,useExisting:Tu}]]}}static forChild(D){return{ngModule:V,providers:[Sa(D)]}}}return V.\u0275fac=function(D){return new(D||V)(b.LFG(Uo,8),b.LFG(hi,8))},V.\u0275mod=b.oAB({type:V}),V.\u0275inj=b.cJS({}),V})();function oo(V,x,D){return D.scrollOffset&&x.setOffset(D.scrollOffset),new gr(V,x,D)}function za(V,x,D={}){return D.useHash?new E.Do(V,x):new E.b0(V,x)}function fa(V){return"guarded"}function Sa(V){return[{provide:b.deG,multi:!0,useValue:V},{provide:xo,multi:!0,useValue:V}]}let ho=(()=>{class V{constructor(D){this.injector=D,this.initNavigation=!1,this.resultOfPreactivationDone=new tn.xQ}appInitializer(){return this.injector.get(E.V_,Promise.resolve(null)).then(()=>{let $=null;const oe=new Promise(ut=>$=ut),we=this.injector.get(hi),We=this.injector.get(Li);return"disabled"===We.initialNavigation?(we.setUpLocationChangeListener(),$(!0)):"enabled"===We.initialNavigation||"enabledBlocking"===We.initialNavigation?(we.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,$(!0),this.resultOfPreactivationDone),we.initialNavigation()):$(!0),oe})}bootstrapListener(D){const $=this.injector.get(Li),oe=this.injector.get(Cn),we=this.injector.get(gr),We=this.injector.get(hi),ut=this.injector.get(b.z2F);D===ut.components[0]&&(("enabledNonBlocking"===$.initialNavigation||void 0===$.initialNavigation)&&We.initialNavigation(),oe.setUpPreloading(),we.init(),We.resetRootComponentType(ut.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return V.\u0275fac=function(D){return new(D||V)(b.LFG(b.zs3))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})();function ha(V){return V.appInitializer.bind(V)}function _s(V){return V.bootstrapListener.bind(V)}const Tu=new b.OlP("Router Initializer")},7367:(Mn,Dt,ie)=>{"use strict";var E=ie(9759),b=ie(6034),j=ie(4762),L=ie(4685),Pe=ie(300);function le(Se){return Se&&"object"==typeof Se&&"default"in Se?Se:{default:Se}}var Je,fe=le(E),Fe=((Je={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Je["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Je["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Je["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Je["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Je["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Je["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Je["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Je["recaptcha-error"]="ReCAPTCHA error.",Je),k=new L.ErrorFactory("appCheck","AppCheck",Fe),Re=new Map,Ye={activated:!1,tokenObservers:[]},xe={enabled:!1};function De(Se){return Re.get(Se)||Ye}function st(Se,Te){Re.set(Se,Te)}function je(){return xe}var nt="https://content-firebaseappcheck.googleapis.com/v1beta",At=function(){function Se(Te,Qe,yt,Lt,Ht){if(this.operation=Te,this.retryPolicy=Qe,this.getWaitDuration=yt,this.lowerBound=Lt,this.upperBound=Ht,this.pending=null,this.nextErrorWaitInterval=Lt,Lt>Ht)throw new Error("Proactive refresh lower bound greater than upper bound!")}return Se.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},Se.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},Se.prototype.isRunning=function(){return!!this.pending},Se.prototype.process=function(Te){return j.__awaiter(this,void 0,void 0,function(){var Qe;return j.__generator(this,function(yt){switch(yt.label){case 0:this.stop(),yt.label=1;case 1:return yt.trys.push([1,6,,7]),this.pending=new L.Deferred,[4,It(this.getNextRun(Te))];case 2:return yt.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return yt.sent(),this.pending=new L.Deferred,[4,this.operation()];case 4:return yt.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return yt.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return Qe=yt.sent(),this.retryPolicy(Qe)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},Se.prototype.getNextRun=function(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var Qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Qe},Se}();function It(Se){return new Promise(function(Te){setTimeout(Te,Se)})}function bt(){return self.grecaptcha}function tn(Se){if(!De(Se).activated)throw k.create("use-before-activation",{appName:Se.name})}function Wn(Se){return L.base64.encodeString(JSON.stringify(Se),!1)}function ke(Se,Te){var Qe=Se.url,yt=Se.body;return j.__awaiter(this,void 0,void 0,function(){var Lt,Ht,Sn,Ln,ur,nr,Lr,zn,Hi,Wr;return j.__generator(this,function(Sr){switch(Sr.label){case 0:Lt={"Content-Type":"application/json"},(Ht=Te.getImmediate({optional:!0}))&&(Lt["X-Firebase-Client"]=Ht.getPlatformInfoString()),Sn={method:"POST",body:JSON.stringify(yt),headers:Lt},Sr.label=1;case 1:return Sr.trys.push([1,3,,4]),[4,fetch(Qe,Sn)];case 2:return Ln=Sr.sent(),[3,4];case 3:throw ur=Sr.sent(),k.create("fetch-network-error",{originalErrorMessage:ur.message});case 4:if(200!==Ln.status)throw k.create("fetch-status-error",{httpStatus:Ln.status});Sr.label=5;case 5:return Sr.trys.push([5,7,,8]),[4,Ln.json()];case 6:return nr=Sr.sent(),[3,8];case 7:throw Lr=Sr.sent(),k.create("fetch-parse-error",{originalErrorMessage:Lr.message});case 8:if(!(zn=nr.ttl.match(/^([\d.]+)(s)$/))||!zn[2]||isNaN(Number(zn[1])))throw k.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+nr.ttl});return Hi=1e3*Number(zn[1]),Wr=Date.now(),[2,{token:nr.attestationToken,expireTimeMillis:Wr+Hi,issuedAtTimeMillis:Wr}]}})})}function $e(Se,Te){var Qe=Se.options;return{url:nt+"/projects/"+Qe.projectId+"/apps/"+Qe.appId+":exchangeRecaptchaToken?key="+Qe.apiKey,body:{recaptcha_token:Te}}}function ce(Se,Te){var Qe=Se.options;return{url:nt+"/projects/"+Qe.projectId+"/apps/"+Qe.appId+":exchangeDebugToken?key="+Qe.apiKey,body:{debug_token:Te}}}var lt="firebase-app-check-store",qt="debug-token",Ut=null;function yn(){return Ut||(Ut=new Promise(function(Se,Te){try{var Qe=indexedDB.open("firebase-app-check-database",1);Qe.onsuccess=function(yt){Se(yt.target.result)},Qe.onerror=function(yt){var Lt;Te(k.create("storage-open",{originalErrorMessage:null===(Lt=yt.target.error)||void 0===Lt?void 0:Lt.message}))},Qe.onupgradeneeded=function(yt){var Lt=yt.target.result;switch(yt.oldVersion){case 0:Lt.createObjectStore(lt,{keyPath:"compositeKey"})}}}catch(yt){Te(k.create("storage-open",{originalErrorMessage:yt.message}))}}))}function un(Se){return $n(vn(Se))}function _n(Se,Te){return j.__awaiter(this,void 0,void 0,function(){var Qe,yt,Lt,Ht;return j.__generator(this,function(Sn){switch(Sn.label){case 0:return[4,yn()];case 1:return Qe=Sn.sent(),yt=Qe.transaction(lt,"readwrite"),Lt=yt.objectStore(lt),Ht=Lt.put({compositeKey:Se,value:Te}),[2,new Promise(function(Ln,ur){Ht.onsuccess=function(nr){Ln()},yt.onerror=function(nr){var Lr;ur(k.create("storage-set",{originalErrorMessage:null===(Lr=nr.target.error)||void 0===Lr?void 0:Lr.message}))}})]}})})}function $n(Se){return j.__awaiter(this,void 0,void 0,function(){var Te,Qe,yt,Lt;return j.__generator(this,function(Ht){switch(Ht.label){case 0:return[4,yn()];case 1:return Te=Ht.sent(),Qe=Te.transaction(lt,"readonly"),yt=Qe.objectStore(lt),Lt=yt.get(Se),[2,new Promise(function(Sn,Ln){Lt.onsuccess=function(ur){var nr=ur.target.result;Sn(nr?nr.value:void 0)},Qe.onerror=function(ur){var nr;Ln(k.create("storage-get",{originalErrorMessage:null===(nr=ur.target.error)||void 0===nr?void 0:nr.message}))}})]}})})}function vn(Se){return Se.options.appId+"-"+Se.name}var vt=new Pe.Logger("@firebase/app-check");function Rt(Se,Te){return L.isIndexedDBAvailable()?function(Se,Te){return _n(vn(Se),Te)}(Se,Te).catch(function(Qe){vt.warn("Failed to write token to indexeddb. Error: "+Qe)}):Promise.resolve()}function Un(){return j.__awaiter(this,void 0,void 0,function(){var Se;return j.__generator(this,function(Te){if((Se=je()).enabled&&Se.token)return[2,Se.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var bn={error:"UNKNOWN_ERROR"};function kn(Se,Te,Qe){return void 0===Qe&&(Qe=!1),j.__awaiter(this,void 0,void 0,function(){var yt,Lt,Ht,Sn,Ln,ur,nr,Lr,zn,Hi;return j.__generator(this,function(Wr){switch(Wr.label){case 0:return tn(Se),yt=De(Se),Ht=void 0,(Lt=yt.token)?[3,2]:[4,yt.cachedTokenPromise];case 1:(Sn=Wr.sent())&&Nt(Sn)&&(Lt=Sn,st(Se,j.__assign(j.__assign({},yt),{token:Lt})),qe(Se,{token:Lt.token})),Wr.label=2;case 2:return!Qe&&Lt&&Nt(Lt)?[2,{token:Lt.token}]:je().enabled?(ur=ke,nr=ce,Lr=[Se],[4,Un()]):[3,6];case 3:return[4,ur.apply(void 0,[nr.apply(void 0,Lr.concat([Wr.sent()])),Te])];case 4:return Ln=Wr.sent(),[4,Rt(Se,Ln)];case 5:return Wr.sent(),st(Se,j.__assign(j.__assign({},yt),{token:Ln})),[2,{token:Ln.token}];case 6:return Wr.trys.push([6,8,,9]),[4,yt.provider.getToken()];case 7:return Lt=Wr.sent(),[3,9];case 8:return zn=Wr.sent(),vt.error(zn),Ht=zn,[3,9];case 9:return Lt?[3,10]:(Hi=function(Se){return{token:Wn(bn),error:Se}}(Ht),[3,12]);case 10:return Hi={token:Lt.token},st(Se,j.__assign(j.__assign({},yt),{token:Lt})),[4,Rt(Se,Lt)];case 11:Wr.sent(),Wr.label=12;case 12:return qe(Se,Hi),[2,Hi]}})})}function In(Se,Te,Qe,yt,Lt){var Ht=De(Se),Sn={next:yt,error:Lt,type:Qe},Ln=j.__assign(j.__assign({},Ht),{tokenObservers:j.__spreadArray(j.__spreadArray([],Ht.tokenObservers),[Sn])});if(!Ln.tokenRefresher){var ur=function(Se,Te){var Qe=this;return new At(function(){return j.__awaiter(Qe,void 0,void 0,function(){var Lt;return j.__generator(this,function(Ht){switch(Ht.label){case 0:return De(Se).token?[3,2]:[4,kn(Se,Te)];case 1:return Lt=Ht.sent(),[3,4];case 2:return[4,kn(Se,Te,!0)];case 3:Lt=Ht.sent(),Ht.label=4;case 4:if(Lt.error)throw Lt.error;return[2]}})})},function(){return!0},function(){var yt=De(Se);if(yt.token){var Lt=yt.token.issuedAtTimeMillis+.5*(yt.token.expireTimeMillis-yt.token.issuedAtTimeMillis)+3e5;return Lt=Math.min(Lt,yt.token.expireTimeMillis-3e5),Math.max(0,Lt-Date.now())}return 0},3e4,96e4)}(Se,Te);Ln.tokenRefresher=ur}if(!Ln.tokenRefresher.isRunning()&&Ht.isTokenAutoRefreshEnabled&&Ln.tokenRefresher.start(),Ht.token&&Nt(Ht.token)){var nr=Ht.token;Promise.resolve().then(function(){return yt({token:nr.token})}).catch(function(){})}else null==Ht.token&&Ht.cachedTokenPromise.then(function(Lr){Lr&&Nt(Lr)&&yt({token:Lr.token})}).catch(function(){});st(Se,Ln)}function Ct(Se,Te){var Qe=De(Se),yt=Qe.tokenObservers.filter(function(Lt){return Lt.next!==Te});0===yt.length&&Qe.tokenRefresher&&Qe.tokenRefresher.isRunning()&&Qe.tokenRefresher.stop(),st(Se,j.__assign(j.__assign({},Qe),{tokenObservers:yt}))}function qe(Se,Te){for(var yt=0,Lt=De(Se).tokenObservers;yt<Lt.length;yt++){var Ht=Lt[yt];try{"EXTERNAL"===Ht.type&&null!=Te.error?Ht.error(Te.error):Ht.next(Te)}catch(Sn){}}}function Nt(Se){return Se.expireTimeMillis-Date.now()>0}function Bn(Se){return j.__awaiter(this,void 0,void 0,function(){var Qe;return j.__generator(this,function(yt){switch(yt.label){case 0:return tn(Se),[4,De(Se).reCAPTCHAState.initialized.promise];case 1:return Qe=yt.sent(),[2,new Promise(function(Lt,Ht){var Sn=De(Se).reCAPTCHAState;Qe.ready(function(){Lt(Qe.execute(Sn.widgetId,{action:"fire_app_check"}))})})]}})})}function pt(Se,Te,Qe,yt){var Lt=Qe.render(yt,{sitekey:Te,size:"invisible"}),Ht=De(Se);st(Se,j.__assign(j.__assign({},Ht),{reCAPTCHAState:j.__assign(j.__assign({},Ht.reCAPTCHAState),{widgetId:Lt})}))}var wt=function(){function Se(Te){this._siteKey=Te}return Se.prototype.getToken=function(){return j.__awaiter(this,void 0,void 0,function(){var Te;return j.__generator(this,function(Qe){switch(Qe.label){case 0:if(!this._app||!this._platformLoggerProvider)throw k.create("use-before-activation",{appName:""});Qe.label=1;case 1:return Qe.trys.push([1,3,,4]),[4,Bn(this._app)];case 2:return Te=Qe.sent(),[3,4];case 3:throw Qe.sent(),k.create("recaptcha-error");case 4:return[2,ke($e(this._app,Te),this._platformLoggerProvider)]}})})},Se.prototype.initialize=function(Te,Qe){this._app=Te,this._platformLoggerProvider=Qe,function(Se,Te){var Qe=De(Se),yt=new L.Deferred;st(Se,j.__assign(j.__assign({},Qe),{reCAPTCHAState:{initialized:yt}}));var Lt="fire_app_check_"+Se.name,Ht=document.createElement("div");Ht.id=Lt,Ht.style.display="none",document.body.appendChild(Ht);var Sn=bt();return Sn?Sn.ready(function(){pt(Se,Te,Sn,Lt),yt.resolve(Sn)}):function(Se){var Te=document.createElement("script");Te.src="https://www.google.com/recaptcha/api.js",Te.onload=Se,document.head.appendChild(Te)}(function(){var Ln=bt();if(!Ln)throw new Error("no recaptcha");Ln.ready(function(){pt(Se,Te,Ln,Lt),yt.resolve(Ln)})}),yt.promise}(Te,this._siteKey).catch(function(){})},Se}(),ht=function(){function Se(Te){this._customProviderOptions=Te}return Se.prototype.getToken=function(){return j.__awaiter(this,void 0,void 0,function(){var Te,Qe,yt;return j.__generator(this,function(Lt){switch(Lt.label){case 0:if(!this._app)throw k.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return Te=Lt.sent(),Qe=L.issuedAtTime(Te.token),yt=null!==Qe&&Qe<Date.now()&&Qe>0?1e3*Qe:Date.now(),[2,j.__assign(j.__assign({},Te),{issuedAtTimeMillis:yt})]}})})},Se.prototype.initialize=function(Te){this._app=Te},Se}();function tr(Se,Te){return{app:Se,activate:function(Qe,yt){return function(Se,Te,Qe,yt){var Lt=De(Se);if(Lt.activated)throw k.create("already-activated",{appName:Se.name});var Ht=j.__assign(j.__assign({},Lt),{activated:!0});Ht.cachedTokenPromise=function(Se){return j.__awaiter(this,void 0,void 0,function(){var Te,Qe;return j.__generator(this,function(yt){switch(yt.label){case 0:if(!L.isIndexedDBAvailable())return[3,5];Te=void 0,yt.label=1;case 1:return yt.trys.push([1,3,,4]),[4,un(Se)];case 2:return Te=yt.sent(),[3,4];case 3:return Qe=yt.sent(),vt.warn("Failed to read token from indexeddb. Error: "+Qe),[3,4];case 4:return[2,Te];case 5:return[2,void 0]}})})}(Se).then(function(Sn){return Sn&&Nt(Sn)&&st(Se,j.__assign(j.__assign({},De(Se)),{token:Sn})),Sn}),Ht.provider="string"==typeof Te?new wt(Te):Te instanceof wt||Te instanceof ht?Te:new ht({getToken:Te.getToken}),Ht.isTokenAutoRefreshEnabled=void 0===yt?Se.automaticDataCollectionEnabled:yt,st(Se,Ht),Ht.provider.initialize(Se,Qe)}(Se,Qe,Te,yt)},setTokenAutoRefreshEnabled:function(Qe){return function(Se,Te){var Qe=De(Se);Qe.tokenRefresher&&(!0===Te?Qe.tokenRefresher.start():Qe.tokenRefresher.stop()),st(Se,j.__assign(j.__assign({},Qe),{isTokenAutoRefreshEnabled:Te}))}(Se,Qe)},getToken:function(Qe){return function(Se,Te,Qe){return j.__awaiter(this,void 0,void 0,function(){var yt;return j.__generator(this,function(Lt){switch(Lt.label){case 0:return[4,kn(Se,Te,Qe)];case 1:if((yt=Lt.sent()).error)throw yt.error;return[2,{token:yt.token}]}})})}(Se,Te,Qe)},onTokenChanged:function(Qe,yt,Lt){return function(Se,Te,Qe,yt,Lt){var Ht,Sn=function(){};return Ht=null!=Qe.next?Qe.next.bind(Qe):Qe,null!=Qe.error?Sn=Qe.error.bind(Qe):yt&&(Sn=yt),In(Se,Te,"EXTERNAL",Ht,Sn),function(){return Ct(Se,Ht)}}(Se,Te,Qe,yt)},INTERNAL:{delete:function(){for(var yt=0,Lt=De(Se).tokenObservers;yt<Lt.length;yt++)Ct(Se,Lt[yt].next);return Promise.resolve()}}}}var Se,Ue="app-check-internal";(Se=fe.default).INTERNAL.registerComponent(new b.Component("appCheck",function(Te){return tr(Te.getProvider("app").getImmediate(),Te.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:wt,CustomProvider:ht}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(Te,Qe,yt){Te.getProvider(Ue).initialize()})),Se.INTERNAL.registerComponent(new b.Component(Ue,function(Te){return function(Se,Te){return{getToken:function(Qe){return kn(Se,Te,Qe)},addTokenListener:function(Qe){return In(Se,Te,"INTERNAL",Qe)},removeTokenListener:function(Qe){return Ct(Se,Qe)}}}(Te.getProvider("app").getImmediate(),Te.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),Se.registerVersion("@firebase/app-check","0.3.2"),function(){var Se=L.getGlobal();if("string"==typeof Se.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===Se.FIREBASE_APPCHECK_DEBUG_TOKEN){var Te=je();Te.enabled=!0;var Qe=new L.Deferred;Te.token=Qe,Qe.resolve("string"==typeof Se.FIREBASE_APPCHECK_DEBUG_TOKEN?Se.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return j.__awaiter(this,void 0,void 0,function(){var Se,Te;return j.__generator(this,function(Qe){switch(Qe.label){case 0:Se=void 0,Qe.label=1;case 1:return Qe.trys.push([1,3,,4]),[4,$n(qt)];case 2:return Se=Qe.sent(),[3,4];case 3:return Qe.sent(),[3,4];case 4:return Se?[2,Se]:(function(Se){return _n(qt,Se)}(Te="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Se){var Te=16*Math.random()|0;return("x"===Se?Te:3&Te|8).toString(16)})).catch(function(yt){return vt.warn("Failed to persist debug token to indexeddb. Error: "+yt)}),console.log("AppCheck debug token: "+Te+". You will need to whitelist it in the Firebase console for it to work"),[2,Te])}})})}())}}()},9759:(Mn,Dt,ie)=>{"use strict";ie.r(Dt),ie.d(Dt,{default:()=>fn,firebase:()=>un});var Pe,It,E=ie(4762),b=ie(4685),j=ie(6034),L=ie(300),le=((Pe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pe["bad-app-name"]="Illegal App name: '{$appName}",Pe["duplicate-app"]="Firebase App named '{$appName}' already exists",Pe["app-deleted"]="Firebase App named '{$appName}' already deleted",Pe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pe),fe=new b.ErrorFactory("app","Firebase",le),Je="@firebase/app",bt="[DEFAULT]",tn=((It={})[Je]="fire-core",It["@firebase/analytics"]="fire-analytics",It["@firebase/app-check"]="fire-app-check",It["@firebase/auth"]="fire-auth",It["@firebase/database"]="fire-rtdb",It["@firebase/functions"]="fire-fn",It["@firebase/installations"]="fire-iid",It["@firebase/messaging"]="fire-fcm",It["@firebase/performance"]="fire-perf",It["@firebase/remote-config"]="fire-rc",It["@firebase/storage"]="fire-gcs",It["@firebase/firestore"]="fire-fst",It["fire-js"]="fire-js",It["firebase-wrapper"]="fire-js-all",It),xn=new L.Logger("@firebase/app"),Wn=function(){function dn(Zt,_n,$n){var vn=this;this.firebase_=$n,this.isDeleted_=!1,this.name_=_n.name,this.automaticDataCollectionEnabled_=_n.automaticDataCollectionEnabled||!1,this.options_=(0,b.deepCopy)(Zt),this.container=new j.ComponentContainer(_n.name),this._addComponent(new j.Component("app",function(){return vn},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(vt){return vn._addComponent(vt)})}return Object.defineProperty(dn.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Zt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Zt},enumerable:!1,configurable:!0}),Object.defineProperty(dn.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(dn.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),dn.prototype.delete=function(){var Zt=this;return new Promise(function(_n){Zt.checkDestroyed_(),_n()}).then(function(){return Zt.firebase_.INTERNAL.removeApp(Zt.name_),Promise.all(Zt.container.getProviders().map(function(_n){return _n.delete()}))}).then(function(){Zt.isDeleted_=!0})},dn.prototype._getService=function(Zt,_n){var $n;void 0===_n&&(_n=bt),this.checkDestroyed_();var vn=this.container.getProvider(Zt);return!vn.isInitialized()&&"EXPLICIT"===(null===($n=vn.getComponent())||void 0===$n?void 0:$n.instantiationMode)&&vn.initialize(),vn.getImmediate({identifier:_n})},dn.prototype._removeServiceInstance=function(Zt,_n){void 0===_n&&(_n=bt),this.container.getProvider(Zt).clearInstance(_n)},dn.prototype._addComponent=function(Zt){try{this.container.addComponent(Zt)}catch(_n){xn.debug("Component "+Zt.name+" failed to register with FirebaseApp "+this.name,_n)}},dn.prototype._addOrOverwriteComponent=function(Zt){this.container.addOrOverwriteComponent(Zt)},dn.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},dn.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fe.create("app-deleted",{appName:this.name_})},dn}();Wn.prototype.name&&Wn.prototype.options||Wn.prototype.delete||console.log("dc");var rt=function ce(){var dn=function(dn){var Zt={},_n=new Map,$n={__esModule:!0,initializeApp:function(bn,kn){void 0===kn&&(kn={}),("object"!=typeof kn||null===kn)&&(kn={name:kn});var Ct=kn;void 0===Ct.name&&(Ct.name=bt);var He=Ct.name;if("string"!=typeof He||!He)throw fe.create("bad-app-name",{appName:String(He)});if((0,b.contains)(Zt,He))throw fe.create("duplicate-app",{appName:He});var qe=new dn(bn,Ct,$n);return Zt[He]=qe,qe},app:vt,registerVersion:function(bn,kn,In){var Ct,He=null!==(Ct=tn[bn])&&void 0!==Ct?Ct:bn;In&&(He+="-"+In);var qe=He.match(/\s|\//),Nt=kn.match(/\s|\//);if(qe||Nt){var Tt=['Unable to register library "'+He+'" with version "'+kn+'":'];return qe&&Tt.push('library name "'+He+'" contains illegal characters (whitespace or "/")'),qe&&Nt&&Tt.push("and"),Nt&&Tt.push('version name "'+kn+'" contains illegal characters (whitespace or "/")'),void xn.warn(Tt.join(" "))}hn(new j.Component(He+"-version",function(){return{library:He,version:kn}},"VERSION"))},setLogLevel:L.setLogLevel,onLog:function(bn,kn){if(null!==bn&&"function"!=typeof bn)throw fe.create("invalid-log-argument");(0,L.setUserLogHandler)(bn,kn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:hn,removeApp:function(bn){delete Zt[bn]},components:_n,useAsService:function(bn,kn){return"serverAuth"===kn?null:kn}}};function vt(bn){if(!(0,b.contains)(Zt,bn=bn||bt))throw fe.create("no-app",{appName:bn});return Zt[bn]}function hn(bn){var kn=bn.name;if(_n.has(kn))return xn.debug("There were multiple attempts to register component "+kn+"."),"PUBLIC"===bn.type?$n[kn]:null;if(_n.set(kn,bn),"PUBLIC"===bn.type){var In=function(Nt){if(void 0===Nt&&(Nt=vt()),"function"!=typeof Nt[kn])throw fe.create("invalid-app-argument",{appName:kn});return Nt[kn]()};void 0!==bn.serviceProps&&(0,b.deepExtend)(In,bn.serviceProps),$n[kn]=In,dn.prototype[kn]=function(){for(var Nt=[],Tt=0;Tt<arguments.length;Tt++)Nt[Tt]=arguments[Tt];return this._getService.bind(this,kn).apply(this,bn.multipleInstances?Nt:[])}}for(var Ct=0,He=Object.keys(Zt);Ct<He.length;Ct++)Zt[He[Ct]]._addComponent(bn);return"PUBLIC"===bn.type?$n[kn]:null}return $n.default=$n,Object.defineProperty($n,"apps",{get:function(){return Object.keys(Zt).map(function(bn){return Zt[bn]})}}),vt.App=dn,$n}(Wn);return dn.INTERNAL=(0,E.__assign)((0,E.__assign)({},dn.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function(_n){(0,b.deepExtend)(dn,_n)},createSubscribe:b.createSubscribe,ErrorFactory:b.ErrorFactory,deepExtend:b.deepExtend}),dn}(),_t=function(){function dn(Zt){this.container=Zt}return dn.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(_n){if(function(dn){var Zt=dn.getComponent();return"VERSION"===(null==Zt?void 0:Zt.type)}(_n)){var $n=_n.getImmediate();return $n.library+"/"+$n.version}return null}).filter(function(_n){return _n}).join(" ")},dn}();if((0,b.isBrowser)()&&void 0!==self.firebase){xn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ut=self.firebase.SDK_VERSION;Ut&&Ut.indexOf("LITE")>=0&&xn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yn=rt.initializeApp;rt.initializeApp=function(){for(var dn=[],Zt=0;Zt<arguments.length;Zt++)dn[Zt]=arguments[Zt];return(0,b.isNode)()&&xn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),yn.apply(void 0,dn)};var dn,un=rt;(dn=un).INTERNAL.registerComponent(new j.Component("platform-logger",function(_n){return new _t(_n)},"PRIVATE")),dn.registerVersion(Je,"0.6.30",undefined),dn.registerVersion("fire-js","");const fn=un},6423:(Mn,Dt,ie)=>{"use strict";var E=ie(9759);(function(){var b,j="function"==typeof Object.defineProperties?Object.defineProperty:function(n,u,m){n!=Array.prototype&&n!=Object.prototype&&(n[u]=m.value)},Pe=function(n){n=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,n];for(var u=0;u<n.length;++u){var m=n[u];if(m&&m.Math==Math)return m}return globalThis}(this);function fe(n){var u=0;return function(){return u<n.length?{done:!1,value:n[u++]}:{done:!0}}}function Je(n){var u="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return u?u.call(n):{next:fe(n)}}!function(n,u){if(u){var m=Pe;n=n.split(".");for(var T=0;T<n.length-1;T++){var H=n[T];H in m||(m[H]={}),m=m[H]}(u=u(T=m[n=n[n.length-1]]))!=T&&null!=u&&j(m,n,{configurable:!0,writable:!0,value:u})}}("Promise",function(n){function u(ve){this.b=0,this.c=void 0,this.a=[];var Ze=this.f();try{ve(Ze.resolve,Ze.reject)}catch(Qt){Ze.reject(Qt)}}function m(){this.a=null}function T(ve){return ve instanceof u?ve:new u(function(Ze){Ze(ve)})}if(n)return n;m.prototype.b=function(ve){if(null==this.a){this.a=[];var Ze=this;this.c(function(){Ze.g()})}this.a.push(ve)};var H=Pe.setTimeout;m.prototype.c=function(ve){H(ve,0)},m.prototype.g=function(){for(;this.a&&this.a.length;){var ve=this.a;this.a=[];for(var Ze=0;Ze<ve.length;++Ze){var Qt=ve[Ze];ve[Ze]=null;try{Qt()}catch(En){this.f(En)}}}this.a=null},m.prototype.f=function(ve){this.c(function(){throw ve})},u.prototype.f=function(){function ve(En){return function(ni){Qt||(Qt=!0,En.call(Ze,ni))}}var Ze=this,Qt=!1;return{resolve:ve(this.m),reject:ve(this.g)}},u.prototype.m=function(ve){if(ve===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(ve instanceof u)this.s(ve);else{e:switch(typeof ve){case"object":var Ze=null!=ve;break e;case"function":Ze=!0;break e;default:Ze=!1}Ze?this.v(ve):this.h(ve)}},u.prototype.v=function(ve){var Ze=void 0;try{Ze=ve.then}catch(Qt){return void this.g(Qt)}"function"==typeof Ze?this.u(Ze,ve):this.h(ve)},u.prototype.g=function(ve){this.i(2,ve)},u.prototype.h=function(ve){this.i(1,ve)},u.prototype.i=function(ve,Ze){if(0!=this.b)throw Error("Cannot settle("+ve+", "+Ze+"): Promise already settled in state"+this.b);this.b=ve,this.c=Ze,this.l()},u.prototype.l=function(){if(null!=this.a){for(var ve=0;ve<this.a.length;++ve)ue.b(this.a[ve]);this.a=null}};var ue=new m;return u.prototype.s=function(ve){var Ze=this.f();ve.Ra(Ze.resolve,Ze.reject)},u.prototype.u=function(ve,Ze){var Qt=this.f();try{ve.call(Ze,Qt.resolve,Qt.reject)}catch(En){Qt.reject(En)}},u.prototype.then=function(ve,Ze){function Qt(so,_o){return"function"==typeof so?function(lu){try{En(so(lu))}catch(sd){ni(sd)}}:_o}var En,ni,Xi=new u(function(so,_o){En=so,ni=_o});return this.Ra(Qt(ve,En),Qt(Ze,ni)),Xi},u.prototype.catch=function(ve){return this.then(void 0,ve)},u.prototype.Ra=function(ve,Ze){function Qt(){switch(En.b){case 1:ve(En.c);break;case 2:Ze(En.c);break;default:throw Error("Unexpected state: "+En.b)}}var En=this;null==this.a?ue.b(Qt):this.a.push(Qt)},u.resolve=T,u.reject=function(ve){return new u(function(Ze,Qt){Qt(ve)})},u.race=function(ve){return new u(function(Ze,Qt){for(var En=Je(ve),ni=En.next();!ni.done;ni=En.next())T(ni.value).Ra(Ze,Qt)})},u.all=function(ve){var Ze=Je(ve),Qt=Ze.next();return Qt.done?T([]):new u(function(En,ni){function Xi(lu){return function(sd){so[lu]=sd,0==--_o&&En(so)}}var so=[],_o=0;do{so.push(void 0),_o++,T(Qt.value).Ra(Xi(so.length-1),ni),Qt=Ze.next()}while(!Qt.done)})},u});var Fe=Fe||{},k=this||self,Re=/^[\w+/_-]+[=]{0,2}$/,Ye=null;function xe(n){return(n=n.querySelector&&n.querySelector("script[nonce]"))&&(n=n.nonce||n.getAttribute("nonce"))&&Re.test(n)?n:""}function De(){}function st(n){var u=typeof n;return"object"!=u?u:n?Array.isArray(n)?"array":u:"null"}function je(n){var u=st(n);return"array"==u||"object"==u&&"number"==typeof n.length}function nt(n){return"function"==st(n)}function Me(n){var u=typeof n;return"object"==u&&null!=n||"function"==u}function Ve(n){return Object.prototype.hasOwnProperty.call(n,at)&&n[at]||(n[at]=++At)}var at="closure_uid_"+(1e9*Math.random()>>>0),At=0;function It(n,u,m){return n.call.apply(n.bind,arguments)}function bt(n,u,m){if(!n)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,T),n.apply(u,H)}}return function(){return n.apply(u,arguments)}}function tn(n,u,m){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:bt).apply(null,arguments)}function xn(n,u){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),n.apply(this,T)}}var Wn=Date.now;function ke(n,u){function m(){}m.prototype=u.prototype,n.bb=u.prototype,n.prototype=new m,n.prototype.constructor=n}function $e(n){return n}function ce(n,u,m){this.code=_t+n,this.message=u||lt[n]||"",this.a=m||null}function rt(n){var u=n&&n.code;return u?new ce(u.substring(_t.length),n.message,n.serverResponse):null}ke(ce,Error),ce.prototype.w=function(){var n={code:this.code,message:this.message};return this.a&&(n.serverResponse=this.a),n},ce.prototype.toJSON=function(){return this.w()};var yn,_t="auth/",lt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},qt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ut(n){for(var u in qt)if(qt[u].id===n)return{firebaseEndpoint:(n=qt[u]).Ua,secureTokenEndpoint:n.$a,identityPlatformEndpoint:n.Xa};return null}function un(n){if(!n)return!1;try{return!!n.$goog_Thenable}catch(u){return!1}}function fn(n){if(Error.captureStackTrace)Error.captureStackTrace(this,fn);else{var u=Error().stack;u&&(this.stack=u)}n&&(this.message=String(n))}function dn(n,u){for(var m="",T=(n=n.split("%s")).length-1,H=0;H<T;H++)m+=n[H]+(H<u.length?u[H]:"%s");fn.call(this,m+n[T])}function Zt(n,u){throw new dn("Failure"+(n?": "+n:""),Array.prototype.slice.call(arguments,1))}function _n(n,u){this.c=n,this.f=u,this.b=0,this.a=null}function $n(n,u){n.f(u),100>n.b&&(n.b++,u.next=n.a,n.a=u)}function vn(){this.b=this.a=null}yn=Ut("__EID__")?"__EID__":void 0,ke(fn,Error),fn.prototype.name="CustomError",ke(dn,fn),dn.prototype.name="AssertionError",_n.prototype.get=function(){if(0<this.b){this.b--;var n=this.a;this.a=n.next,n.next=null}else n=this.c();return n};var vt=new _n(function(){return new Rt},function(n){n.reset()});function Et(){var n=Eo,u=null;return n.a&&(u=n.a,n.a=n.a.next,n.a||(n.b=null),u.next=null),u}function Rt(){this.next=this.b=this.a=null}vn.prototype.add=function(n,u){var m=vt.get();m.set(n,u),this.b?this.b.next=m:this.a=m,this.b=m},Rt.prototype.set=function(n,u){this.a=n,this.b=u,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var hn=Array.prototype.indexOf?function(n,u){return Array.prototype.indexOf.call(n,u,void 0)}:function(n,u){if("string"==typeof n)return"string"!=typeof u||1!=u.length?-1:n.indexOf(u,0);for(var m=0;m<n.length;m++)if(m in n&&n[m]===u)return m;return-1},jt=Array.prototype.forEach?function(n,u,m){Array.prototype.forEach.call(n,u,m)}:function(n,u,m){for(var T=n.length,H="string"==typeof n?n.split(""):n,ue=0;ue<T;ue++)ue in H&&u.call(m,H[ue],ue,n)},Gn=Array.prototype.filter?function(n,u){return Array.prototype.filter.call(n,u,void 0)}:function(n,u){for(var m=n.length,T=[],H=0,ue="string"==typeof n?n.split(""):n,ve=0;ve<m;ve++)if(ve in ue){var Ze=ue[ve];u.call(void 0,Ze,ve,n)&&(T[H++]=Ze)}return T},bn=Array.prototype.map?function(n,u){return Array.prototype.map.call(n,u,void 0)}:function(n,u){for(var m=n.length,T=Array(m),H="string"==typeof n?n.split(""):n,ue=0;ue<m;ue++)ue in H&&(T[ue]=u.call(void 0,H[ue],ue,n));return T},kn=Array.prototype.some?function(n,u){return Array.prototype.some.call(n,u,void 0)}:function(n,u){for(var m=n.length,T="string"==typeof n?n.split(""):n,H=0;H<m;H++)if(H in T&&u.call(void 0,T[H],H,n))return!0;return!1};function Ct(n,u){return 0<=hn(n,u)}function He(n,u){var m;return(m=0<=(u=hn(n,u)))&&Array.prototype.splice.call(n,u,1),m}function qe(n,u){!function(n,u){for(var m="string"==typeof n?n.split(""):n,T=n.length-1;0<=T;--T)T in m&&u.call(void 0,m[T],T,n)}(n,function(T,H){u.call(void 0,T,H,n)&&Array.prototype.splice.call(n,H,1)})}function Nt(n){return Array.prototype.concat.apply([],arguments)}function Tt(n){var u=n.length;if(0<u){for(var m=Array(u),T=0;T<u;T++)m[T]=n[T];return m}return[]}var Ar,Tn=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]},nn=/&/g,Bn=/</g,pt=/>/g,ln=/"/g,wt=/'/g,ht=/\x00/g,Yt=/[\x00&<>"']/;function Bt(n,u){return-1!=n.indexOf(u)}function or(n,u){return n<u?-1:n>u?1:0}e:{var tr=k.navigator;if(tr){var An=tr.userAgent;if(An){Ar=An;break e}}Ar=""}function Fr(n){return Bt(Ar,n)}function wr(n,u){for(var m in n)u.call(void 0,n[m],m,n)}function et(n){for(var u in n)return!1;return!0}function Ue(n){var m,u={};for(m in n)u[m]=n[m];return u}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(n,u){for(var m,T,H=1;H<arguments.length;H++){for(m in T=arguments[H])n[m]=T[m];for(var ue=0;ue<gt.length;ue++)m=gt[ue],Object.prototype.hasOwnProperty.call(T,m)&&(n[m]=T[m])}}function Te(n,u){e:{try{var m=n&&n.ownerDocument,T=m&&(m.defaultView||m.parentWindow);if((T=T||k).Element&&T.Location){var H=T;break e}}catch(ve){}H=null}if(H&&void 0!==H[u]&&(!n||!(n instanceof H[u])&&(n instanceof H.Location||n instanceof H.Element))){if(Me(n))try{var ue=n.constructor.displayName||n.constructor.name||Object.prototype.toString.call(n)}catch(ve){ue="<object could not be stringified>"}else ue=void 0===n?"undefined":null===n?"null":typeof n;Zt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,ue)}}function Qe(n,u){this.a=n===Ht&&u||"",this.b=Lt}function yt(n){return n instanceof Qe&&n.constructor===Qe&&n.b===Lt?n.a:(Zt("expected object of type Const, got '"+n+"'"),"type_error:Const")}Qe.prototype.ta=!0,Qe.prototype.sa=function(){return this.a},Qe.prototype.toString=function(){return"Const{"+this.a+"}"};var Sn,Lt={},Ht={};function Ln(){if(void 0===Sn){var n=null,u=k.trustedTypes;if(u&&u.createPolicy){try{n=u.createPolicy("goog#html",{createHTML:$e,createScript:$e,createScriptURL:$e})}catch(m){k.console&&k.console.error(m.message)}Sn=n}else Sn=n}return Sn}function ur(n,u){this.a=u===Wr?n:""}function nr(n){return n instanceof ur&&n.constructor===ur?n.a:(Zt("expected object of type TrustedResourceUrl, got '"+n+"' of type "+st(n)),"type_error:TrustedResourceUrl")}function Lr(n,u){var m=yt(n);if(!Hi.test(m))throw Error("Invalid TrustedResourceUrl format: "+m);return function(n){var u=Ln();return new ur(n=u?u.createScriptURL(n):n,Wr)}(n=m.replace(zn,function(T,H){if(!Object.prototype.hasOwnProperty.call(u,H))throw Error('Found marker, "'+H+'", in format string, "'+m+'", but no valid label mapping found in args: '+JSON.stringify(u));return(T=u[H])instanceof Qe?yt(T):encodeURIComponent(String(T))}))}ur.prototype.ta=!0,ur.prototype.sa=function(){return this.a.toString()},ur.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var zn=/%{(\w+)}/g,Hi=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Wr={};function li(n,u){this.a=u===Ri?n:""}function Gi(n){return n instanceof li&&n.constructor===li?n.a:(Zt("expected object of type SafeUrl, got '"+n+"' of type "+st(n)),"type_error:SafeUrl")}li.prototype.ta=!0,li.prototype.sa=function(){return this.a.toString()},li.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var rr=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,ri=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Oi=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function to(n){if(n instanceof li)return n;if(n="object"==typeof n&&n.ta?n.sa():String(n),Oi.test(n))n=new li(n,Ri);else{var u=(n=(n=String(n)).replace(/(%0A|%0D)/g,"")).match(ri);n=u&&rr.test(u[1])?new li(n,Ri):null}return n}function Pi(n){return n instanceof li?n:(n="object"==typeof n&&n.ta?n.sa():String(n),Oi.test(n)||(n="about:invalid#zClosurez"),new li(n,Ri))}var Ri={},So=new li("about:invalid#zClosurez",Ri);function Ui(n,u,m){this.a=m===Do?n:""}Ui.prototype.ta=!0,Ui.prototype.sa=function(){return this.a.toString()},Ui.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Do={};function on(n,u,m,T){return n=n instanceof li?n:Pi(n),u=u||k,m=m instanceof Qe?yt(m):m||"",u.open(Gi(n),m,T,void 0)}function sr(n,u){for(var m=n.split("%s"),T="",H=Array.prototype.slice.call(arguments,1);H.length&&1<m.length;)T+=m.shift()+H.shift();return T+m.join("%s")}function Vn(n){return Yt.test(n)&&(-1!=n.indexOf("&")&&(n=n.replace(nn,"&amp;")),-1!=n.indexOf("<")&&(n=n.replace(Bn,"&lt;")),-1!=n.indexOf(">")&&(n=n.replace(pt,"&gt;")),-1!=n.indexOf('"')&&(n=n.replace(ln,"&quot;")),-1!=n.indexOf("'")&&(n=n.replace(wt,"&#39;")),-1!=n.indexOf("\0")&&(n=n.replace(ht,"&#0;"))),n}function fi(n){return fi[" "](n),n}fi[" "]=De;var Kn,n,Xr=Fr("Opera"),$r=Fr("Trident")||Fr("MSIE"),Br=Fr("Edge"),xi=Br||$r,Yi=Fr("Gecko")&&!(Bt(Ar.toLowerCase(),"webkit")&&!Fr("Edge"))&&!(Fr("Trident")||Fr("MSIE"))&&!Fr("Edge"),Xn=Bt(Ar.toLowerCase(),"webkit")&&!Fr("Edge");function Ti(){var n=k.document;return n?n.documentMode:void 0}e:{var pr="",Qn=(n=Ar,Yi?/rv:([^\);]+)(\)|;)/.exec(n):Br?/Edge\/([\d\.]+)/.exec(n):$r?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xn?/WebKit\/(\S+)/.exec(n):Xr?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Qn&&(pr=Qn?Qn[1]:""),$r){var Rr=Ti();if(null!=Rr&&Rr>parseFloat(pr)){Kn=String(Rr);break e}}Kn=pr}var cr={};function Wi(n){return function(n,u){var m=cr;return Object.prototype.hasOwnProperty.call(m,n)?m[n]:m[n]=u()}(n,function(){for(var u=0,m=Tn(String(Kn)).split("."),T=Tn(String(n)).split("."),H=Math.max(m.length,T.length),ue=0;0==u&&ue<H;ue++){var ve=m[ue]||"",Ze=T[ue]||"";do{if(ve=/(\d*)(\D*)(.*)/.exec(ve)||["","","",""],Ze=/(\d*)(\D*)(.*)/.exec(Ze)||["","","",""],0==ve[0].length&&0==Ze[0].length)break;u=or(0==ve[1].length?0:parseInt(ve[1],10),0==Ze[1].length?0:parseInt(Ze[1],10))||or(0==ve[2].length,0==Ze[2].length)||or(ve[2],Ze[2]),ve=ve[3],Ze=Ze[3]}while(0==u)}return 0<=u})}var Fn=k.document&&$r&&(Ti()||parseInt(Kn,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(n){}var zr=!$r||9<=Number(Fn);function ir(n){var u=document;return"string"==typeof n?u.getElementById(n):n}function ii(n,u){wr(u,function(m,T){m&&"object"==typeof m&&m.ta&&(m=m.sa()),"style"==T?n.style.cssText=m:"class"==T?n.className=m:"for"==T?n.htmlFor=m:Nr.hasOwnProperty(T)?n.setAttribute(Nr[T],m):0==T.lastIndexOf("aria-",0)||0==T.lastIndexOf("data-",0)?n.setAttribute(T,m):n[T]=m})}var Kr,wo,Nr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hr(n,u,m){function T(Ze){Ze&&u.appendChild("string"==typeof Ze?n.createTextNode(Ze):Ze)}for(var H=2;H<m.length;H++){var ue=m[H];if(!je(ue)||Me(ue)&&0<ue.nodeType)T(ue);else{e:{if(ue&&"number"==typeof ue.length){if(Me(ue)){var ve="function"==typeof ue.item||"string"==typeof ue.item;break e}if(nt(ue)){ve="function"==typeof ue.item;break e}}ve=!1}jt(ve?Tt(ue):ue,T)}}}function mi(n,u){return u=String(u),"application/xhtml+xml"===n.contentType&&(u=u.toLowerCase()),n.createElement(u)}function Po(n){k.setTimeout(function(){throw n},0)}function kr(n,u){wo||function(){if(k.Promise&&k.Promise.resolve){var n=k.Promise.resolve(void 0);wo=function(){n.then(qo)}}else wo=function(){var u=qo;!nt(k.setImmediate)||k.Window&&k.Window.prototype&&!Fr("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Kr||(Kr=function(){var n=k.MessageChannel;if(void 0===n&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Fr("Presto")&&(n=function(){var H=mi(document,"IFRAME");H.style.display="none",document.documentElement.appendChild(H);var ue=H.contentWindow;(H=ue.document).open(),H.close();var ve="callImmediate"+Math.random(),Ze="file:"==ue.location.protocol?"*":ue.location.protocol+"//"+ue.location.host;H=tn(function(Qt){("*"==Ze||Qt.origin==Ze)&&Qt.data==ve&&this.port1.onmessage()},this),ue.addEventListener("message",H,!1),this.port1={},this.port2={postMessage:function(){ue.postMessage(ve,Ze)}}}),void 0!==n&&!Fr("Trident")&&!Fr("MSIE")){var u=new n,m={},T=m;return u.port1.onmessage=function(){if(void 0!==m.next){var H=(m=m.next).Hb;m.Hb=null,H()}},function(H){T.next={Hb:H},T=T.next,u.port2.postMessage(0)}}return function(H){k.setTimeout(H,0)}}()),Kr(u)):k.setImmediate(u)}}(),Mr||(wo(),Mr=!0),Eo.add(n,u)}var Mr=!1,Eo=new vn;function qo(){for(var n;n=Et();){try{n.a.call(n.b)}catch(u){Po(u)}$n(vt,n)}Mr=!1}function Yn(n,u){if(this.a=uo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,n!=De)try{var m=this;n.call(u,function(T){xt(m,Ni,T)},function(T){if(!(T instanceof re))try{throw T instanceof Error?T:Error("Promise rejected.")}catch(H){}xt(m,ki,T)})}catch(T){xt(this,ki,T)}}var uo=0,Ni=2,ki=3;function Ro(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ro.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var fr=new _n(function(){return new Ro},function(n){n.reset()});function _r(n,u,m){var T=fr.get();return T.g=n,T.b=u,T.f=m,T}function qn(n){if(n instanceof Yn)return n;var u=new Yn(De);return xt(u,Ni,n),u}function Or(n){return new Yn(function(u,m){m(n)})}function bo(n,u,m){an(n,u,m,null)||kr(xn(u,n))}function W(n){return new Yn(function(u){var m=n.length,T=[];if(m)for(var H=function(Ze,Qt,En){m--,T[Ze]=Qt?{Qb:!0,value:En}:{Qb:!1,reason:En},0==m&&u(T)},ue=0;ue<n.length;ue++)bo(n[ue],xn(H,ue,!0),xn(H,ue,!1));else u(T)})}function Ie(n,u){if(n.a==uo)if(n.c){var m=n.c;if(m.b){for(var T=0,H=null,ue=null,ve=m.b;ve&&(ve.c||(T++,ve.a==n&&(H=ve),!(H&&1<T)));ve=ve.next)H||(ue=ve);H&&(m.a==uo&&1==T?Ie(m,u):(ue?((T=ue).next==m.f&&(m.f=T),T.next=T.next.next):z(m),F(m,H,ki,u)))}n.c=null}else xt(n,ki,u)}function Ge(n,u){n.b||n.a!=Ni&&n.a!=ki||Z(n),n.f?n.f.next=u:n.b=u,n.f=u}function dt(n,u,m,T){var H=_r(null,null,null);return H.a=new Yn(function(ue,ve){H.g=u?function(Ze){try{var Qt=u.call(T,Ze);ue(Qt)}catch(En){ve(En)}}:ue,H.b=m?function(Ze){try{var Qt=m.call(T,Ze);void 0===Qt&&Ze instanceof re?ve(Ze):ue(Qt)}catch(En){ve(En)}}:ve}),H.a.c=n,Ge(n,H),H.a}function xt(n,u,m){n.a==uo&&(n===m&&(u=ki,m=new TypeError("Promise cannot resolve to itself")),n.a=1,an(m,n.$c,n.ad,n)||(n.i=m,n.a=u,n.c=null,Z(n),u!=ki||m instanceof re||function(n,u){n.g=!0,kr(function(){n.g&&ye.call(null,u)})}(n,m)))}function an(n,u,m,T){if(n instanceof Yn)return Ge(n,_r(u||De,m||null,T)),!0;if(un(n))return n.then(u,m,T),!0;if(Me(n))try{var H=n.then;if(nt(H))return function(n,u,m,T,H){function ue(Qt){Ze||(Ze=!0,T.call(H,Qt))}var Ze=!1;try{u.call(n,function(Qt){Ze||(Ze=!0,m.call(H,Qt))},ue)}catch(Qt){ue(Qt)}}(n,H,u,m,T),!0}catch(ue){return m.call(T,ue),!0}return!1}function Z(n){n.h||(n.h=!0,kr(n.gc,n))}function z(n){var u=null;return n.b&&(n.b=(u=n.b).next,u.next=null),n.b||(n.f=null),u}function F(n,u,m,T){if(m==ki&&u.b&&!u.c)for(;n&&n.g;n=n.c)n.g=!1;if(u.a)u.a.c=null,ge(u,m,T);else try{u.c?u.g.call(u.f):ge(u,m,T)}catch(H){ye.call(null,H)}$n(fr,u)}function ge(n,u,m){u==Ni?n.g.call(n.f,m):n.b&&n.b.call(n.f,m)}Yn.prototype.then=function(n,u,m){return dt(this,nt(n)?n:null,nt(u)?u:null,m)},Yn.prototype.$goog_Thenable=!0,(b=Yn.prototype).oa=function(n,u){return(n=_r(n,n,u)).c=!0,Ge(this,n),this},b.o=function(n,u){return dt(this,null,n,u)},b.cancel=function(n){if(this.a==uo){var u=new re(n);kr(function(){Ie(this,u)},this)}},b.$c=function(n){this.a=uo,xt(this,Ni,n)},b.ad=function(n){this.a=uo,xt(this,ki,n)},b.gc=function(){for(var n;n=z(this);)F(this,n,this.a,this.i);this.h=!1};var ye=Po;function re(n){fn.call(this,n)}function Le(){0!=St&&(rn[Ve(this)]=this),this.ya=this.ya,this.pa=this.pa}ke(re,fn),re.prototype.name="cancel";var St=0,rn={};function On(n){if(!n.ya&&(n.ya=!0,n.Da(),0!=St)){var u=Ve(n);if(0!=St&&n.pa&&0<n.pa.length)throw Error(n+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete rn[u]}}Le.prototype.ya=!1,Le.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var br=Object.freeze||function(n){return n},Dr=!$r||9<=Number(Fn),no=$r&&!Wi("9"),K=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var n=!1,u=Object.defineProperty({},"passive",{get:function(){n=!0}});try{k.addEventListener("test",De,u),k.removeEventListener("test",De,u)}catch(m){}return n}();function de(n,u){this.type=n,this.b=this.target=u,this.defaultPrevented=!1}function Y(n,u){if(de.call(this,n?n.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,n){var m=this.type=n.type,T=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.b=u,u=n.relatedTarget){if(Yi){e:{try{fi(u.nodeName);var H=!0;break e}catch(ue){}H=!1}H||(u=null)}}else"mouseover"==m?u=n.fromElement:"mouseout"==m&&(u=n.toElement);this.relatedTarget=u,T?(this.clientX=void 0!==T.clientX?T.clientX:T.pageX,this.clientY=void 0!==T.clientY?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pe[n.pointerType]||"",this.a=n,n.defaultPrevented&&this.preventDefault()}}de.prototype.preventDefault=function(){this.defaultPrevented=!0},ke(Y,de);var pe=br({2:"touch",3:"pen",4:"mouse"});Y.prototype.preventDefault=function(){Y.bb.preventDefault.call(this);var n=this.a;if(n.preventDefault)n.preventDefault();else if(n.returnValue=!1,no)try{(n.ctrlKey||112<=n.keyCode&&123>=n.keyCode)&&(n.keyCode=-1)}catch(u){}},Y.prototype.g=function(){return this.a};var ot="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function gn(n,u,m,T,H){this.listener=n,this.proxy=null,this.src=u,this.type=m,this.capture=!!T,this.Wa=H,this.key=++Ft,this.wa=this.Qa=!1}function Dn(n){n.wa=!0,n.listener=null,n.proxy=null,n.src=null,n.Wa=null}function Jn(n){this.src=n,this.a={},this.b=0}function ai(n,u){var m=u.type;m in n.a&&He(n.a[m],u)&&(Dn(u),0==n.a[m].length&&(delete n.a[m],n.b--))}function oi(n,u,m,T){for(var H=0;H<n.length;++H){var ue=n[H];if(!ue.wa&&ue.listener==u&&ue.capture==!!m&&ue.Wa==T)return H}return-1}Jn.prototype.add=function(n,u,m,T,H){var ue=n.toString();(n=this.a[ue])||(n=this.a[ue]=[],this.b++);var ve=oi(n,u,T,H);return-1<ve?(u=n[ve],m||(u.Qa=!1)):((u=new gn(u,this.src,ue,!!T,H)).Qa=m,n.push(u)),u};var Pr="closure_lm_"+(1e6*Math.random()|0),xr={};function Qr(n,u,m,T,H){if(T&&T.once)yi(n,u,m,T,H);else if(Array.isArray(u))for(var ue=0;ue<u.length;ue++)Qr(n,u[ue],m,T,H);else m=Vr(m),n&&n[ot]?ua(n,u,m,Me(T)?!!T.capture:!!T,H):ls(n,u,m,!1,T,H)}function ls(n,u,m,T,H,ue){if(!u)throw Error("Invalid event type");var ve=Me(H)?!!H.capture:!!H,Ze=Co(n);if(Ze||(n[Pr]=Ze=new Jn(n)),!(m=Ze.add(u,m,T,ve,ue)).proxy)if(T=function(){var n=co,u=Dr?function(m){return n.call(u.src,u.listener,m)}:function(m){if(!(m=n.call(u.src,u.listener,m)))return m};return u}(),m.proxy=T,T.src=n,T.listener=m,n.addEventListener)K||(H=ve),void 0===H&&(H=!1),n.addEventListener(u.toString(),T,H);else if(n.attachEvent)n.attachEvent(di(u.toString()),T);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(T)}}function yi(n,u,m,T,H){if(Array.isArray(u))for(var ue=0;ue<u.length;ue++)yi(n,u[ue],m,T,H);else m=Vr(m),n&&n[ot]?hr(n,u,m,Me(T)?!!T.capture:!!T,H):ls(n,u,m,!0,T,H)}function Fi(n,u,m,T,H){if(Array.isArray(u))for(var ue=0;ue<u.length;ue++)Fi(n,u[ue],m,T,H);else T=Me(T)?!!T.capture:!!T,m=Vr(m),n&&n[ot]?(n=n.v,(u=String(u).toString())in n.a&&-1<(m=oi(ue=n.a[u],m,T,H))&&(Dn(ue[m]),Array.prototype.splice.call(ue,m,1),0==ue.length&&(delete n.a[u],n.b--))):n&&(n=Co(n))&&(u=n.a[u.toString()],n=-1,u&&(n=oi(u,m,T,H)),(m=-1<n?u[n]:null)&&Er(m))}function Er(n){if("number"!=typeof n&&n&&!n.wa){var u=n.src;if(u&&u[ot])ai(u.v,n);else{var m=n.type,T=n.proxy;u.removeEventListener?u.removeEventListener(m,T,n.capture):u.detachEvent?u.detachEvent(di(m),T):u.addListener&&u.removeListener&&u.removeListener(T),(m=Co(u))?(ai(m,n),0==m.b&&(m.src=null,u[Pr]=null)):Dn(n)}}}function di(n){return n in xr?xr[n]:xr[n]="on"+n}function ko(n,u,m,T){var H=!0;if((n=Co(n))&&(u=n.a[u.toString()]))for(u=u.concat(),n=0;n<u.length;n++){var ue=u[n];ue&&ue.capture==m&&!ue.wa&&(ue=Fo(ue,T),H=H&&!1!==ue)}return H}function Fo(n,u){var m=n.listener,T=n.Wa||n.src;return n.Qa&&Er(n),m.call(T,u)}function co(n,u){if(n.wa)return!0;if(!Dr){if(!u)e:{u=["window","event"];for(var m=k,T=0;T<u.length;T++)if(null==(m=m[u[T]])){u=null;break e}u=m}if(u=new Y(T=u,this),m=!0,!(0>T.keyCode||null!=T.returnValue)){e:{var H=!1;if(0==T.keyCode)try{T.keyCode=-1;break e}catch(ve){H=!0}(H||null==T.returnValue)&&(T.returnValue=!0)}for(T=[],H=u.b;H;H=H.parentNode)T.push(H);for(n=n.type,H=T.length-1;0<=H;H--){u.b=T[H];var ue=ko(T[H],n,!0,u);m=m&&ue}for(H=0;H<T.length;H++)u.b=T[H],ue=ko(T[H],n,!1,u),m=m&&ue}return m}return Fo(n,new Y(u,this))}function Co(n){return(n=n[Pr])instanceof Jn?n:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vr(n){return nt(n)?n:(n[ti]||(n[ti]=function(u){return n.handleEvent(u)}),n[ti])}function vr(){Le.call(this),this.v=new Jn(this),this.bc=this,this.hb=null}function ua(n,u,m,T,H){n.v.add(String(u),m,!1,T,H)}function hr(n,u,m,T,H){n.v.add(String(u),m,!0,T,H)}function ji(n,u,m,T){if(!(u=n.v.a[String(u)]))return!0;u=u.concat();for(var H=!0,ue=0;ue<u.length;++ue){var ve=u[ue];if(ve&&!ve.wa&&ve.capture==m){var Ze=ve.listener,Qt=ve.Wa||ve.src;ve.Qa&&ai(n.v,ve),H=!1!==Ze.call(Qt,T)&&H}}return H&&!T.defaultPrevented}function ss(n,u,m){if(nt(n))m&&(n=tn(n,m));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tn(n.handleEvent,n)}return 2147483647<Number(u)?-1:k.setTimeout(n,u||0)}function Ii(n){var u=null;return new Yn(function(m,T){-1==(u=ss(function(){m(void 0)},n))&&T(Error("Failed to schedule timer."))}).o(function(m){throw k.clearTimeout(u),m})}function To(n){if(n.X&&"function"==typeof n.X)return n.X();if("string"==typeof n)return n.split("");if(je(n)){for(var u=[],m=n.length,T=0;T<m;T++)u.push(n[T]);return u}for(T in u=[],m=0,n)u[m++]=n[T];return u}function eo(n){if(n.Y&&"function"==typeof n.Y)return n.Y();if(!n.X||"function"!=typeof n.X){if(je(n)||"string"==typeof n){var u=[];n=n.length;for(var m=0;m<n;m++)u.push(m);return u}for(var T in u=[],m=0,n)u[m++]=T;return u}}function lo(n,u){this.b={},this.a=[],this.c=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var T=0;T<m;T+=2)this.set(arguments[T],arguments[T+1])}else if(n)if(n instanceof lo)for(m=n.Y(),T=0;T<m.length;T++)this.set(m[T],n.get(m[T]));else for(T in n)this.set(T,n[T])}function Jt(n){if(n.c!=n.a.length){for(var u=0,m=0;u<n.a.length;){var T=n.a[u];Cr(n.b,T)&&(n.a[m++]=T),u++}n.a.length=m}if(n.c!=n.a.length){var H={};for(m=u=0;u<n.a.length;)Cr(H,T=n.a[u])||(n.a[m++]=T,H[T]=1),u++;n.a.length=m}}function Cr(n,u){return Object.prototype.hasOwnProperty.call(n,u)}ke(vr,Le),vr.prototype[ot]=!0,vr.prototype.addEventListener=function(n,u,m,T){Qr(this,n,u,m,T)},vr.prototype.removeEventListener=function(n,u,m,T){Fi(this,n,u,m,T)},vr.prototype.dispatchEvent=function(n){var u,m=this.hb;if(m)for(u=[];m;m=m.hb)u.push(m);m=this.bc;var T=n.type||n;if("string"==typeof n)n=new de(n,m);else if(n instanceof de)n.target=n.target||m;else{var H=n;Se(n=new de(T,m),H)}if(H=!0,u)for(var ue=u.length-1;0<=ue;ue--){var ve=n.b=u[ue];H=ji(ve,T,!0,n)&&H}if(H=ji(ve=n.b=m,T,!0,n)&&H,H=ji(ve,T,!1,n)&&H,u)for(ue=0;ue<u.length;ue++)H=ji(ve=n.b=u[ue],T,!1,n)&&H;return H},vr.prototype.Da=function(){if(vr.bb.Da.call(this),this.v){var m,n=this.v;for(m in n.a){for(var T=n.a[m],H=0;H<T.length;H++)Dn(T[H]);delete n.a[m],n.b--}}this.hb=null},(b=lo.prototype).X=function(){Jt(this);for(var n=[],u=0;u<this.a.length;u++)n.push(this.b[this.a[u]]);return n},b.Y=function(){return Jt(this),this.a.concat()},b.clear=function(){this.b={},this.c=this.a.length=0},b.get=function(n,u){return Cr(this.b,n)?this.b[n]:u},b.set=function(n,u){Cr(this.b,n)||(this.c++,this.a.push(n)),this.b[n]=u},b.forEach=function(n,u){for(var m=this.Y(),T=0;T<m.length;T++){var H=m[T],ue=this.get(H);n.call(u,ue,H,this)}};var ea=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qo(n,u){var m;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,n instanceof Qo?(this.i=void 0!==u?u:n.i,Bi(this,n.c),this.l=n.l,this.a=n.a,sn(this,n.g),this.f=n.f,ta(this,xs(n.b)),this.h=n.h):n&&(m=String(n).match(ea))?(this.i=!!u,Bi(this,m[1]||"",!0),this.l=as(m[2]||""),this.a=as(m[3]||"",!0),sn(this,m[4]),this.f=as(m[5]||"",!0),ta(this,m[6]||"",!0),this.h=as(m[7]||"")):(this.i=!!u,this.b=new es(null,this.i))}function Bi(n,u,m){n.c=m?as(u,!0):u,n.c&&(n.c=n.c.replace(/:$/,""))}function sn(n,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);n.g=u}else n.g=null}function ta(n,u,m){u instanceof es?(n.b=u,function(n,u){u&&!n.f&&(fo(n),n.c=null,n.a.forEach(function(m,T){var H=T.toLowerCase();T!=H&&(Vo(this,T),Rs(this,H,m))},n)),n.f=u}(n.b,n.i)):(m||(u=Gr(u,Bs)),n.b=new es(u,n.i))}function _i(n,u,m){n.b.set(u,m)}function Jo(n,u){return n.b.get(u)}function go(n){return n instanceof Qo?new Qo(n):new Qo(n,void 0)}function Wo(n,u,m,T){var H=new Qo(null,void 0);return n&&Bi(H,n),u&&(H.a=u),m&&sn(H,m),T&&(H.f=T),H}function as(n,u){return n?u?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gr(n,u,m){return"string"==typeof n?(n=encodeURI(n).replace(u,Xo),m&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xo(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qo.prototype.toString=function(){var n=[],u=this.c;u&&n.push(Gr(u,fs,!0),":");var m=this.a;return(m||"file"==u)&&(n.push("//"),(u=this.l)&&n.push(Gr(u,fs,!0),"@"),n.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.g)&&n.push(":",String(m))),(m=this.f)&&(this.a&&"/"!=m.charAt(0)&&n.push("/"),n.push(Gr(m,"/"==m.charAt(0)?io:$o,!0))),(m=this.b.toString())&&n.push("?",m),(m=this.h)&&n.push("#",Gr(m,ca)),n.join("")},Qo.prototype.resolve=function(n){var u=new Qo(this),m=!!n.c;m?Bi(u,n.c):m=!!n.l,m?u.l=n.l:m=!!n.a,m?u.a=n.a:m=null!=n.g;var T=n.f;if(m)sn(u,n.g);else if(m=!!n.f){if("/"!=T.charAt(0))if(this.a&&!this.f)T="/"+T;else{var H=u.f.lastIndexOf("/");-1!=H&&(T=u.f.substr(0,H+1)+T)}if(".."==(H=T)||"."==H)T="";else if(Bt(H,"./")||Bt(H,"/.")){T=0==H.lastIndexOf("/",0),H=H.split("/");for(var ue=[],ve=0;ve<H.length;){var Ze=H[ve++];"."==Ze?T&&ve==H.length&&ue.push(""):".."==Ze?((1<ue.length||1==ue.length&&""!=ue[0])&&ue.pop(),T&&ve==H.length&&ue.push("")):(ue.push(Ze),T=!0)}T=ue.join("/")}else T=H}return m?u.f=T:m=""!==n.b.toString(),m?ta(u,xs(n.b)):m=!!n.h,m&&(u.h=n.h),u};var fs=/[#\/\?@]/g,$o=/[#\?:]/g,io=/[#\?]/g,Bs=/[#\?@]/g,ca=/#/g;function es(n,u){this.b=this.a=null,this.c=n||null,this.f=!!u}function fo(n){n.a||(n.a=new lo,n.b=0,n.c&&function(n,u){if(n){n=n.split("&");for(var m=0;m<n.length;m++){var T=n[m].indexOf("="),H=null;if(0<=T){var ue=n[m].substring(0,T);H=n[m].substring(T+1)}else ue=n[m];u(ue,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}(n.c,function(u,m){n.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}function na(n){var u=eo(n);if(void 0===u)throw Error("Keys are undefined");var m=new es(null,void 0);n=To(n);for(var T=0;T<u.length;T++){var H=u[T],ue=n[T];Array.isArray(ue)?Rs(m,H,ue):m.add(H,ue)}return m}function Vo(n,u){fo(n),u=wi(n,u),Cr(n.a.b,u)&&(n.c=null,n.b-=n.a.get(u).length,Cr((n=n.a).b,u)&&(delete n.b[u],n.c--,n.a.length>2*n.c&&Jt(n)))}function vs(n,u){return fo(n),u=wi(n,u),Cr(n.a.b,u)}function Rs(n,u,m){Vo(n,u),0<m.length&&(n.c=null,n.a.set(wi(n,u),Tt(m)),n.b+=m.length)}function xs(n){var u=new es;return u.c=n.c,n.a&&(u.a=new lo(n.a),u.b=n.b),u}function wi(n,u){return u=String(u),n.f&&(u=u.toLowerCase()),u}function Ns(n){var u=[];return xo(new ys,n,u),u.join("")}function ys(){}function xo(n,u,m){if(null==u)m.push("null");else{if("object"==typeof u){if(Array.isArray(u)){var T=u;u=T.length,m.push("[");for(var H="",ue=0;ue<u;ue++)m.push(H),xo(n,T[ue],m),H=",";return void m.push("]")}if(!(u instanceof String||u instanceof Number||u instanceof Boolean)){for(T in m.push("{"),H="",u)Object.prototype.hasOwnProperty.call(u,T)&&"function"!=typeof(ue=u[T])&&(m.push(H),vo(T,m),m.push(":"),xo(n,ue,m),H=",");return void m.push("}")}u=u.valueOf()}switch(typeof u){case"string":vo(u,m);break;case"number":m.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":m.push(String(u));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}(b=es.prototype).add=function(n,u){fo(this),this.c=null,n=wi(this,n);var m=this.a.get(n);return m||this.a.set(n,m=[]),m.push(u),this.b+=1,this},b.clear=function(){this.a=this.c=null,this.b=0},b.forEach=function(n,u){fo(this),this.a.forEach(function(m,T){jt(m,function(H){n.call(u,H,T,this)},this)},this)},b.Y=function(){fo(this);for(var n=this.a.X(),u=this.a.Y(),m=[],T=0;T<u.length;T++)for(var H=n[T],ue=0;ue<H.length;ue++)m.push(u[T]);return m},b.X=function(n){fo(this);var u=[];if("string"==typeof n)vs(this,n)&&(u=Nt(u,this.a.get(wi(this,n))));else{n=this.a.X();for(var m=0;m<n.length;m++)u=Nt(u,n[m])}return u},b.set=function(n,u){return fo(this),this.c=null,vs(this,n=wi(this,n))&&(this.b-=this.a.get(n).length),this.a.set(n,[u]),this.b+=1,this},b.get=function(n,u){return n&&0<(n=this.X(n)).length?String(n[0]):u},b.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var n=[],u=this.a.Y(),m=0;m<u.length;m++){var T=u[m],H=encodeURIComponent(String(T));T=this.X(T);for(var ue=0;ue<T.length;ue++){var ve=H;""!==T[ue]&&(ve+="="+encodeURIComponent(String(T[ue]))),n.push(ve)}}return this.c=n.join("&")};var la={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ya=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function vo(n,u){u.push('"',n.replace(ya,function(m){var T=la[m];return T||(T="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),la[m]=T),T}),'"')}function ds(){var n=zo();return $r&&!!Fn&&11==Fn||/Edge\/\d+/.test(n)}function Qi(){return k.window&&k.window.location.href||self&&self.location&&self.location.href||""}function ts(n,u){u=u||k.window;var m="about:blank";n&&(m=Gi(to(n)||So)),u.location.href=m}function $i(n,u){var T,m=[];for(T in n)T in u?typeof n[T]!=typeof u[T]?m.push(T):"object"==typeof n[T]&&null!=n[T]&&null!=u[T]?0<$i(n[T],u[T]).length&&m.push(T):n[T]!==u[T]&&m.push(T):m.push(T);for(T in u)T in n||m.push(T);return m}function hi(n){return!!((n=(n||zo()).toLowerCase()).match(/android/)||n.match(/webos/)||n.match(/iphone|ipad|ipod/)||n.match(/blackberry/)||n.match(/windows phone/)||n.match(/iemobile/))}function Ms(n){n=n||k.window;try{n.close()}catch(u){}}function y(n,u,m){var T=Math.floor(1e9*Math.random()).toString();u=u||500,m=m||600;var H=(window.screen.availHeight-m)/2,ue=(window.screen.availWidth-u)/2;for(ve in u={width:u,height:m,top:0<H?H:0,left:0<ue?ue:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},m=zo().toLowerCase(),T&&(u.target=T,Bt(m,"crios/")&&(u.target="_blank")),us(zo())==Li&&(n=n||"http://localhost",u.scrollbars=!0),m=n||"",(n=u)||(n={}),T=window,u=m instanceof li?m:to(void 0!==m.href?m.href:String(m))||So,m=n.target||m.target,H=[],n)switch(ve){case"width":case"height":case"top":case"left":H.push(ve+"="+n[ve]);break;case"target":case"noopener":case"noreferrer":break;default:H.push(ve+"="+(n[ve]?1:0))}var ve=H.join(",");if((Fr("iPhone")&&!Fr("iPod")&&!Fr("iPad")||Fr("iPad")||Fr("iPod"))&&T.navigator&&T.navigator.standalone&&m&&"_self"!=m?(Te(ve=mi(document,"A"),"HTMLAnchorElement"),u=u instanceof li?u:Pi(u),ve.href=Gi(u),ve.setAttribute("target",m),n.noreferrer&&ve.setAttribute("rel","noreferrer"),(n=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,T,1),ve.dispatchEvent(n),ve={}):n.noreferrer?(ve=on("",T,m,ve),n=Gi(u),ve&&(xi&&Bt(n,";")&&(n="'"+n.replace(/'/g,"%27")+"'"),ve.opener=null,n='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vn(n)+'">',n=new Ui(n=(T=Ln())?T.createHTML(n):n,null,Do),T=ve.document)&&(T.write(function(n){return n instanceof Ui&&n.constructor===Ui?n.a:(Zt("expected object of type SafeHtml, got '"+n+"' of type "+st(n)),"type_error:SafeHtml")}(n)),T.close())):(ve=on(u,T,m,ve))&&n.noopener&&(ve.opener=null),ve)try{ve.focus()}catch(Ze){}return ve}var X=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_e=/^[^@]+@[^@]+$/;function A(){var n=null;return new Yn(function(u){"complete"==k.document.readyState?u():(n=function(){u()},yi(window,"load",n))}).o(function(u){throw Fi(window,"load",n),u})}function te(n){return n=n||zo(),!("file:"!==da()&&"ionic:"!==da()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function ze(){var n=k.window;try{return!(!n||n==n.top)}catch(u){return!1}}function Vt(){return void 0!==k.WorkerGlobalScope&&"function"==typeof k.importScripts}function Cn(){return E.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":E.default.INTERNAL.hasOwnProperty("node")?"Node":Vt()?"Worker":"Browser"}function gr(){var n=Cn();return"ReactNative"===n||"Node"===n}var Li="Firefox";function us(n){var u=n.toLowerCase();return Bt(u,"opera/")||Bt(u,"opr/")||Bt(u,"opios/")?"Opera":Bt(u,"iemobile")?"IEMobile":Bt(u,"msie")||Bt(u,"trident/")?"IE":Bt(u,"edge/")?"Edge":Bt(u,"firefox/")?Li:Bt(u,"silk/")?"Silk":Bt(u,"blackberry")?"Blackberry":Bt(u,"webos")?"Webos":!Bt(u,"safari/")||Bt(u,"chrome/")||Bt(u,"crios/")||Bt(u,"android")?!Bt(u,"chrome/")&&!Bt(u,"crios/")||Bt(u,"edge/")?Bt(u,"android")?"Android":(n=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==n.length?n[1]:"Other":"Chrome":"Safari"}var Cu={md:"FirebaseCore-web",od:"FirebaseUI-web"};function _a(n,u){u=u||[];var H,m=[],T={};for(H in Cu)T[Cu[H]]=!0;for(H=0;H<u.length;H++)void 0!==T[u[H]]&&(delete T[u[H]],m.push(u[H]));return m.sort(),(u=m).length||(u=["FirebaseCore-web"]),"Browser"===(m=Cn())?m=us(T=zo()):"Worker"===m&&(m=us(T=zo())+"-"+m),m+"/JsCore/"+n+"/"+u.join(",")}function zo(){return k.navigator&&k.navigator.userAgent||""}function oo(n,u){n=n.split("."),u=u||k;for(var m=0;m<n.length&&"object"==typeof u&&null!=u;m++)u=u[n[m]];return m!=n.length&&(u=void 0),u}function za(){try{var n=k.localStorage,u=_s();if(n)return n.setItem(u,"1"),n.removeItem(u),!ds()||!!k.indexedDB}catch(m){return Vt()&&!!k.indexedDB}return!1}function fa(){return(Sa()||"chrome-extension:"===da()||te())&&!gr()&&za()&&!Vt()}function Sa(){return"http:"===da()||"https:"===da()}function da(){return k.location&&k.location.protocol||null}function hs(n){return!(hi(n=n||zo())||us(n)==Li)}function wa(n){return void 0===n?null:Ns(n)}function ho(n){var m,u={};for(m in n)n.hasOwnProperty(m)&&null!=n[m]&&(u[m]=n[m]);return u}function ha(n){if(null!==n)return JSON.parse(n)}function _s(n){return n||Math.floor(1e9*Math.random()).toString()}function Tu(n){return!("Safari"==us(n=n||zo())||n.toLowerCase().match(/iphone|ipad|ipod/))}function Da(){var n=k.___jsl;if(n&&n.H)for(var u in n.H)if(n.H[u].r=n.H[u].r||[],n.H[u].L=n.H[u].L||[],n.H[u].r=n.H[u].L.concat(),n.CP)for(var m=0;m<n.CP.length;m++)n.CP[m]=null}function ba(n,u){if(n>u)throw Error("Short delay should be less than long delay!");this.a=n,this.c=u,n=zo(),u=Cn(),this.b=hi(n)||"ReactNative"===u}function V(){var n=k.document;return!n||void 0===n.visibilityState||"visible"==n.visibilityState}function D(n){try{var u=new Date(parseInt(n,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(n))return u.toUTCString()}catch(m){}return null}function $(){return!(!oo("fireauth.oauthhelper",k)&&!oo("fireauth.iframe",k))}ba.prototype.get=function(){var n=k.navigator;return!n||"boolean"!=typeof n.onLine||!Sa()&&"chrome-extension:"!==da()&&void 0===n.connection||n.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $t,We={};function ut(n){We[n]||(We[n]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n))}try{var Hn={};Object.defineProperty(Hn,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hn,"abcd",{configurable:!0,enumerable:!0,value:2}),$t=2==Hn.abcd}catch(n){$t=!1}function Xt(n,u,m){$t?Object.defineProperty(n,u,{configurable:!0,enumerable:!0,value:m}):n[u]=m}function Zn(n,u){if(u)for(var m in u)u.hasOwnProperty(m)&&Xt(n,m,u[m])}function pi(n){var u={};return Zn(u,n),u}function Gs(n){var u=n;if("object"==typeof n&&null!=n)for(var m in u="length"in n?[]:{},n)Xt(u,m,Gs(n[m]));return u}function ws(n){var u=n&&(n[Ka]?"phone":null);if(!(u&&n&&n[Bu]))throw new ce("internal-error","Internal assert: invalid MultiFactorInfo object");Xt(this,"uid",n[Bu]),Xt(this,"displayName",n[Qc]||null);var m=null;n[ka]&&(m=new Date(n[ka]).toUTCString()),Xt(this,"enrollmentTime",m),Xt(this,"factorId",u)}function ra(n){try{var u=new Ya(n)}catch(m){u=null}return u}ws.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qc="displayName",ka="enrolledAt",Bu="mfaEnrollmentId",Ka="phoneInfo";function Ya(n){ws.call(this,n),Xt(this,"phoneNumber",n[Ka])}function ns(n){var u={},m=n[Iu],T=n[lc],H=n[Fa];if(n=ra(n[Za]),!H||H!=jo&&H!=ia&&!m||H==ia&&!T||H==Hu&&!n)throw Error("Invalid checkActionCode response!");H==ia?(u[fc]=m||null,u[Jc]=m||null,u[Bo]=T):(u[fc]=T||null,u[Jc]=T||null,u[Bo]=m||null),u[ef]=n||null,Xt(this,Io,H),Xt(this,Qa,Gs(u))}ke(Ya,ws),Ya.prototype.w=function(){var n=Ya.bb.w.call(this);return n.phoneNumber=this.phoneNumber,n};var Hu="REVERT_SECOND_FACTOR_ADDITION",jo="EMAIL_SIGNIN",ia="VERIFY_AND_CHANGE_EMAIL",Iu="email",Za="mfaInfo",lc="newEmail",Fa="requestType",Bo="email",fc="fromEmail",ef="multiFactorInfo",Jc="previousEmail",Qa="data",Io="operation";function dc(n){var u=Jo(n=go(n),La)||null,m=Jo(n,Gu)||null,T=Jo(n,nf)||null;if(T=T&&qs[T]||null,!u||!m||!T)throw new ce("argument-error",La+", "+Gu+"and "+nf+" are required in a valid action code URL.");Zn(this,{apiKey:u,operation:T,code:m,continueUrl:Jo(n,qu)||null,languageCode:Jo(n,tf)||null,tenantId:Jo(n,rf)||null})}var La="apiKey",Gu="oobCode",qu="continueUrl",tf="languageCode",nf="mode",rf="tenantId",qs={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Hu,signIn:jo,verifyAndChangeEmail:ia,verifyEmail:"VERIFY_EMAIL"};function Xc(n){try{return new dc(n)}catch(u){return null}}function oa(n){var u=n[bs];if(void 0===u)throw new ce("missing-continue-uri");if("string"!=typeof u||"string"==typeof u&&!u.length)throw new ce("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var m=n[Ja];if(m&&"object"==typeof m){u=m[of];var T=m[Au];if(m=m[$u],"string"==typeof u&&u.length){if(this.a=u,void 0!==T&&"boolean"!=typeof T)throw new ce("argument-error",Au+" property must be a boolean when specified.");if(this.g=!!T,void 0!==m&&("string"!=typeof m||"string"==typeof m&&!m.length))throw new ce("argument-error",$u+" property must be a non empty string when specified.");this.b=m||null}else{if(void 0!==u)throw new ce("argument-error",of+" property must be a non empty string when specified.");if(void 0!==T||void 0!==m)throw new ce("missing-android-pkg-name")}}else if(void 0!==m)throw new ce("argument-error",Ja+" property must be a non null object when specified.");if(this.f=null,(u=n[el])&&"object"==typeof u){if("string"==typeof(u=u[hc])&&u.length)this.f=u;else if(void 0!==u)throw new ce("argument-error",hc+" property must be a non empty string when specified.")}else if(void 0!==u)throw new ce("argument-error",el+" property must be a non null object when specified.");if(void 0!==(u=n[Wu])&&"boolean"!=typeof u)throw new ce("argument-error",Wu+" property must be a boolean when specified.");if(this.c=!!u,void 0!==(n=n[rs])&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new ce("argument-error",rs+" property must be a non empty string when specified.");this.i=n||null}var Ja="android",rs="dynamicLinkDomain",Wu="handleCodeInApp",el="iOS",bs="url",Au="installApp",$u="minimumVersion",of="packageName",hc="bundleId";function ps(n){var u={};for(var m in u.continueUrl=n.h,u.canHandleCodeInApp=n.c,(u.androidPackageName=n.a)&&(u.androidMinimumVersion=n.b,u.androidInstallApp=n.g),u.iOSBundleId=n.f,u.dynamicLinkDomain=n.i,u)null===u[m]&&delete u[m];return u}var gs=null;function fu(n){var u=pc(n);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=n,this.a=u.exp,this.i=u.sub,n=Date.now()/1e3,this.g=u.iat||(n>this.a?this.a:n),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||"anonymous"==this.b}function Xa(n){try{return new fu(n)}catch(u){return null}}function pc(n){if(!n||3!=(n=n.split(".")).length)return null;for(var u=(4-(n=n[1]).length%4)%4,m=0;m<u;m++)n+=".";try{var T=function(n){var u=[];return function(n,u){function m(Qt){for(;T<n.length;){var En=n.charAt(T++),ni=gs[En];if(null!=ni)return ni;if(!/^[\s\xa0]*$/.test(En))throw Error("Unknown base64 encoding at char: "+En)}return Qt}!function(){if(!gs){gs={};for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++)for(var T=n.concat(u[m].split("")),H=0;H<T.length;H++){var ue=T[H];void 0===gs[ue]&&(gs[ue]=H)}}}();for(var T=0;;){var H=m(-1),ue=m(0),ve=m(64),Ze=m(64);if(64===Ze&&-1===H)break;u(H<<2|ue>>4),64!=ve&&(u(ue<<4&240|ve>>2),64!=Ze&&u(ve<<6&192|Ze))}}(n,function(m){u.push(m)}),u}(n);for(n=[],m=u=0;u<T.length;){var H=T[u++];if(128>H)n[m++]=String.fromCharCode(H);else if(191<H&&224>H){var ue=T[u++];n[m++]=String.fromCharCode((31&H)<<6|63&ue)}else if(239<H&&365>H){ue=T[u++];var ve=T[u++],Qt=((7&H)<<18|(63&ue)<<12|(63&ve)<<6|63&T[u++])-65536;n[m++]=String.fromCharCode(55296+(Qt>>10)),n[m++]=String.fromCharCode(56320+(1023&Qt))}else ue=T[u++],ve=T[u++],n[m++]=String.fromCharCode((15&H)<<12|(63&ue)<<6|63&ve)}return JSON.parse(n.join(""))}catch(En){}return null}fu.prototype.T=function(){return this.f},fu.prototype.l=function(){return this.c},fu.prototype.toString=function(){return this.h};var Va="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),du=["client_id","response_type","scope","redirect_uri","state"],Ws={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:du},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:du},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:du},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Va},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function eu(n){for(var u in Ws)if(Ws[u].fa==n)return Ws[u];return null}function Su(n){var u={};u["facebook.com"]=tl,u["google.com"]=xl,u["github.com"]=Rc,u["twitter.com"]=Ku;var m=n&&n[Dc];try{if(m)return u[m]?new u[m](n):new Ua(n);if(void 0!==n[zu])return new hu(n)}catch(T){}return null}var zu="idToken",Dc="providerId";function hu(n){var u=n[Dc];if(!u&&n[zu]){var m=Xa(n[zu]);m&&m.b&&(u=m.b)}if(!u)throw Error("Invalid additional user info!");("anonymous"==u||"custom"==u)&&(u=null),m=!1,void 0!==n.isNewUser?m=!!n.isNewUser:"identitytoolkit#SignupNewUserResponse"===n.kind&&(m=!0),Xt(this,"providerId",u),Xt(this,"isNewUser",m)}function Ua(n){hu.call(this,n),Xt(this,"profile",Gs((n=ha(n.rawUserInfo||"{}"))||{}))}function tl(n){if(Ua.call(this,n),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Rc(n){if(Ua.call(this,n),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xt(this,"username",this.profile&&this.profile.login||null)}function xl(n){if(Ua.call(this,n),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ku(n){if(Ua.call(this,n),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xt(this,"username",n.screenName||null)}function Du(n){var u=go(n),m=Jo(u,"link"),T=Jo(go(m),"link");return u=Jo(u,"deep_link_id"),Jo(go(u),"link")||u||T||m||n}function Na(n,u){if(!n&&!u)throw new ce("internal-error","Internal assert: no raw session string available");if(n&&u)throw new ce("internal-error","Internal assert: unable to determine the session type");this.a=n||null,this.b=u||null,this.type=this.a?$s:is}ke(Ua,hu),ke(tl,Ua),ke(Rc,Ua),ke(xl,Ua),ke(Ku,Ua);var $s="enroll",is="signin";function Ma(){}function Ho(n,u){return n.then(function(m){if(m[Ls]){var T=Xa(m[Ls]);if(!T||u!=T.i)throw new ce("user-mismatch");return m}throw new ce("user-mismatch")}).o(function(m){throw m&&m.code&&m.code==_t+"user-not-found"?new ce("user-mismatch"):m})}function ja(n,u){if(!u)throw new ce("internal-error","failed to construct a credential");this.a=u,Xt(this,"providerId",n),Xt(this,"signInMethod",n)}function gc(n){return{pendingToken:n.a,requestUri:"http://localhost"}}function M(n){if(n&&n.providerId&&n.signInMethod&&0==n.providerId.indexOf("saml.")&&n.pendingToken)try{return new ja(n.providerId,n.pendingToken)}catch(u){}return null}function N(n,u,m){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Xt(this,"idToken",u.idToken),u.accessToken&&Xt(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Xt(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else{if(!u.oauthToken||!u.oauthTokenSecret)throw new ce("internal-error","failed to construct a credential");Xt(this,"accessToken",u.oauthToken),Xt(this,"secret",u.oauthTokenSecret)}Xt(this,"providerId",n),Xt(this,"signInMethod",m)}function G(n){var u={};return n.idToken&&(u.id_token=n.idToken),n.accessToken&&(u.access_token=n.accessToken),n.secret&&(u.oauth_token_secret=n.secret),u.providerId=n.providerId,n.nonce&&!n.a&&(u.nonce=n.nonce),u={postBody:na(u).toString(),requestUri:"http://localhost"},n.a&&(delete u.postBody,u.pendingToken=n.a),u}function ae(n){if(n&&n.providerId&&n.signInMethod){var u={idToken:n.oauthIdToken,accessToken:n.oauthTokenSecret?null:n.oauthAccessToken,oauthTokenSecret:n.oauthTokenSecret,oauthToken:n.oauthTokenSecret&&n.oauthAccessToken,nonce:n.nonce,pendingToken:n.pendingToken};try{return new N(n.providerId,u,n.signInMethod)}catch(m){}}return null}function he(n,u){this.Qc=u||[],Zn(this,{providerId:n,isOAuthProvider:!0}),this.Jb={},this.qb=(eu(n)||{}).Ja||null,this.pb=null}function Oe(n){if("string"!=typeof n||0!=n.indexOf("saml."))throw new ce("argument-error",'SAML provider IDs must be prefixed with "saml."');he.call(this,n,[])}function ct(n){he.call(this,n,du),this.a=[]}function ft(){ct.call(this,"facebook.com")}function Wt(n){if(!n)throw new ce("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=n;return Me(n)&&(u=n.accessToken),(new ft).credential({accessToken:u})}function en(){ct.call(this,"github.com")}function wn(n){if(!n)throw new ce("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=n;return Me(n)&&(u=n.accessToken),(new en).credential({accessToken:u})}function ar(){ct.call(this,"google.com"),this.Ca("profile")}function Ur(n,u){var m=n;return Me(n)&&(m=n.idToken,u=n.accessToken),(new ar).credential({idToken:m,accessToken:u})}function Si(){he.call(this,"twitter.com",Va)}function gi(n,u){var m=n;if(Me(m)||(m={oauthToken:n,oauthTokenSecret:u}),!m.oauthToken||!m.oauthTokenSecret)throw new ce("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new N("twitter.com",m,"twitter.com")}function Ao(n,u,m){this.a=n,this.f=u,Xt(this,"providerId","password"),Xt(this,"signInMethod",m===po.EMAIL_LINK_SIGN_IN_METHOD?po.EMAIL_LINK_SIGN_IN_METHOD:po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ks(n){return n&&n.email&&n.password?new Ao(n.email,n.password,n.signInMethod):null}function po(){Zn(this,{providerId:"password",isOAuthProvider:!1})}function pa(n,u){if(!(u=ga(u)))throw new ce("argument-error","Invalid email link!");return new Ao(n,u.code,po.EMAIL_LINK_SIGN_IN_METHOD)}function ga(n){return(n=Xc(n=Du(n)))&&n.operation===jo?n:null}function zs(n){if(!(n.fb&&n.eb||n.La&&n.ea))throw new ce("internal-error");this.a=n,Xt(this,"providerId","phone"),this.fa="phone",Xt(this,"signInMethod","phone")}function Es(n){if(n&&"phone"===n.providerId&&(n.verificationId&&n.verificationCode||n.temporaryProof&&n.phoneNumber)){var u={};return jt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(m){n[m]&&(u[m]=n[m])}),new zs(u)}return null}function Yu(n){return n.a.La&&n.a.ea?{temporaryProof:n.a.La,phoneNumber:n.a.ea}:{sessionInfo:n.a.fb,code:n.a.eb}}function No(n){try{this.a=n||E.default.auth()}catch(u){throw new ce("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zn(this,{providerId:"phone",isOAuthProvider:!1})}function Zu(n,u){if(!n)throw new ce("missing-verification-id");if(!u)throw new ce("missing-verification-code");return new zs({fb:n,eb:u})}function sf(n){if(n.temporaryProof&&n.phoneNumber)return new zs({La:n.temporaryProof,ea:n.phoneNumber});var u=n&&n.providerId;if(!u||"password"===u)return null;var m=n&&n.oauthAccessToken,T=n&&n.oauthTokenSecret,H=n&&n.nonce,ue=n&&n.oauthIdToken,ve=n&&n.pendingToken;try{switch(u){case"google.com":return Ur(ue,m);case"facebook.com":return Wt(m);case"github.com":return wn(m);case"twitter.com":return gi(m,T);default:return m||T||ue||ve?ve?0==u.indexOf("saml.")?new ja(u,ve):new N(u,{pendingToken:ve,idToken:n.oauthIdToken,accessToken:n.oauthAccessToken},u):new ct(u).credential({idToken:ue,accessToken:m,rawNonce:H}):null}}catch(Ze){return null}}function af(n){if(!n.isOAuthProvider)throw new ce("invalid-oauth-provider")}function Cs(n,u,m,T,H,ue,ve){if(this.c=n,this.b=u||null,this.g=m||null,this.f=T||null,this.i=ue||null,this.h=ve||null,this.a=H||null,!this.g&&!this.a)throw new ce("invalid-auth-event");if(this.g&&this.a)throw new ce("invalid-auth-event");if(this.g&&!this.f)throw new ce("invalid-auth-event")}function Qu(n){return(n=n||{}).type?new Cs(n.type,n.eventId,n.urlResponse,n.sessionId,n.error&&rt(n.error),n.postBody,n.tenantId):null}function Ea(){this.b=null,this.a=[]}Na.prototype.Ha=function(){return qn(this.a?this.a:this.b)},Na.prototype.w=function(){return this.type==$s?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Ma.prototype.ka=function(){},Ma.prototype.b=function(){},Ma.prototype.c=function(){},Ma.prototype.w=function(){},ja.prototype.ka=function(n){return dl(n,gc(this))},ja.prototype.b=function(n,u){var m=gc(this);return m.idToken=u,ac(n,m)},ja.prototype.c=function(n,u){return Ho(Cc(n,gc(this)),u)},ja.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},N.prototype.ka=function(n){return dl(n,G(this))},N.prototype.b=function(n,u){var m=G(this);return m.idToken=u,ac(n,m)},N.prototype.c=function(n,u){return Ho(Cc(n,G(this)),u)},N.prototype.w=function(){var n={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(n.oauthIdToken=this.idToken),this.accessToken&&(n.oauthAccessToken=this.accessToken),this.secret&&(n.oauthTokenSecret=this.secret),this.nonce&&(n.nonce=this.nonce),this.a&&(n.pendingToken=this.a),n},he.prototype.Ka=function(n){return this.Jb=Ue(n),this},ke(Oe,he),ke(ct,he),ct.prototype.Ca=function(n){return Ct(this.a,n)||this.a.push(n),this},ct.prototype.Rb=function(){return Tt(this.a)},ct.prototype.credential=function(n,u){var m;if(!(m=Me(n)?{idToken:n.idToken||null,accessToken:n.accessToken||null,nonce:n.rawNonce||null}:{idToken:n||null,accessToken:u||null}).idToken&&!m.accessToken)throw new ce("argument-error","credential failed: must provide the ID token and/or the access token.");return new N(this.providerId,m,this.providerId)},ke(ft,ct),Xt(ft,"PROVIDER_ID","facebook.com"),Xt(ft,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),ke(en,ct),Xt(en,"PROVIDER_ID","github.com"),Xt(en,"GITHUB_SIGN_IN_METHOD","github.com"),ke(ar,ct),Xt(ar,"PROVIDER_ID","google.com"),Xt(ar,"GOOGLE_SIGN_IN_METHOD","google.com"),ke(Si,he),Xt(Si,"PROVIDER_ID","twitter.com"),Xt(Si,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(n){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?ui(n,pl,{email:this.a,oobCode:this.f}):ui(n,Wl,{email:this.a,password:this.f})},Ao.prototype.b=function(n,u){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?ui(n,Tc,{idToken:u,email:this.a,oobCode:this.f}):ui(n,Ga,{idToken:u,email:this.a,password:this.f})},Ao.prototype.c=function(n,u){return Ho(this.ka(n),u)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zn(po,{PROVIDER_ID:"password"}),Zn(po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zn(po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),zs.prototype.ka=function(n){return n.gb(Yu(this))},zs.prototype.b=function(n,u){var m=Yu(this);return m.idToken=u,ui(n,uc,m)},zs.prototype.c=function(n,u){var m=Yu(this);return m.operation="REAUTH",Ho(n=ui(n,yd,m),u)},zs.prototype.w=function(){var n={providerId:"phone"};return this.a.fb&&(n.verificationId=this.a.fb),this.a.eb&&(n.verificationCode=this.a.eb),this.a.La&&(n.temporaryProof=this.a.La),this.a.ea&&(n.phoneNumber=this.a.ea),n},No.prototype.gb=function(n,u){var m=this.a.a;return qn(u.verify()).then(function(T){if("string"!=typeof T)throw new ce("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var H=Me(n)?n.session:null,ue=Me(n)?n.phoneNumber:n;return(H&&H.type==$s?H.Ha().then(function(Ze){return function(n,u){return ui(n,ql,u).then(function(m){return m.phoneSessionInfo.sessionInfo})}(m,{idToken:Ze,phoneEnrollmentInfo:{phoneNumber:ue,recaptchaToken:T}})}):H&&H.type==is?H.Ha().then(function(Ze){return function(n,u){return ui(n,Bf,u).then(function(m){return m.phoneResponseInfo.sessionInfo})}(m,{mfaPendingCredential:Ze,mfaEnrollmentId:n.multiFactorHint&&n.multiFactorHint.uid||n.multiFactorUid,phoneSignInInfo:{recaptchaToken:T}})}):function(n,u){return ui(n,Bc,u)}(m,{phoneNumber:ue,recaptchaToken:T})).then(function(Ze){return"function"==typeof u.reset&&u.reset(),Ze},function(Ze){throw"function"==typeof u.reset&&u.reset(),Ze});default:throw new ce("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Zn(No,{PROVIDER_ID:"phone"}),Zn(No,{PHONE_SIGN_IN_METHOD:"phone"}),Cs.prototype.getUid=function(){var n=[];return n.push(this.c),this.b&&n.push(this.b),this.f&&n.push(this.f),this.h&&n.push(this.h),n.join("-")},Cs.prototype.T=function(){return this.h},Cs.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var pu,nl=null;function rl(n){var u="unauthorized-domain",m=void 0,T=go(n);n=T.a,"chrome-extension"==(T=T.c)?m=sr("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",n):"http"==T||"https"==T?m=sr("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",n):u="operation-not-supported-in-this-environment",ce.call(this,u,m)}function xc(n,u,m){ce.call(this,n,m),(n=u||{}).Kb&&Xt(this,"email",n.Kb),n.ea&&Xt(this,"phoneNumber",n.ea),n.credential&&Xt(this,"credential",n.credential),n.$b&&Xt(this,"tenantId",n.$b)}function Nl(n){if(n.code){var u=n.code||"";0==u.indexOf(_t)&&(u=u.substring(_t.length));var m={credential:sf(n),$b:n.tenantId};if(n.email)m.Kb=n.email;else if(n.phoneNumber)m.ea=n.phoneNumber;else if(!m.credential)return new ce(u,n.message||void 0);return new xc(u,m,n.message)}return null}function vc(){}function yc(){}function _c(n){if(!n.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],m=0;m<u.length;m++){var T=u[m];try{return new ActiveXObject(T),n.f=T}catch(H){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return n.f}function il(){}function Rf(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=tn(this.qc,this),this.a.onerror=tn(this.Tb,this),this.a.onprogress=tn(this.rc,this),this.a.ontimeout=tn(this.vc,this)}function Ml(n,u){n.readyState=u,n.onreadystatechange&&n.onreadystatechange()}function gu(n,u,m){this.reset(n,u,m,void 0,void 0)}function Nc(n){this.f=n,this.b=this.c=this.a=null}function Mc(n,u){this.name=n,this.value=u}ke(rl,ce),ke(xc,ce),xc.prototype.w=function(){var n={code:this.code,message:this.message};this.email&&(n.email=this.email),this.phoneNumber&&(n.phoneNumber=this.phoneNumber),this.tenantId&&(n.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Se(n,u),n},xc.prototype.toJSON=function(){return this.w()},vc.prototype.c=null,ke(yc,vc),yc.prototype.a=function(){var n=_c(this);return n?new ActiveXObject(n):new XMLHttpRequest},yc.prototype.b=function(){var n={};return _c(this)&&(n[0]=!0,n[1]=!0),n},pu=new yc,ke(il,vc),il.prototype.a=function(){var n=new XMLHttpRequest;if("withCredentials"in n)return n;if("undefined"!=typeof XDomainRequest)return new Rf;throw Error("Unsupported browser")},il.prototype.b=function(){return{}},(b=Rf.prototype).open=function(n,u,m){if(null!=m&&!m)throw Error("Only async requests are supported.");this.a.open(n,u)},b.send=function(n){if(n){if("string"!=typeof n)throw Error("Only string data is supported");this.a.send(n)}else this.a.send()},b.abort=function(){this.a.abort()},b.setRequestHeader=function(){},b.getResponseHeader=function(n){return"content-type"==n.toLowerCase()?this.a.contentType:""},b.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ml(this,4)},b.Tb=function(){this.status=500,this.response=this.responseText="",Ml(this,4)},b.vc=function(){this.Tb()},b.rc=function(){this.status=200,Ml(this,1)},b.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},gu.prototype.a=null,gu.prototype.reset=function(n,u,m,T,H){T||Wn(),delete this.a},Mc.prototype.toString=function(){return this.name};var uf=new Mc("SEVERE",1e3),nu=new Mc("WARNING",900),Pl=new Mc("CONFIG",700),ld=new Mc("FINE",500);function cf(n){return n.c?n.c:n.a?cf(n.a):(Zt("Root logger has no level set."),null)}Nc.prototype.log=function(n,u,m){if(n.value>=cf(this).value)for(nt(u)&&(u=u()),n=new gu(n,String(u),this.f),m&&(n.a=m),m=this;m;)m=m.a};var kl={},Oc=null;function Ca(n){var u;if(Oc||(Oc=new Nc(""),kl[""]=Oc,Oc.c=Pl),!(u=kl[n])){u=new Nc(n);var m=n.lastIndexOf("."),T=n.substr(m+1);(m=Ca(n.substr(0,m))).b||(m.b={}),m.b[T]=u,u.a=m,kl[n]=u}return u}function Fs(n,u){n&&n.log(ld,u,void 0)}function Ju(n){this.f=n}function Fl(n){vr.call(this),this.u=n,this.h=void 0,this.readyState=Xu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ca("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}ke(Ju,vc),Ju.prototype.a=function(){return new Fl(this.f)},Ju.prototype.b=function(n){return function(){return n}}({}),ke(Fl,vr);var Xu=0;function Ru(n){n.c.read().then(n.pc.bind(n)).catch(n.Va.bind(n))}function ol(n){n.readyState=4,n.g=null,n.c=null,n.m=null,ec(n)}function ec(n){n.onreadystatechange&&n.onreadystatechange.call(n)}function mu(n){vr.call(this),this.headers=new lo,this.D=n||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ll,this.u=this.S=!1}(b=Fl.prototype).open=function(n,u){if(this.readyState!=Xu)throw this.abort(),Error("Error reopening a connection");this.s=n,this.f=u,this.readyState=1,ec(this)},b.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};n&&(u.body=n),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},b.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ol(this)),this.readyState=Xu},b.uc=function(n){this.a&&(this.g=n,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=n.headers,this.readyState=2,ec(this)),this.a&&(this.readyState=3,ec(this),this.a&&("arraybuffer"===this.responseType?n.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==k.ReadableStream&&"body"in n?(this.response=this.responseText="",this.c=n.body.getReader(),this.m=new TextDecoder,Ru(this)):n.text().then(this.tc.bind(this),this.Va.bind(this)))))},b.pc=function(n){if(this.a){var u=this.m.decode(n.value?n.value:new Uint8Array(0),{stream:!n.done});u&&(this.response=this.responseText+=u),n.done?ol(this):ec(this),3==this.readyState&&Ru(this)}},b.tc=function(n){this.a&&(this.response=this.responseText=n,ol(this))},b.sc=function(n){this.a&&(this.response=n,ol(this))},b.Va=function(n){var u=this.i;u&&u.log(nu,"Failed to fetch url "+this.f,n instanceof Error?n:Error(n)),this.a&&ol(this)},b.setRequestHeader=function(n,u){this.l.append(n,u)},b.getResponseHeader=function(n){return this.b?this.b.get(n.toLowerCase())||"":((n=this.i)&&n.log(nu,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},b.getAllResponseHeaders=function(){if(!this.b){var n=this.i;return n&&n.log(nu,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}n=[];for(var u=this.b.entries(),m=u.next();!m.done;)n.push((m=m.value)[0]+": "+m[1]),m=u.next();return n.join("\r\n")},Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(n){this.h=n?"include":"same-origin"}}),ke(mu,vr);var Ll="";mu.prototype.b=Ca("goog.net.XhrIo");var xu=/^https?$/i,xf=["POST","PUT"];function Ul(n){return"content-type"==n.toLowerCase()}function Ta(n,u){n.c=!1,n.a&&(n.f=!0,n.a.abort(),n.f=!1),n.h=u,Pc(n),tc(n)}function Pc(n){n.J||(n.J=!0,n.dispatchEvent("complete"),n.dispatchEvent("error"))}function Ia(n){if(n.c&&void 0!==Fe)if(n.C[1]&&4==Nu(n)&&2==Fc(n))Fs(n.b,Mu(n,"Local request error detected and ignored"));else if(n.i&&4==Nu(n))ss(n.Wb,0,n);else if(n.dispatchEvent("readystatechange"),4==Nu(n)){Fs(n.b,Mu(n,"Request complete")),n.c=!1;try{var T,u=Fc(n);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}if(!(T=m)){var H;if(H=0===u){var ue=String(n.l).match(ea)[1]||null;if(!ue&&k.self&&k.self.location){var ve=k.self.location.protocol;ue=ve.substr(0,ve.length-1)}H=!xu.test(ue?ue.toLowerCase():"")}T=H}if(T)n.dispatchEvent("complete"),n.dispatchEvent("success");else{try{var Ze=2<Nu(n)?n.a.statusText:""}catch(Qt){Fs(n.b,"Can not get status: "+Qt.message),Ze=""}n.h=Ze+" ["+Fc(n)+"]",Pc(n)}}finally{tc(n)}}}function tc(n,u){if(n.a){kc(n);var m=n.a,T=n.C[0]?De:null;n.a=null,n.C=null,u||n.dispatchEvent("ready");try{m.onreadystatechange=T}catch(H){(n=n.b)&&n.log(uf,"Problem encountered resetting onreadystatechange: "+H.message,void 0)}}}function kc(n){n.a&&n.u&&(n.a.ontimeout=null),n.s&&(k.clearTimeout(n.s),n.s=null)}function Nu(n){return n.a?n.a.readyState:0}function Fc(n){try{return 2<Nu(n)?n.a.status:-1}catch(u){return-1}}function Mu(n,u){return u+" ["+n.P+" "+n.l+" "+Fc(n)+"]"}function wc(n){var u=Mo;this.g=[],this.u=u,this.s=n||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function bc(n,u,m){n.a=!0,n.c=m,n.f=!u,Oa(n)}function Ks(n){if(n.a){if(!n.v)throw new rc(n);n.v=!1}}function ru(n,u,m,T){n.g.push([u,m,T]),n.a&&Oa(n)}function sl(n){return kn(n.g,function(u){return nt(u[1])})}function Oa(n){if(n.h&&n.a&&sl(n)){var u=n.h,m=iu[u];m&&(k.clearTimeout(m.a),delete iu[u]),n.h=0}n.b&&(n.b.l--,delete n.b),u=n.c;for(var T=m=!1;n.g.length&&!n.i;){var H=n.g.shift(),ue=H[0],ve=H[1];if(H=H[2],ue=n.f?ve:ue)try{var Ze=ue.call(H||n.s,u);void 0!==Ze&&(n.f=n.f&&(Ze==u||Ze instanceof Error),n.c=u=Ze),(un(u)||"function"==typeof k.Promise&&u instanceof k.Promise)&&(T=!0,n.i=!0)}catch(Qt){u=Qt,n.f=!0,sl(n)||(m=!0)}}n.c=u,T&&(Ze=tn(n.m,n,!0),T=tn(n.m,n,!1),u instanceof wc?(ru(u,Ze,T),u.C=!0):u.then(Ze,T)),m&&(u=new Ji(u),iu[u.a]=u,n.h=u.a)}function rc(){fn.call(this)}function Ou(){fn.call(this)}function Ji(n){this.a=k.setTimeout(tn(this.c,this),0),this.b=n}(b=mu.prototype).Ma=function(){void 0!==Fe&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Fs(this.b,Mu(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},b.abort=function(){this.a&&this.c&&(Fs(this.b,Mu(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),tc(this))},b.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),tc(this,!0)),mu.bb.Da.call(this)},b.Wb=function(){this.ya||(this.N||this.i||this.f?Ia(this):this.Jc())},b.Jc=function(){Ia(this)},b.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ll:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var n=this.b;return n&&n.log(uf,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Fs(this.b,"Can not get response: "+u.message),null}},wc.prototype.cancel=function(n){if(this.a)this.c instanceof wc&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,n?u.cancel(n):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(n=new Ou(this),Ks(this),bc(this,!1,n))}},wc.prototype.m=function(n,u){this.i=!1,bc(this,n,u)},wc.prototype.then=function(n,u,m){var T,H,ue=new Yn(function(ve,Ze){T=ve,H=Ze});return ru(this,T,function(ve){ve instanceof Ou?ue.cancel():H(ve)}),ue.then(n,u,m)},wc.prototype.$goog_Thenable=!0,ke(rc,fn),rc.prototype.message="Deferred has already fired",rc.prototype.name="AlreadyCalledError",ke(Ou,fn),Ou.prototype.message="Deferred was canceled",Ou.prototype.name="CanceledError",Ji.prototype.c=function(){throw delete iu[this.a],this.b};var iu={};function al(n){var u={},m=u.document||document,T=nr(n).toString(),H=mi(document,"SCRIPT"),ue={Xb:H,Ma:void 0},ve=new wc(ue),Ze=null,Qt=null!=u.timeout?u.timeout:5e3;return 0<Qt&&(Ze=window.setTimeout(function(){Ts(H,!0);var En=new Lc(Ko,"Timeout reached for loading script "+T);Ks(ve),bc(ve,!1,En)},Qt),ue.Ma=Ze),H.onload=H.onreadystatechange=function(){H.readyState&&"loaded"!=H.readyState&&"complete"!=H.readyState||(Ts(H,u.xd||!1,Ze),Ks(ve),bc(ve,!0,null))},H.onerror=function(){Ts(H,!0,Ze);var En=new Lc(oc,"Error while loading script "+T);Ks(ve),bc(ve,!1,En)},Se(ue=u.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ii(H,ue),function(n,u){Te(n,"HTMLScriptElement"),n.src=nr(u),(u=n.ownerDocument&&n.ownerDocument.defaultView)&&u!=k?u=xe(u.document):(null===Ye&&(Ye=xe(k.document)),u=Ye),u&&n.setAttribute("nonce",u)}(H,n),function(n){var u;return(u=(n||document).getElementsByTagName("HEAD"))&&0!=u.length?u[0]:n.documentElement}(m).appendChild(H),ve}function Mo(){if(this&&this.Xb){var n=this.Xb;n&&"SCRIPT"==n.tagName&&Ts(n,!0,this.Ma)}}function Ts(n,u,m){null!=m&&k.clearTimeout(m),n.onload=De,n.onerror=De,n.onreadystatechange=De,u&&window.setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},0)}var oc=0,Ko=1;function Lc(n,u){var m="Jsloader error (code #"+n+")";u&&(m+=": "+u),fn.call(this,m),this.code=n}function Vc(n){this.f=n}function ma(n,u,m){if(this.c=n,this.l=(n=u||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=n.secureTokenTimeout||Of,this.g=Ue(n.secureTokenHeaders||Pf),this.h=n.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=n.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=n.firebaseTimeout||os,this.a=Ue(n.firebaseHeaders||Is),m&&(this.a["X-Client-Version"]=m,this.g["X-Client-Version"]=m),m="Node"==Cn(),!(m=k.XMLHttpRequest||m&&E.default.INTERNAL.node&&E.default.INTERNAL.node.XMLHttpRequest)&&!Vt())throw new ce("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Vt()?new Ju(self):gr()?new Vc(m):new il,this.b=null}ke(Lc,fn),ke(Vc,vc),Vc.prototype.a=function(){return new this.f},Vc.prototype.b=function(){return{}};var sc,Ls="idToken",Of=new ba(3e4,6e4),Pf={"Content-Type":"application/x-www-form-urlencoded"},os=new ba(3e4,6e4),Is={"Content-Type":"application/json"};function lf(n,u){u?n.a["X-Firebase-Locale"]=u:delete n.a["X-Firebase-Locale"]}function Aa(n,u){u&&(n.l=Pu("https://securetoken.googleapis.com/v1/token",u),n.h=Pu("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),n.i=Pu("https://identitytoolkit.googleapis.com/v2/",u))}function Pu(n,u){return n=go(n),u=go(u.url),n.f=n.a+n.f,Bi(n,u.c),n.a=u.a,sn(n,u.g),n.toString()}function ou(n,u){u?(n.a["X-Client-Version"]=u,n.g["X-Client-Version"]=u):(delete n.a["X-Client-Version"],delete n.g["X-Client-Version"])}function ku(n,u,m,T,H,ue,ve){(function(){var n=zo();return!((n="Chrome"!=us(n)?null:(n=n.match(/\sChrome\/(\d+)/i))&&2==n.length?parseInt(n[1],10):null)&&30>n||$r&&Fn&&!(9<Fn))})()||Vt()?n=tn(n.u,n):(sc||(sc=new Yn(function(Ze,Qt){!function(n,u){((window.gapi||{}).client||{}).request?n():(k[Ec]=function(){((window.gapi||{}).client||{}).request?n():u(Error("CORS_UNSUPPORTED"))},function(n,u){ru(n,null,u,void 0)}(al(Lr(Fu,{onload:Ec})),function(){u(Error("CORS_UNSUPPORTED"))}))}(Ze,Qt)})),n=tn(n.s,n)),n(u,m,T,H,ue,ve)}ma.prototype.T=function(){return this.b},ma.prototype.u=function(n,u,m,T,H,ue){if(Vt()&&(void 0===k.fetch||void 0===k.Headers||void 0===k.Request))throw new ce("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var ve=new mu(this.f);if(ue){ve.g=Math.max(0,ue);var Ze=setTimeout(function(){ve.dispatchEvent("timeout")},ue)}ua(ve,"complete",function(){Ze&&clearTimeout(Ze);var Qt=null;try{Qt=JSON.parse(function(n){try{return n.a?n.a.responseText:""}catch(u){return Fs(n.b,"Can not get responseText: "+u.message),""}}(this))||null}catch(En){Qt=null}u&&u(Qt)}),hr(ve,"ready",function(){Ze&&clearTimeout(Ze),On(this)}),hr(ve,"timeout",function(){Ze&&clearTimeout(Ze),On(this),u&&u(null)}),function(n,u,m,T,H){if(n.a)throw Error("[goog.net.XhrIo] Object is active with another request="+n.l+"; newUri="+u);m=m?m.toUpperCase():"GET",n.l=u,n.h="",n.P=m,n.J=!1,n.c=!0,n.a=n.D?n.D.a():pu.a(),n.C=function(n){return n.c||(n.c=n.b())}(n.D?n.D:pu),n.a.onreadystatechange=tn(n.Wb,n);try{Fs(n.b,Mu(n,"Opening Xhr")),n.N=!0,n.a.open(m,String(u),!0),n.N=!1}catch(ve){return Fs(n.b,Mu(n,"Error opening Xhr: "+ve.message)),void Ta(n,ve)}u=T||"";var ue=new lo(n.headers);H&&function(n,u){if(n.forEach&&"function"==typeof n.forEach)n.forEach(u,void 0);else if(je(n)||"string"==typeof n)jt(n,u,void 0);else for(var m=eo(n),T=To(n),H=T.length,ue=0;ue<H;ue++)u.call(void 0,T[ue],m&&m[ue],n)}(H,function(ve,Ze){ue.set(Ze,ve)}),H=function(n){e:{for(var u=Ul,m=n.length,T="string"==typeof n?n.split(""):n,H=0;H<m;H++)if(H in T&&u.call(void 0,T[H],H,n)){u=H;break e}u=-1}return 0>u?null:"string"==typeof n?n.charAt(u):n[u]}(ue.Y()),T=k.FormData&&u instanceof k.FormData,!Ct(xf,m)||H||T||ue.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ue.forEach(function(ve,Ze){this.a.setRequestHeader(Ze,ve)},n),n.m&&(n.a.responseType=n.m),"withCredentials"in n.a&&n.a.withCredentials!==n.S&&(n.a.withCredentials=n.S);try{kc(n),0<n.g&&(n.u=function(n){return $r&&Wi(9)&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(n.a),Fs(n.b,Mu(n,"Will abort after "+n.g+"ms if incomplete, xhr2 "+n.u)),n.u?(n.a.timeout=n.g,n.a.ontimeout=tn(n.Ma,n)):n.s=ss(n.Ma,n.g,n)),Fs(n.b,Mu(n,"Sending request")),n.i=!0,n.a.send(u),n.i=!1}catch(ve){Fs(n.b,Mu(n,"Send error: "+ve.message)),Ta(n,ve)}}(ve,n,m,T,H)};var Fu=new Qe(Ht,"https://apis.google.com/js/client.js?onload=%{onload}"),Ec="__fcb"+Math.floor(1e6*Math.random()).toString();function su(n){if("string"!=typeof(n=n.email)||!_e.test(n))throw new ce("invalid-email")}function ff(n){"email"in n&&su(n)}function Ys(n){if(!n[Ls])throw n.mfaPendingCredential?new ce("multi-factor-auth-required",null,Ue(n)):new ce("internal-error")}function cl(n){if(n.phoneNumber||n.temporaryProof){if(!n.phoneNumber||!n.temporaryProof)throw new ce("internal-error")}else{if(!n.sessionInfo)throw new ce("missing-verification-id");if(!n.code)throw new ce("missing-verification-code")}}ma.prototype.s=function(n,u,m,T,H){var ue=this;sc.then(function(){window.gapi.client.setApiKey(ue.c);var ve=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:n,method:m,body:T,headers:H,authType:"none",callback:function(Ze){window.gapi.auth.setToken(ve),u&&u(Ze)}})}).o(function(ve){u&&u({error:{message:ve&&ve.message||"CORS_UNSUPPORTED"}})})},ma.prototype.Ab=function(){return ui(this,Gl,{})},ma.prototype.Cb=function(n,u){return ui(this,jf,{idToken:n,email:u})},ma.prototype.Db=function(n,u){return ui(this,Ga,{idToken:n,password:u})};var kf={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ll(n){if(!n.phoneVerificationInfo)throw new ce("internal-error");if(!n.phoneVerificationInfo.sessionInfo)throw new ce("missing-verification-id");if(!n.phoneVerificationInfo.code)throw new ce("missing-verification-code")}function fl(n){if(!n.requestUri||!n.sessionId&&!n.postBody&&!n.pendingToken)throw new ce("internal-error")}function Bl(n,u){return u.oauthIdToken&&u.providerId&&0==u.providerId.indexOf("oidc.")&&!u.pendingToken&&(n.sessionId?u.nonce=n.sessionId:n.postBody&&vs(n=new es(n.postBody),"nonce")&&(u.nonce=n.get("nonce"))),u}function As(n){var u=null;if(n.needConfirmation?(n.code="account-exists-with-different-credential",u=Nl(n)):"FEDERATED_USER_ID_ALREADY_LINKED"==n.errorMessage?(n.code="credential-already-in-use",u=Nl(n)):"EMAIL_EXISTS"==n.errorMessage?(n.code="email-already-in-use",u=Nl(n)):n.errorMessage&&(u=ml(n.errorMessage)),u)throw u;Ys(n)}function dl(n,u){return u.returnIdpCredential=!0,ui(n,hf,u)}function ac(n,u){return u.returnIdpCredential=!0,ui(n,gl,u)}function Cc(n,u){return u.returnIdpCredential=!0,u.autoCreate=!1,ui(n,Ic,u)}function ms(n){if(!n.oobCode)throw new ce("invalid-action-code")}(b=ma.prototype).Eb=function(n,u){var m={idToken:n},T=[];return wr(kf,function(H,ue){var ve=u[ue];null===ve?T.push(H):ue in u&&(m[ue]=ve)}),T.length&&(m.deleteAttribute=T),ui(this,jf,m)},b.wb=function(n,u){return Se(n={requestType:"PASSWORD_RESET",email:n},u),ui(this,vu,n)},b.xb=function(n,u){return Se(n={requestType:"EMAIL_SIGNIN",email:n},u),ui(this,md,n)},b.vb=function(n,u){return Se(n={requestType:"VERIFY_EMAIL",idToken:n},u),ui(this,Vf,n)},b.Fb=function(n,u,m){return Se(n={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:n,newEmail:u},m),ui(this,Uf,n)},b.gb=function(n){return ui(this,yu,n)},b.ob=function(n,u){return ui(this,jc,{oobCode:n,newPassword:u})},b.Sa=function(n){return ui(this,df,{oobCode:n})},b.kb=function(n){return ui(this,Ff,{oobCode:n})};var Ff={endpoint:"setAccountInfo",A:ms,Z:"email",B:!0},df={endpoint:"resetPassword",A:ms,G:function(n){var u=n.requestType;if(!u||!n.email&&"EMAIL_SIGNIN"!=u&&"VERIFY_AND_CHANGE_EMAIL"!=u)throw new ce("internal-error")},B:!0},hl={endpoint:"signupNewUser",A:function(n){if(su(n),!n.password)throw new ce("weak-password")},G:Ys,V:!0,B:!0},Lf={endpoint:"createAuthUri",B:!0},Uc={endpoint:"deleteAccount",O:["idToken"]},gd={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(n){if(!Array.isArray(n.deleteProvider))throw new ce("internal-error")}},pl={endpoint:"emailLinkSignin",O:["email","oobCode"],A:su,G:Ys,V:!0,B:!0},Tc={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:su,G:Ys,V:!0},Lu={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ll,G:Ys,B:!0,Na:!0},Hl={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ll,G:Ys,B:!0,Na:!0},Vu={endpoint:"getAccountInfo"},md={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(n){if("EMAIL_SIGNIN"!=n.requestType)throw new ce("internal-error");su(n)},Z:"email",B:!0},Vf={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(n){if("VERIFY_EMAIL"!=n.requestType)throw new ce("internal-error")},Z:"email",B:!0},Uf={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(n){if("VERIFY_AND_CHANGE_EMAIL"!=n.requestType)throw new ce("internal-error")},Z:"email",B:!0},vu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(n){if("PASSWORD_RESET"!=n.requestType)throw new ce("internal-error");su(n)},Z:"email",B:!0},cs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},vd={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(n){if(!n.recaptchaSiteKey)throw new ce("internal-error")}},jc={endpoint:"resetPassword",A:ms,Z:"email",B:!0},Bc={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},jf={endpoint:"setAccountInfo",O:["idToken"],A:ff,V:!0},Ga={endpoint:"setAccountInfo",O:["idToken"],A:function(n){if(ff(n),!n.password)throw new ce("weak-password")},G:Ys,V:!0},Gl={endpoint:"signupNewUser",G:Ys,V:!0,B:!0},ql={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(n){if(!n.phoneEnrollmentInfo)throw new ce("internal-error");if(!n.phoneEnrollmentInfo.phoneNumber)throw new ce("missing-phone-number");if(!n.phoneEnrollmentInfo.recaptchaToken)throw new ce("missing-app-credential")},G:function(n){if(!n.phoneSessionInfo||!n.phoneSessionInfo.sessionInfo)throw new ce("internal-error")},B:!0,Na:!0},Bf={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(n){if(!n.phoneSignInInfo||!n.phoneSignInInfo.recaptchaToken)throw new ce("missing-app-credential")},G:function(n){if(!n.phoneResponseInfo||!n.phoneResponseInfo.sessionInfo)throw new ce("internal-error")},B:!0,Na:!0},hf={endpoint:"verifyAssertion",A:fl,Za:Bl,G:As,V:!0,B:!0},Ic={endpoint:"verifyAssertion",A:fl,Za:Bl,G:function(n){if(n.errorMessage&&"USER_NOT_FOUND"==n.errorMessage)throw new ce("user-not-found");if(n.errorMessage)throw ml(n.errorMessage);Ys(n)},V:!0,B:!0},gl={endpoint:"verifyAssertion",A:function(n){if(fl(n),!n.idToken)throw new ce("internal-error")},Za:Bl,G:As,V:!0},Hf={endpoint:"verifyCustomToken",A:function(n){if(!n.token)throw new ce("invalid-custom-token")},G:Ys,V:!0,B:!0},Wl={endpoint:"verifyPassword",A:function(n){if(su(n),!n.password)throw new ce("wrong-password")},G:Ys,V:!0,B:!0},yu={endpoint:"verifyPhoneNumber",A:cl,G:Ys,B:!0},uc={endpoint:"verifyPhoneNumber",A:function(n){if(!n.idToken)throw new ce("internal-error");cl(n)},G:function(n){if(n.temporaryProof)throw n.code="credential-already-in-use",Nl(n);Ys(n)}},yd={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:cl,G:Ys,B:!0},Ac={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(n){if(!!n[Ls]^!!n.refreshToken)throw new ce("internal-error")},B:!0,Na:!0};function ui(n,u,m){if(!function(n,u){if(!u||!u.length)return!0;if(!n)return!1;for(var m=0;m<u.length;m++){var T=n[u[m]];if(null==T||""===T)return!1}return!0}(m,u.O))return Or(new ce("internal-error"));var ue,T=!!u.Na,H=u.Vb||"POST";return qn(m).then(u.A).then(function(){return u.V&&(m.returnSecureToken=!0),u.B&&n.b&&void 0===m.tenantId&&(m.tenantId=n.b),function(n,u,m,T,H,ue,ve){var Ze=go(u+m);_i(Ze,"key",n.c),ve&&_i(Ze,"cb",Date.now().toString());var Qt="GET"==T;if(Qt)for(var En in H)H.hasOwnProperty(En)&&_i(Ze,En,H[En]);return new Yn(function(ni,Xi){ku(n,Ze.toString(),function(so){so?so.error?Xi(pf(so,ue||{})):ni(so):Xi(new ce("network-request-failed"))},T,Qt?void 0:Ns(ho(H)),n.a,n.v.get())})}(n,T?n.i:n.h,u.endpoint,H,m,u.Ib,u.mb||!1)}).then(function(ve){return ue=ve,u.Za?u.Za(m,ue):ue}).then(u.G).then(function(){if(!u.Z)return ue;if(!(u.Z in ue))throw new ce("internal-error");return ue[u.Z]})}function ml(n){return pf({error:{errors:[{message:n}],code:400,message:n}})}function pf(n,u){var m=(n.error&&n.error.errors&&n.error.errors[0]||{}).reason||"",T={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(m=T[m]?new ce(T[m]):null)return m;for(var H in m=n.error&&n.error.message||"",Se(T={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},u||{}),u=(u=m.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0,T)if(0===m.indexOf(H))return new ce(T[H],u);return!u&&n&&(u=wa(n)),new ce("internal-error",u)}function $l(n){this.b=n,this.a=null,this.sb=function(n){return(B||(B=new Yn(function(n,u){function m(){Da(),oo("gapi.load")("gapi.iframes",{callback:n,ontimeout:function(){Da(),u(Error("Network Error"))},timeout:v.get()})}if(oo("gapi.iframes.Iframe"))n();else if(oo("gapi.load"))m();else{var T="__iframefcb"+Math.floor(1e6*Math.random()).toString();k[T]=function(){oo("gapi.load")?m():u(Error("Network Error"))},qn(al(T=Lr(h,{onload:T}))).o(function(){u(Error("Network Error"))})}}).o(function(n){throw B=null,n}))).then(function(){return new Yn(function(u,m){oo("gapi.iframes.getContext")().open({where:document.body,url:n.b,messageHandlersFilter:oo("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(T){function H(){clearTimeout(ue),u()}n.a=T,n.a.restyle({setHideOnLeave:!1});var ue=setTimeout(function(){m(Error("Network Error"))},I.get());T.ping(H).then(H,function(){m(Error("Network Error"))})})})})}(this)}var h=new Qe(Ht,"https://apis.google.com/js/api.js?onload=%{onload}"),v=new ba(3e4,6e4),I=new ba(5e3,15e3),B=null;function be(n,u,m,T){this.l=n,this.h=u,this.i=m,this.g=T,this.f=null,n=this.g?Wo((n=go(this.g.url)).c,n.a,n.g,"/emulator/auth/iframe"):Wo("https",this.l,null,"/__/auth/iframe"),this.a=n,_i(this.a,"apiKey",this.h),_i(this.a,"appName",this.i),this.b=null,this.c=[]}function Ae(n,u,m,T,H,ue){this.u=n,this.s=u,this.c=m,this.m=T,this.v=ue,this.i=this.g=this.l=null,this.a=H,this.h=this.f=null}function Be(n){try{return E.default.app(n).auth().Ga()}catch(u){return[]}}function Xe(n,u,m,T,H,ue){this.s=n,this.g=u,this.b=m,this.f=ue,this.c=T||null,this.i=H||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Ot(n){var u=Qi();return function(n){return ui(n,cs,{}).then(function(u){return u.authorizedDomains||[]})}(n).then(function(m){e:{var T=go(u),H=T.c;T=T.a;for(var ue=0;ue<m.length;ue++){var ve=m[ue],Ze=T,Qt=H;if(0==ve.indexOf("chrome-extension://")?Ze=go(ve).a==Ze&&"chrome-extension"==Qt:"http"!=Qt&&"https"!=Qt?Ze=!1:X.test(ve)?Ze=Ze==ve:(ve=ve.split(".").join("\\."),Ze=new RegExp("^(.+\\."+ve+"|"+ve+")$","i").test(Ze)),Ze){m=!0;break e}}m=!1}if(!m)throw new rl(Qi())})}function zt(n){return n.m||(n.m=A().then(function(){if(!n.u){var u=n.c,m=n.i,T=Be(n.b),H=new be(n.s,n.g,n.b,n.f);H.f=u,H.b=m,H.c=Tt(T||[]),n.u=H.toString()}n.v=new $l(n.u),function(n){if(!n.v)throw Error("IfcHandler must be initialized!");!function(n,u){n.sb.then(function(){n.a.register("authEvent",u,oo("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(n.v,function(u){var m={};if(u&&u.authEvent){var T=!1;for(u=Qu(u.authEvent),m=0;m<n.h.length;m++)T=n.h[m](u)||T;return(m={}).status=T?"ACK":"ERROR",qn(m)}return m.status="ERROR",qn(m)})}(n)})),n.m}function mn(n){return n.l||(n.C=n.c?_a(n.c,Be(n.b)):null,n.l=new ma(n.g,Ut(n.i),n.C),n.f&&Aa(n.l,n.f)),n.l}function Pn(n,u,m,T,H,ue,ve,Ze,Qt,En,ni,Xi){return(n=new Ae(n,u,m,T,H,Xi)).l=ue,n.g=ve,n.i=Ze,n.b=Ue(Qt||null),n.f=En,n.zb(ni).toString()}function qr(n){if(this.a=n||E.default.INTERNAL.reactNative&&E.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ce("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Oo(n){this.b=n,this.a={},this.f=tn(this.c,this)}be.prototype.toString=function(){return this.f?_i(this.a,"v",this.f):Vo(this.a.b,"v"),this.b?_i(this.a,"eid",this.b):Vo(this.a.b,"eid"),this.c.length?_i(this.a,"fw",this.c.join(",")):Vo(this.a.b,"fw"),this.a.toString()},Ae.prototype.zb=function(n){return this.h=n,this},Ae.prototype.toString=function(){if(this.v){var n=go(this.v.url);n=Wo(n.c,n.a,n.g,"/emulator/auth/handler")}else n=Wo("https",this.u,null,"/__/auth/handler");if(_i(n,"apiKey",this.s),_i(n,"appName",this.c),_i(n,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var m=E.default.app(this.c).auth().la()}catch(Ze){m=null}for(var T in u.pb=m,_i(n,"providerId",this.a.providerId),u=ho((m=this.a).Jb))u[T]=u[T].toString();T=m.Qc,u=Ue(u);for(var H=0;H<T.length;H++){var ue=T[H];ue in u&&delete u[ue]}m.qb&&m.pb&&!u[m.qb]&&(u[m.qb]=m.pb),et(u)||_i(n,"customParameters",wa(u))}if("function"==typeof this.a.Rb&&(m=this.a.Rb()).length&&_i(n,"scopes",m.join(",")),this.l?_i(n,"redirectUrl",this.l):Vo(n.b,"redirectUrl"),this.g?_i(n,"eventId",this.g):Vo(n.b,"eventId"),this.i?_i(n,"v",this.i):Vo(n.b,"v"),this.b)for(var ve in this.b)this.b.hasOwnProperty(ve)&&!Jo(n,ve)&&_i(n,ve,this.b[ve]);return this.h?_i(n,"tid",this.h):Vo(n.b,"tid"),this.f?_i(n,"eid",this.f):Vo(n.b,"eid"),(ve=Be(this.c)).length&&_i(n,"fw",ve.join(",")),n.toString()},(b=Xe.prototype).Pb=function(n,u,m){var T=new ce("popup-closed-by-user"),H=new ce("web-storage-unsupported"),ue=this,ve=!1;return this.ma().then(function(){(function(n){var u={type:"webStorageSupport"};return zt(n).then(function(){return function(n,u){return n.sb.then(function(){return new Yn(function(m){n.a.send(u.type,u,m,oo("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(n.v,u)}).then(function(m){if(m&&m.length&&void 0!==m[0].webStorageSupport)return m[0].webStorageSupport;throw Error()})})(ue).then(function(Ze){Ze||(n&&Ms(n),u(H),ve=!0)})}).o(function(){}).then(function(){if(!ve)return function(n){return new Yn(function(u){return function m(){Ii(2e3).then(function(){if(n&&!n.closed)return m();u()})}()})}(n)}).then(function(){if(!ve)return Ii(m).then(function(){u(T)})})},b.Yb=function(){var n=zo();return!hs(n)&&!Tu(n)},b.Ub=function(){return!1},b.Nb=function(n,u,m,T,H,ue,ve,Ze){if(!n)return Or(new ce("popup-blocked"));if(ve&&!hs())return this.ma().o(function(En){Ms(n),H(En)}),T(),qn();this.a||(this.a=Ot(mn(this)));var Qt=this;return this.a.then(function(){var En=Qt.ma().o(function(ni){throw Ms(n),H(ni),ni});return T(),En}).then(function(){af(m),ve||ts(Pn(Qt.s,Qt.g,Qt.b,u,m,null,ue,Qt.c,void 0,Qt.i,Ze,Qt.f),n)}).o(function(En){throw"auth/network-request-failed"==En.code&&(Qt.a=null),En})},b.Ob=function(n,u,m,T){this.a||(this.a=Ot(mn(this)));var H=this;return this.a.then(function(){af(u),ts(Pn(H.s,H.g,H.b,n,u,Qi(),m,H.c,void 0,H.i,T,H.f))}).o(function(ue){throw"auth/network-request-failed"==ue.code&&(H.a=null),ue})},b.ma=function(){var n=this;return zt(this).then(function(){return n.v.sb}).o(function(){throw n.a=null,new ce("network-request-failed")})},b.ac=function(){return!0},b.Ea=function(n){this.h.push(n)},b.Ta=function(n){qe(this.h,function(u){return u==n})},(b=qr.prototype).get=function(n){return qn(this.a.getItem(n)).then(function(u){return u&&ha(u)})},b.set=function(n,u){return qn(this.a.setItem(n,wa(u)))},b.U=function(n){return qn(this.a.removeItem(n))},b.ca=function(){},b.ia=function(){};var p,qa=[];function yl(n,u,m){et(n.a)&&n.b.addEventListener("message",n.f),void 0===n.a[u]&&(n.a[u]=[]),n.a[u].push(m)}function Hc(n){this.a=n}function s(n){this.c=n,this.b=!1,this.a=[]}function r(n,u,m,T){var H,ve,Ze,Qt,ue=m||{},En=null;if(n.b)return Or(Error("connection_unavailable"));var ni=T?800:50,Xi="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Yn(function(so,_o){Xi?(H=Math.floor(Math.random()*Math.pow(10,20)).toString(),Xi.port1.start(),Ze=setTimeout(function(){_o(Error("unsupported_event"))},ni),n.a.push(En={messageChannel:Xi,onMessage:ve=function(lu){lu.data.eventId===H&&("ack"===lu.data.status?(clearTimeout(Ze),Qt=setTimeout(function(){_o(Error("timeout"))},3e3)):"done"===lu.data.status?(clearTimeout(Qt),void 0!==lu.data.response?so(lu.data.response):_o(Error("unknown_error"))):(clearTimeout(Ze),clearTimeout(Qt),_o(Error("invalid_response"))))}}),Xi.port1.addEventListener("message",ve),n.c.postMessage({eventType:u,eventId:H,data:ue},[Xi.port2])):_o(Error("connection_unavailable"))}).then(function(so){return o(n,En),so}).o(function(so){throw o(n,En),so})}function o(n,u){if(u){var m=u.messageChannel;m&&(m.port1.removeEventListener("message",u.onMessage),m.port1.close()),qe(n.a,function(H){return H==u})}}function c(){if(!me())throw new ce("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=k.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var n=this;Vt()&&self?(this.v=function(){var n=Vt()?self:null;if(jt(qa,function(m){m.b==n&&(u=m)}),!u){var u=new Oo(n);qa.push(u)}return u}(),yl(this.v,"keyChanged",function(u,m){return Pt(n).then(function(T){return 0<T.length&&jt(n.a,function(H){H(T)}),{keyProcessed:Ct(T,m.key)}})}),yl(this.v,"ping",function(){return qn(["keyChanged"])})):function(){var n=k.navigator;return n&&n.serviceWorker?qn().then(function(){return n.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):qn(null)}().then(function(u){(n.h=u)&&(n.g=new s(new Hc(u)),r(n.g,"ping",null,!0).then(function(m){m[0].fulfilled&&Ct(m[0].value,"keyChanged")&&(n.s=!0)}).o(function(){}))})}function S(n){return new Yn(function(u,m){var T=n.m.open("firebaseLocalStorageDb",1);T.onerror=function(H){try{H.preventDefault()}catch(ue){}m(Error(H.target.error))},T.onupgradeneeded=function(H){H=H.target.result;try{H.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(ue){m(ue)}},T.onsuccess=function(H){(H=H.target.result).objectStoreNames.contains("firebaseLocalStorage")?u(H):function(n){return new Yn(function(u,m){var T=n.m.deleteDatabase("firebaseLocalStorageDb");T.onsuccess=function(){u()},T.onerror=function(H){m(Error(H.target.error))}})}(n).then(function(){return S(n)}).then(function(ue){u(ue)}).o(function(ue){m(ue)})}})}function P(n){return n.i||(n.i=S(n)),n.i}function Q(n,u){var T=0;return new Yn(function m(H,ue){P(n).then(u).then(H).o(function(ve){if(!(3<++T))return P(n).then(function(Ze){return Ze.close(),n.i=void 0,m(H,ue)}).o(function(Ze){ue(Ze)});ue(ve)})})}function me(){try{return!!k.indexedDB}catch(n){return!1}}function Ce(n){return n.objectStore("firebaseLocalStorage")}function Ke(n,u){return n.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function it(n){return new Yn(function(u,m){n.onsuccess=function(T){T&&T.target?u(T.target.result):u()},n.onerror=function(T){m(T.target.error)}})}function kt(n,u){return n.g&&n.h&&function(){var n=k.navigator;return n&&n.serviceWorker&&n.serviceWorker.controller||null}()===n.h?r(n.g,"keyChanged",{key:u},n.s).then(function(){}).o(function(){}):qn()}function Pt(n){return P(n).then(function(u){var m=Ce(Ke(u,!1));return m.getAll?it(m.getAll()):new Yn(function(T,H){var ue=[],ve=m.openCursor();ve.onsuccess=function(Ze){(Ze=Ze.target.result)?(ue.push(Ze.value),Ze.continue()):T(ue)},ve.onerror=function(Ze){H(Ze.target.error)}})}).then(function(u){var m={},T=[];if(0==n.b){for(T=0;T<u.length;T++)m[u[T].fbase_key]=u[T].value;T=$i(n.c,m),n.c=m}return T})}function Nn(n){n.l&&n.l.cancel("STOP_EVENT"),n.f&&(clearTimeout(n.f),n.f=null)}function jn(n){var u=this,m=null;this.a=[],this.type="indexedDB",this.c=n,this.b=qn().then(function(){if(me()){var T=_s(),H="__sak"+T;return p||(p=new c),(m=p).set(H,T).then(function(){return m.get(H)}).then(function(ue){if(ue!==T)throw Error("indexedDB not supported!");return m.U(H)}).then(function(){return m}).o(function(){return u.c})}return u.c}).then(function(T){return u.type=T.type,T.ca(function(H){jt(u.a,function(ue){ue(H)})}),T})}function mr(){this.a={},this.type="inMemory"}function Tr(){if(!function(){var n="Node"==Cn();if(!(n=Vi()||n&&E.default.INTERNAL.node&&E.default.INTERNAL.node.localStorage))return!1;try{return n.setItem("__sak","1"),n.removeItem("__sak"),!0}catch(u){return!1}}())throw"Node"==Cn()?new ce("internal-error","The LocalStorage compatibility library was not found."):new ce("web-storage-unsupported");this.a=Vi()||E.default.INTERNAL.node.localStorage,this.type="localStorage"}function Vi(){try{var n=k.localStorage,u=_s();return n&&(n.setItem(u,"1"),n.removeItem(u)),n}catch(m){return null}}function yo(){this.type="nullStorage"}function Vs(){if(!function(){var n="Node"==Cn();if(!(n=qf()||n&&E.default.INTERNAL.node&&E.default.INTERNAL.node.sessionStorage))return!1;try{return n.setItem("__sak","1"),n.removeItem("__sak"),!0}catch(u){return!1}}())throw"Node"==Cn()?new ce("internal-error","The SessionStorage compatibility library was not found."):new ce("web-storage-unsupported");this.a=qf()||E.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qf(){try{var n=k.sessionStorage,u=_s();return n&&(n.setItem(u,"1"),n.removeItem(u)),n}catch(m){return null}}function Ud(){var n={};n.Browser=ng,n.Node=_m,n.ReactNative=wm,n.Worker=bm,this.a=n[Cn()]}Oo.prototype.c=function(n){var u=n.data.eventType,m=n.data.eventId,T=this.a[u];if(T&&0<T.length){n.ports[0].postMessage({status:"ack",eventId:m,eventType:u,response:null});var H=[];jt(T,function(ue){H.push(qn().then(function(){return ue(n.origin,n.data.data)}))}),W(H).then(function(ue){var ve=[];jt(ue,function(Ze){ve.push({fulfilled:Ze.Qb,value:Ze.value,reason:Ze.reason?Ze.reason.message:void 0})}),jt(ve,function(Ze){for(var Qt in Ze)void 0===Ze[Qt]&&delete Ze[Qt]}),n.ports[0].postMessage({status:"done",eventId:m,eventType:u,response:ve})})}},Hc.prototype.postMessage=function(n,u){this.a.postMessage(n,u)},s.prototype.close=function(){for(;0<this.a.length;)o(this,this.a[0]);this.b=!0},(b=c.prototype).set=function(n,u){var m=this,T=!1;return Q(this,function(H){return it((H=Ce(Ke(H,!0))).get(n))}).then(function(H){return Q(m,function(ue){if(ue=Ce(Ke(ue,!0)),H)return H.value=u,it(ue.put(H));m.b++,T=!0;var ve={};return ve.fbase_key=n,ve.value=u,it(ue.add(ve))})}).then(function(){return m.c[n]=u,kt(m,n)}).oa(function(){T&&m.b--})},b.get=function(n){return Q(this,function(u){return it(Ce(Ke(u,!1)).get(n))}).then(function(u){return u&&u.value})},b.U=function(n){var u=this,m=!1;return Q(this,function(T){return m=!0,u.b++,it(Ce(Ke(T,!0)).delete(n))}).then(function(){return delete u.c[n],kt(u,n)}).oa(function(){m&&u.b--})},b.ca=function(n){0==this.a.length&&function(n){Nn(n),function u(){n.f=setTimeout(function(){n.l=Pt(n).then(function(m){0<m.length&&jt(n.a,function(T){T(m)})}).then(function(){u()}).o(function(m){"STOP_EVENT"!=m.message&&u()})},800)}()}(this),this.a.push(n)},b.ia=function(n){qe(this.a,function(u){return u==n}),0==this.a.length&&Nn(this)},(b=jn.prototype).get=function(n){return this.b.then(function(u){return u.get(n)})},b.set=function(n,u){return this.b.then(function(m){return m.set(n,u)})},b.U=function(n){return this.b.then(function(u){return u.U(n)})},b.ca=function(n){this.a.push(n)},b.ia=function(n){qe(this.a,function(u){return u==n})},(b=mr.prototype).get=function(n){return qn(this.a[n])},b.set=function(n,u){return this.a[n]=u,qn()},b.U=function(n){return delete this.a[n],qn()},b.ca=function(){},b.ia=function(){},(b=Tr.prototype).get=function(n){var u=this;return qn().then(function(){return ha(u.a.getItem(n))})},b.set=function(n,u){var m=this;return qn().then(function(){var T=wa(u);null===T?m.U(n):m.a.setItem(n,T)})},b.U=function(n){var u=this;return qn().then(function(){u.a.removeItem(n)})},b.ca=function(n){k.window&&Qr(k.window,"storage",n)},b.ia=function(n){k.window&&Fi(k.window,"storage",n)},(b=yo.prototype).get=function(){return qn(null)},b.set=function(){return qn()},b.U=function(){return qn()},b.ca=function(){},b.ia=function(){},(b=Vs.prototype).get=function(n){var u=this;return qn().then(function(){return ha(u.a.getItem(n))})},b.set=function(n,u){var m=this;return qn().then(function(){var T=wa(u);null===T?m.U(n):m.a.setItem(n,T)})},b.U=function(n){var u=this;return qn().then(function(){u.a.removeItem(n)})},b.ca=function(){},b.ia=function(){};var Wf,$f,ng={F:Tr,cb:Vs},_m={F:Tr,cb:Vs},wm={F:qr,cb:yo},bm={F:Tr,cb:yo},Yr={rd:"local",NONE:"none",td:"session"};function qh(){var n=!(Tu(zo())||!ze()),u=hs(),m=za();this.m=n,this.h=u,this.l=m,this.a={},Wf||(Wf=new Ud),n=Wf;try{this.g=!ds()&&$()||!k.indexedDB?new n.a.F:new jn(Vt()?new mr:new n.a.F)}catch(T){this.g=new mr,this.h=!0}try{this.i=new n.a.cb}catch(T){this.i=new mr}this.v=new mr,this.f=tn(this.Zb,this),this.b={}}function au(){return $f||($f=new qh),$f}function zl(n,u){switch(u){case"session":return n.i;case"none":return n.v;default:return n.g}}function zf(n,u){return"firebase:"+n.name+(u?":"+u:"")}function _u(n,u,m){return m=zf(u,m),"local"==u.F&&(n.b[m]=null),zl(n,u.F).U(m)}function jd(n){n.c&&(clearInterval(n.c),n.c=null)}function zh(n){this.a=n,this.b=au()}(b=qh.prototype).get=function(n,u){return zl(this,n.F).get(zf(n,u))},b.set=function(n,u,m){var T=zf(n,m),H=this,ue=zl(this,n.F);return ue.set(T,u).then(function(){return ue.get(T)}).then(function(ve){"local"==n.F&&(H.b[T]=ve)})},b.addListener=function(n,u,m){n=zf(n,u),this.l&&(this.b[n]=k.localStorage.getItem(n)),et(this.a)&&(zl(this,"local").ca(this.f),this.h||(ds()||!$())&&k.indexedDB||!this.l||function(n){jd(n),n.c=setInterval(function(){for(var u in n.a){var m=k.localStorage.getItem(u),T=n.b[u];m!=T&&(n.b[u]=m,m=new Y({type:"storage",key:u,target:window,oldValue:T,newValue:m,a:!0}),n.Zb(m))}},1e3)}(this)),this.a[n]||(this.a[n]=[]),this.a[n].push(m)},b.removeListener=function(n,u,m){n=zf(n,u),this.a[n]&&(qe(this.a[n],function(T){return T==m}),0==this.a[n].length&&delete this.a[n]),et(this.a)&&(zl(this,"local").ia(this.f),jd(this))},b.Zb=function(n){if(n&&n.g){var u=n.a.key;if(null==u)for(var m in this.a){var T=this.b[m];void 0===T&&(T=null);var H=k.localStorage.getItem(m);H!==T&&(this.b[m]=H,this.nb(m))}else if(0==u.indexOf("firebase:")&&this.a[u]){if(void 0!==n.a.a?zl(this,"local").ia(this.f):jd(this),this.m)if(m=k.localStorage.getItem(u),(T=n.a.newValue)!==m)null!==T?k.localStorage.setItem(u,T):k.localStorage.removeItem(u);else if(this.b[u]===T&&void 0===n.a.a)return;var ue=this;m=function(){(void 0!==n.a.a||ue.b[u]!==k.localStorage.getItem(u))&&(ue.b[u]=k.localStorage.getItem(u),ue.nb(u))},$r&&Fn&&10==Fn&&k.localStorage.getItem(u)!==n.a.newValue&&n.a.newValue!==n.a.oldValue?setTimeout(m,10):m()}}else jt(n,tn(this.nb,this))},b.nb=function(n){this.a[n]&&jt(this.a[n],function(u){u()})};var vf,ig={name:"authEvent",F:"local"};function yy(){this.a=au()}function mf(n,u){this.b=Bd,this.f=k.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=n,this.h=u,this.l=k.Int32Array?new Int32Array(64):Array(64),void 0===vf&&(vf=k.Int32Array?new Int32Array(Yh):Yh),this.reset()}ke(mf,function(){this.b=-1});for(var Bd=64,_y=Bd-1,sg=[],Hd=0;Hd<_y;Hd++)sg[Hd]=0;var Em=Nt(128,sg);function Kh(n){for(var u=n.f,m=n.l,T=0,H=0;H<u.length;)m[T++]=u[H]<<24|u[H+1]<<16|u[H+2]<<8|u[H+3],H=4*T;for(u=16;64>u;u++){var ue=(0|m[u-16])+(((H=0|m[u-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)|0,ve=(0|m[u-7])+(((T=0|m[u-2])>>>17|T<<15)^(T>>>19|T<<13)^T>>>10)|0;m[u]=ue+ve|0}T=0|n.a[0],H=0|n.a[1];var Ze=0|n.a[2],Qt=0|n.a[3],En=0|n.a[4],ni=0|n.a[5],Xi=0|n.a[6];for(ue=0|n.a[7],u=0;64>u;u++){var so=((T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10))+(T&H^T&Ze^H&Ze)|0;ve=(ue=ue+((En>>>6|En<<26)^(En>>>11|En<<21)^(En>>>25|En<<7))|0)+((ve=(ve=En&ni^~En&Xi)+(0|vf[u])|0)+(0|m[u])|0)|0,ue=Xi,Xi=ni,ni=En,En=Qt+ve|0,Qt=Ze,Ze=H,H=T,T=ve+so|0}n.a[0]=n.a[0]+T|0,n.a[1]=n.a[1]+H|0,n.a[2]=n.a[2]+Ze|0,n.a[3]=n.a[3]+Qt|0,n.a[4]=n.a[4]+En|0,n.a[5]=n.a[5]+ni|0,n.a[6]=n.a[6]+Xi|0,n.a[7]=n.a[7]+ue|0}function ag(n,u,m){void 0===m&&(m=u.length);var T=0,H=n.c;if("string"==typeof u)for(;T<m;)n.f[H++]=u.charCodeAt(T++),H==n.b&&(Kh(n),H=0);else{if(!je(u))throw Error("message must be string or array");for(;T<m;){var ue=u[T++];if(!("number"==typeof ue&&0<=ue&&255>=ue&&ue==(0|ue)))throw Error("message must be a byte array");n.f[H++]=ue,H==n.b&&(Kh(n),H=0)}}n.c=H,n.g+=m}mf.prototype.reset=function(){this.g=this.c=0,this.a=k.Int32Array?new Int32Array(this.h):Tt(this.h)};var Yh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Zh(){mf.call(this,8,Cm)}ke(Zh,mf);var Cm=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Gd(n,u,m,T,H,ue){this.v=n,this.i=u,this.l=m,this.m=T||null,this.u=H||null,this.s=ue,this.h=u+":"+m,this.C=new yy,this.g=new zh(this.h),this.f=null,this.b=[],this.a=this.c=null}function Qh(n){return new ce("invalid-cordova-configuration",n)}function Tm(n,u){for(var m=0;m<n.b.length;m++)try{n.b[m](u)}catch(T){}}function Im(n){return n.f||(n.f=n.ma().then(function(){return new Yn(function(u){n.Ea(function m(T){return u(T),n.Ta(m),!1}),function(n){function u(ve){T=!0,H&&H.cancel(),ug(n).then(function(Ze){var Qt=m;if(Ze&&ve&&ve.url){var En=null;-1!=(Qt=Du(ve.url)).indexOf("/__/auth/callback")&&(En=(En="object"==typeof(En=ha(Jo(En=go(Qt),"firebaseError")||null))?rt(En):null)?new Cs(Ze.c,Ze.b,null,null,En,null,Ze.T()):new Cs(Ze.c,Ze.b,Qt,Ze.f,null,null,Ze.T())),Qt=En||m}Tm(n,Qt)})}var m=new Cs("unknown",null,null,null,new ce("no-auth-event")),T=!1,H=Ii(500).then(function(){return ug(n).then(function(){T||Tm(n,m)})}),ue=k.handleOpenURL;k.handleOpenURL=function(ve){if(0==ve.toLowerCase().indexOf(oo("BuildInfo.packageName",k).toLowerCase()+"://")&&u({url:ve}),"function"==typeof ue)try{ue(ve)}catch(Ze){console.error(Ze)}},nl||(nl=new Ea),function(n){var u=nl;u.a.push(n),u.b||(u.b=function(m){for(var T=0;T<u.a.length;T++)u.a[T](m)},"function"==typeof(n=oo("universalLinks.subscribe",k))&&n(null,u.b))}(u)}(n)})})),n.f}function ug(n){var u=null;return function(n){return n.b.get(ig,n.a).then(function(u){return Qu(u)})}(n.g).then(function(m){return u=m,_u((m=n.g).b,ig,m.a)}).then(function(){return u})}function Ty(n){this.a=n,this.b=au()}(b=Gd.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(te(void 0)?A().then(function(){return new Yn(function(n,u){var m=k.document,T=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);m.addEventListener("deviceready",function(){clearTimeout(T),n()},!1)})}):Or(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof oo("universalLinks.subscribe",k))throw Qh("cordova-universal-links-plugin-fix is not installed");if(void 0===oo("BuildInfo.packageName",k))throw Qh("cordova-plugin-buildinfo is not installed");if("function"!=typeof oo("cordova.plugins.browsertab.openUrl",k))throw Qh("cordova-plugin-browsertab is not installed");if("function"!=typeof oo("cordova.InAppBrowser.open",k))throw Qh("cordova-plugin-inappbrowser is not installed")},function(){throw new ce("cordova-not-ready")})},b.Pb=function(n,u){return u(new ce("operation-not-supported-in-this-environment")),qn()},b.Nb=function(){return Or(new ce("operation-not-supported-in-this-environment"))},b.ac=function(){return!1},b.Yb=function(){return!0},b.Ub=function(){return!0},b.Ob=function(n,u,m,T){if(this.c)return Or(new ce("redirect-operation-pending"));var H=this,ue=k.document,ve=null,Ze=null,Qt=null,En=null;return this.c=qn().then(function(){return af(u),Im(H)}).then(function(){return function(n,u,m,T,H){var ue=function(){for(var n=20,u=[];0<n;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),n--;return u.join("")}(),ve=new Cs(u,T,null,ue,new ce("no-auth-event"),null,H),Ze=oo("BuildInfo.packageName",k);if("string"!=typeof Ze)throw new ce("invalid-cordova-configuration");var Qt=oo("BuildInfo.displayName",k),En={};if(zo().toLowerCase().match(/iphone|ipad|ipod/))En.ibi=Ze;else{if(!zo().toLowerCase().match(/android/))return Or(new ce("operation-not-supported-in-this-environment"));En.apn=Ze}Qt&&(En.appDisplayName=Qt),ue=function(n){var u=new Zh;ag(u,n),n=[];var m=8*u.g;ag(u,Em,56>u.c?56-u.c:u.b-(u.c-56));for(var T=63;56<=T;T--)u.f[T]=255&m,m/=256;for(Kh(u),T=m=0;T<u.i;T++)for(var H=24;0<=H;H-=8)n[m++]=u.a[T]>>H&255;return function(n){return bn(n,function(u){return 1<(u=u.toString(16)).length?u:"0"+u}).join("")}(n)}(ue),En.sessionId=ue;var ni=Pn(n.v,n.i,n.l,u,m,null,T,n.m,En,n.u,H,n.s);return n.ma().then(function(){var Xi=n.h;return n.C.a.set(ig,ve.w(),Xi)}).then(function(){var Xi=oo("cordova.plugins.browsertab.isAvailable",k);if("function"!=typeof Xi)throw new ce("invalid-cordova-configuration");var so=null;Xi(function(_o){if(_o){if("function"!=typeof(so=oo("cordova.plugins.browsertab.openUrl",k)))throw new ce("invalid-cordova-configuration");so(ni)}else{if("function"!=typeof(so=oo("cordova.InAppBrowser.open",k)))throw new ce("invalid-cordova-configuration");_o=zo(),n.a=so(ni,_o.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||_o.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(H,n,u,m,T)}).then(function(){return new Yn(function(ni,Xi){Ze=function(){var so=oo("cordova.plugins.browsertab.close",k);return ni(),"function"==typeof so&&so(),H.a&&"function"==typeof H.a.close&&(H.a.close(),H.a=null),!1},H.Ea(Ze),En=function(){V()&&Qt()},ue.addEventListener("resume",Qt=function(){ve||(ve=Ii(2e3).then(function(){Xi(new ce("redirect-cancelled-by-user"))}))},!1),zo().toLowerCase().match(/android/)||ue.addEventListener("visibilitychange",En,!1)}).o(function(ni){return ug(H).then(function(){throw ni})})}).oa(function(){Qt&&ue.removeEventListener("resume",Qt,!1),En&&ue.removeEventListener("visibilitychange",En,!1),ve&&ve.cancel(),Ze&&H.Ta(Ze),H.c=null})},b.Ea=function(n){this.b.push(n),Im(this).o(function(u){"auth/invalid-cordova-configuration"===u.code&&(u=new Cs("unknown",null,null,null,new ce("no-auth-event")),n(u))})},b.Ta=function(n){qe(this.b,function(u){return u==n})};var cg={name:"pendingRedirect",F:"session"};function Gc(n){return _u(n.b,cg,n.a)}function qd(n,u,m,T){this.i={},this.u=0,this.D=n,this.v=u,this.m=m,this.J=T,this.h=[],this.f=!1,this.l=tn(this.s,this),this.b=new Yl,this.C=new rp,this.g=new Ty(pg(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Xh(this.D,this.v,this.m,yn,this.J)}function Xh(n,u,m,T,H){var ue=E.default.SDK_VERSION||null;return te()?new Gd(n,u,m,ue,T,H):new Xe(n,u,m,ue,T,H)}function Wd(n){n.f||(n.f=!0,n.a.Ea(n.l));var u=n.a;return n.a.ma().o(function(m){throw n.a==u&&n.reset(),m})}function ep(n){n.a.Yb()&&Wd(n).o(function(u){var m=new Cs("unknown",null,null,null,new ce("operation-not-supported-in-this-environment"));dg(u)&&n.s(m)}),n.a.Ub()||yf(n.b)}function Kf(n,u){Ct(n.h,u)||n.h.push(u),n.f||function(n){return n.b.get(cg,n.a).then(function(u){return"pending"==u})}(n.g).then(function(m){m?Gc(n.g).then(function(){Wd(n).o(function(T){var H=new Cs("unknown",null,null,null,new ce("operation-not-supported-in-this-environment"));dg(T)&&n.s(H)})}):ep(n)}).o(function(){ep(n)})}function tp(n,u){qe(n.h,function(m){return m==u})}qd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Xh(this.D,this.v,this.m,null,this.J),this.i={}},qd.prototype.s=function(n){if(!n)throw new ce("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),n&&n.getUid()&&this.i.hasOwnProperty(n.getUid()))return!1;for(var u=!1,m=0;m<this.h.length;m++){var T=this.h[m];if(T.Gb(n.c,n.b)){(u=this.c[n.c])&&(u.h(n,T),n&&(n.f||n.b)&&(this.i[n.getUid()]=!0,this.u=Date.now())),u=!0;break}}return yf(this.b),u};var Kl=new ba(2e3,1e4),lg=new ba(3e4,6e4);function fg(n,u,m,T,H,ue,ve){return n.a.Nb(u,m,T,function(){n.f||(n.f=!0,n.a.Ea(n.l))},function(){n.reset()},H,ue,ve)}function dg(n){return!(!n||"auth/cordova-not-ready"!=n.code)}function $d(n,u,m,T,H){var ue;return function(n){return n.b.set(cg,"pending",n.a)}(n.g).then(function(){return n.a.Ob(u,m,T,H).o(function(ve){if(dg(ve))throw new ce("operation-not-supported-in-this-environment");return ue=ve,Gc(n.g).then(function(){throw ue})}).then(function(){return n.a.ac()?new Yn(function(){}):Gc(n.g).then(function(){return n.ra()}).then(function(){}).o(function(){})})})}function hg(n,u,m,T,H){return n.a.Pb(T,function(ue){u.na(m,null,ue,H)},Kl.get())}qd.prototype.ra=function(){return this.b.ra()};var zd={};function pg(n,u,m){return n=n+":"+u,m&&(n=n+":"+m.url),n}function np(n,u,m,T){var H=pg(u,m,T);return zd[H]||(zd[H]=new qd(n,u,m,T)),zd[H]}function Yl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function yf(n){n.g||(n.g=!0,wf(n,!1,null,null))}function Yf(n){n.g&&!n.i&&wf(n,!1,null,null)}function _f(n,u){if(n.b=function(){return qn(u)},n.f.length)for(var m=0;m<n.f.length;m++)n.f[m](u)}function wf(n,u,m,T){u?T?function(n,u){if(n.b=function(){return Or(u)},n.c.length)for(var m=0;m<n.c.length;m++)n.c[m](u)}(n,T):_f(n,m):_f(n,{user:null}),n.f=[],n.c=[]}function rp(){}function Kd(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(n){this.jb=n},enumerable:!1})}function Yd(n,u){this.a=u,Xt(this,"verificationId",n)}function Qf(n,u,m,T){return new No(n).gb(u,m).then(function(H){return new Yd(H,T)})}function Am(n){var u=pc(n);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new ce("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zn(this,{token:n,expirationTime:D(1e3*u.exp),authTime:D(1e3*u.auth_time),issuedAtTime:D(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Zd(n,u,m){var T=u&&u[op];if(!T)throw new ce("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=n,this.f=Ue(u),this.g=m,this.c=new Na(null,T),this.b=[];var H=this;jt(u[Sm]||[],function(ue){(ue=ra(ue))&&H.b.push(ue)}),Xt(this,"auth",this.a),Xt(this,"session",this.c),Xt(this,"hints",this.b)}Yl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yl.prototype.h=function(n,u){if(n){this.reset(),this.g=!0;var m=n.c,T=n.b,H=n.a&&"auth/web-storage-unsupported"==n.a.code,ue=n.a&&"auth/operation-not-supported-in-this-environment"==n.a.code;this.i=!(!H&&!ue),"unknown"!=m||H||ue?n.a?(wf(this,!0,null,n.a),qn()):u.Fa(m,T)?function(n,u,m){m=m.Fa(u.c,u.b);var T=u.g,H=u.f,ue=u.i,ve=u.T(),Ze=!!u.c.match(/Redirect$/);m(T,H,ve,ue).then(function(Qt){wf(n,Ze,Qt,null)}).o(function(Qt){wf(n,Ze,null,Qt)})}(this,n,u):Or(new ce("invalid-auth-event")):(wf(this,!1,null,null),qn())}else Or(new ce("invalid-auth-event"))},Yl.prototype.ra=function(){var n=this;return new Yn(function(u,m){n.b?n.b().then(u,m):(n.f.push(u),n.c.push(m),function(n){var u=new ce("timeout");n.a&&n.a.cancel(),n.a=Ii(lg.get()).then(function(){n.b||(n.g=!0,wf(n,!0,null,u))})}(n))})},rp.prototype.h=function(n,u){if(n){var m=n.c,T=n.b;n.a?(u.na(n.c,null,n.a,n.b),qn()):u.Fa(m,T)?function(n,u){var m=n.b,T=n.c;u.Fa(T,m)(n.g,n.f,n.T(),n.i).then(function(H){u.na(T,H,null,m)}).o(function(H){u.na(T,null,H,m)})}(n,u):Or(new ce("invalid-auth-event"))}else Or(new ce("invalid-auth-event"))},Yd.prototype.confirm=function(n){return n=Zu(this.verificationId,n),this.a(n)};var Sm="mfaInfo",op="mfaPendingCredential";function Qd(n,u,m,T){ce.call(this,"multi-factor-auth-required",T,u),this.b=new Zd(n,u,m),Xt(this,"resolver",this.b)}function mg(n,u,m){if(n&&Me(n.serverResponse)&&"auth/multi-factor-auth-required"===n.code)try{return new Qd(u,n.serverResponse,m,n.message)}catch(T){}return null}function sp(){}function uu(n){Xt(this,"factorId",n.fa),this.a=n}function vg(n){if(uu.call(this,n),this.a.fa!=No.PROVIDER_ID)throw new ce("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jf(n,u){for(var m in de.call(this,n),u)this[m]=u[m]}function yg(n,u){this.a=n,this.b=[],this.c=tn(this.yc,this),Qr(this.a,"userReloaded",this.c);var m=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&jt(u.multiFactor.enrolledFactors,function(T){var H=null,ue={};if(T){T.uid&&(ue[Bu]=T.uid),T.displayName&&(ue[Qc]=T.displayName),T.enrollmentTime&&(ue[ka]=new Date(T.enrollmentTime).toISOString()),T.phoneNumber&&(ue[Ka]=T.phoneNumber);try{H=new Ya(ue)}catch(ve){}T=H}else T=null;T&&m.push(T)}),wd(this,m)}function wd(n,u){n.b=u,Xt(n,"enrolledFactors",u)}function _g(n,u,m){if(this.h=n,this.i=u,this.g=m,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bd(n,u){n.stop(),n.b=Ii(function(n,u){return u?(n.a=n.c,n.g()):(u=n.a,n.a*=2,n.a>n.f&&(n.a=n.f),u)}(n,u)).then(function(){return function(){var n=k.document,u=null;return V()||!n?qn():new Yn(function(m){u=function(){V()&&(n.removeEventListener("visibilitychange",u,!1),m())},n.addEventListener("visibilitychange",u,!1)}).o(function(m){throw n.removeEventListener("visibilitychange",u,!1),m})}()}).then(function(){return n.h()}).then(function(){bd(n,!0)}).o(function(m){n.i(m)&&bd(n,!1)})}function Jd(n){this.f=n,this.b=this.a=null,this.c=Date.now()}function wg(n,u){void 0===u&&(u=n.b?(u=n.b).a-u.g:0),n.c=Date.now()+1e3*u}function bg(n,u){n.b=Xa(u[Ls]||""),n.a=u.refreshToken,wg(n,void 0!==(u=u.expiresIn)?Number(u):void 0)}function Xd(n,u){this.a=n||null,this.b=u||null,Zn(this,{lastSignInTime:D(u||null),creationTime:D(n||null)})}function Mm(n,u,m,T,H,ue){Zn(this,{uid:n,displayName:T||null,photoURL:H||null,email:m||null,phoneNumber:ue||null,providerId:u})}function Uu(n,u,m){this.N=[],this.l=n.apiKey,this.m=n.appName,this.s=n.authDomain||null;var T=E.default.SDK_VERSION?_a(E.default.SDK_VERSION):null;this.a=new ma(this.l,Ut(yn),T),(this.u=n.emulatorConfig||null)&&Aa(this.a,this.u),this.h=new Jd(this.a),cp(this,u[Ls]),bg(this.h,u),Xt(this,"refreshToken",this.h.a),Tg(this,m||{}),vr.call(this),this.P=!1,this.s&&fa()&&(this.b=np(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(n){return new _g(function(){return n.I(!0)},function(u){return!(!u||"auth/network-request-failed"!=u.code)},function(){var u=n.h.c-Date.now()-3e5;return 0<u?u:0})}(this),this.ba=tn(this.ib,this);var H=this;this.za=null,this.Pa=function(ue){H.xa(ue.h)},this.qa=null,this.Ba=function(ue){eh(H,ue.c)},this.$=null,this.aa=[],this.Oa=function(ue){wu(H,ue.f)},this.ja=null,this.S=new yg(this,m),Xt(this,"multiFactor",this.S)}function eh(n,u){n.u=u,Aa(n.a,u),n.b&&(u=n.b,n.b=np(n.s,n.l,n.m,n.u),n.P&&(tp(u,n),Kf(n.b,n)))}function th(n,u){n.qa&&Fi(n.qa,"languageCodeChanged",n.Pa),(n.qa=u)&&Qr(u,"languageCodeChanged",n.Pa)}function ap(n,u){n.$&&Fi(n.$,"emulatorConfigChanged",n.Ba),(n.$=u)&&Qr(u,"emulatorConfigChanged",n.Ba)}function wu(n,u){n.aa=u,ou(n.a,E.default.SDK_VERSION?_a(E.default.SDK_VERSION,n.aa):null)}function Ed(n,u){n.ja&&Fi(n.ja,"frameworkChanged",n.Oa),(n.ja=u)&&Qr(u,"frameworkChanged",n.Oa)}function up(n){try{return E.default.app(n.m).auth()}catch(u){throw new ce("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+n.m+"'!")}}function Pm(n){n.J||n.D.b||(n.D.start(),Fi(n,"tokenChanged",n.ba),Qr(n,"tokenChanged",n.ba))}function nh(n){Fi(n,"tokenChanged",n.ba),n.D.stop()}function cp(n,u){n.Aa=u,Xt(n,"_lat",u)}function bf(n){for(var u=[],m=0;m<n.W.length;m++)u.push(n.W[m](n));return W(u).then(function(){return n})}function Ef(n){n.b&&!n.P&&(n.P=!0,Kf(n.b,n))}function Tg(n,u){Zn(n,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Xd(u.createdAt,u.lastLoginAt),providerData:[]}),n.a.b=n.tenantId}function Ig(){}function Xf(n){return qn().then(function(){if(n.J)throw new ce("app-deleted")})}function Cd(n){return bn(n.providerData,function(u){return u.providerId})}function lp(n,u){u&&(rh(n,u.providerId),n.providerData.push(u))}function rh(n,u){qe(n.providerData,function(m){return m.providerId==u})}function qc(n,u,m){("uid"!=u||m)&&n.hasOwnProperty(u)&&Xt(n,u,m)}function Td(n,u){n!=u&&(Zn(n,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),Xt(n,"metadata",u.metadata?function(n){return new Xd(n.a,n.b)}(u.metadata):new Xd),jt(u.providerData,function(m){lp(n,m)}),function(n,u){n.b=u.b,n.a=u.a,n.c=u.c}(n.h,u.h),Xt(n,"refreshToken",n.h.a),wd(n.S,u.S.b))}function fp(n){return n.I().then(function(u){var m=n.isAnonymous;return function(n,u){return ui(n.a,Vu,{idToken:u}).then(tn(n.Kc,n))}(n,u).then(function(){return m||qc(n,"isAnonymous",!1),u})})}function Wc(n,u){u[Ls]&&n.Aa!=u[Ls]&&(bg(n.h,u),n.dispatchEvent(new Jf("tokenChanged")),cp(n,u[Ls]),qc(n,"refreshToken",n.h.a))}function ih(n,u){return fp(n).then(function(){if(Ct(Cd(n),u))return bf(n).then(function(){throw new ce("provider-already-linked")})})}function ed(n,u,m){return pi({user:n,credential:sf(u),additionalUserInfo:u=Su(u),operationType:m})}function hp(n,u){return Wc(n,u),n.reload().then(function(){return n})}function pp(n,u,m,T,H){if(!fa())return Or(new ce("operation-not-supported-in-this-environment"));if(n.i&&!H)return Or(n.i);var ue=eu(m.providerId),ve=_s(n.uid+":::"),Ze=null;(!hs()||ze())&&n.s&&m.isOAuthProvider&&(Ze=Pn(n.s,n.l,n.m,u,m,null,ve,E.default.SDK_VERSION||null,null,null,n.tenantId,n.u));var Qt=y(Ze,ue&&ue.va,ue&&ue.ua);return T=T().then(function(){if(mp(n),!H)return n.I().then(function(){})}).then(function(){return fg(n.b,Qt,u,m,ve,!!Ze,n.tenantId)}).then(function(){return new Yn(function(En,ni){n.na(u,null,new ce("cancelled-popup-request"),n.g||null),n.f=En,n.C=ni,n.g=ve,n.c=hg(n.b,n,u,Qt,ve)})}).then(function(En){return Qt&&Ms(Qt),En?pi(En):null}).o(function(En){throw Qt&&Ms(Qt),En}),Yo(n,T,H)}function gp(n,u,m,T,H){if(!fa())return Or(new ce("operation-not-supported-in-this-environment"));if(n.i&&!H)return Or(n.i);var ue=null,ve=_s(n.uid+":::");return T=T().then(function(){if(mp(n),!H)return n.I().then(function(){})}).then(function(){return n.ga=ve,bf(n)}).then(function(Ze){return n.ha&&(Ze=(Ze=n.ha).b.set(sh,n.w(),Ze.a)),Ze}).then(function(){return $d(n.b,u,m,ve,n.tenantId)}).o(function(Ze){if(ue=Ze,n.ha)return nd(n.ha);throw ue}).then(function(){if(ue)throw ue}),Yo(n,T,H)}function mp(n){if(!n.b||!n.P)throw new ce(n.b&&!n.P?"internal-error":"auth-domain-config-required")}function Yo(n,u,m){var T=function(n,u,m){return n.i&&!m?(u.cancel(),Or(n.i)):u.o(function(T){throw!T||"auth/user-disabled"!=T.code&&"auth/user-token-expired"!=T.code||(n.i||n.dispatchEvent(new Jf("userInvalidated")),n.i=T),T})}(n,u,m);return n.N.push(T),T.oa(function(){He(n.N,T)}),T.o(function(H){var ue=null;throw H&&"auth/multi-factor-auth-required"===H.code&&(ue=mg(H.w(),up(n),tn(n.jc,n))),ue||H})}function Ag(n){if(!n.apiKey)return null;var u={apiKey:n.apiKey,authDomain:n.authDomain,appName:n.appName,emulatorConfig:n.emulatorConfig},m={};if(!n.stsTokenManager||!n.stsTokenManager.accessToken)return null;m[Ls]=n.stsTokenManager.accessToken,m.refreshToken=n.stsTokenManager.refreshToken||null;var T=n.stsTokenManager.expirationTime;T&&(m.expiresIn=(T-Date.now())/1e3);var H=new Uu(u,m,n);return n.providerData&&jt(n.providerData,function(ue){ue&&lp(H,pi(ue))}),n.redirectEventId&&(H.ga=n.redirectEventId),H}function td(n){this.a=n,this.b=au()}Zd.prototype.Rc=function(n){var u=this;return n.tb(this.a.a,this.c).then(function(m){var T=Ue(u.f);return delete T[Sm],delete T[op],Se(T,m),u.g(T)})},ke(Qd,ce),sp.prototype.tb=function(n,u,m){return u.type==$s?function(n,u,m,T){return m.Ha().then(function(H){return H={idToken:H},void 0!==T&&(H.displayName=T),Se(H,{phoneVerificationInfo:Yu(n.a)}),ui(u,Lu,H)})}(this,n,u,m):function(n,u,m){return m.Ha().then(function(T){return Se(T={mfaPendingCredential:T},{phoneVerificationInfo:Yu(n.a)}),ui(u,Hl,T)})}(this,n,u)},ke(uu,sp),ke(vg,uu),ke(Jf,de),(b=yg.prototype).yc=function(n){wd(this,function(n){var u=[];return jt(n.mfaInfo||[],function(m){(m=ra(m))&&u.push(m)}),u}(n.hd))},b.Sb=function(){return this.a.I().then(function(n){return new Na(n,null)})},b.fc=function(n,u){var m=this,T=this.a.a;return this.Sb().then(function(H){return n.tb(T,H,u)}).then(function(H){return Wc(m.a,H),m.a.reload()})},b.bd=function(n){var u=this,m="string"==typeof n?n:n.uid,T=this.a.a;return this.a.I().then(function(H){return ui(T,Ac,{idToken:H,mfaEnrollmentId:m})}).then(function(H){var ue=Gn(u.b,function(ve){return ve.uid!=m});return wd(u,ue),Wc(u.a,H),u.a.reload().o(function(ve){if("auth/user-token-expired"!=ve.code)throw ve})})},b.w=function(){return{multiFactor:{enrolledFactors:bn(this.b,function(n){return n.w()})}}},_g.prototype.start=function(){this.a=this.c,bd(this,!0)},_g.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Jd.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Jd.prototype.getToken=function(n){return n=!!n,this.b&&!this.a?Or(new ce("user-token-expired")):n||!this.b||Date.now()>this.c-3e4?this.a?function(n,u){return function(n,u){return new Yn(function(m,T){"refresh_token"==u.grant_type&&u.refresh_token||"authorization_code"==u.grant_type&&u.code?ku(n,n.l+"?key="+encodeURIComponent(n.c),function(H){H?H.error?T(pf(H)):H.access_token&&H.refresh_token?m(H):T(new ce("internal-error")):T(new ce("network-request-failed"))},"POST",na(u).toString(),n.g,n.m.get()):T(new ce("internal-error"))})}(n.f,u).then(function(m){return n.b=Xa(m.access_token),n.a=m.refresh_token,wg(n,m.expires_in),{accessToken:n.b.toString(),refreshToken:n.a}}).o(function(m){throw"auth/user-token-expired"==m.code&&(n.a=null),m})}(this,{grant_type:"refresh_token",refresh_token:this.a}):qn(null):qn({accessToken:this.b.toString(),refreshToken:this.a})},Xd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},ke(Uu,vr),Uu.prototype.xa=function(n){this.za=n,lf(this.a,n)},Uu.prototype.la=function(){return this.za},Uu.prototype.Ga=function(){return Tt(this.aa)},Uu.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Xt(Uu.prototype,"providerId","firebase"),(b=Uu.prototype).reload=function(){var n=this;return Yo(this,Xf(this).then(function(){return fp(n).then(function(){return bf(n)}).then(Ig)}))},b.oc=function(n){return this.I(n).then(function(u){return new Am(u)})},b.I=function(n){var u=this;return Yo(this,Xf(this).then(function(){return u.h.getToken(n)}).then(function(m){if(!m)throw new ce("internal-error");return m.accessToken!=u.Aa&&(cp(u,m.accessToken),u.dispatchEvent(new Jf("tokenChanged"))),qc(u,"refreshToken",m.refreshToken),m.accessToken}))},b.Kc=function(n){if(!(n=n.users)||!n.length)throw new ce("internal-error");Tg(this,{uid:(n=n[0]).localId,displayName:n.displayName,photoURL:n.photoUrl,email:n.email,emailVerified:!!n.emailVerified,phoneNumber:n.phoneNumber,lastLoginAt:n.lastLoginAt,createdAt:n.createdAt,tenantId:n.tenantId});for(var u=function(n){return(n=n.providerUserInfo)&&n.length?bn(n,function(u){return new Mm(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}(n),m=0;m<u.length;m++)lp(this,u[m]);qc(this,"isAnonymous",!(this.email&&n.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jf("userReloaded",{hd:n}))},b.Lc=function(n){return ut("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(n)},b.ub=function(n){var u=this,m=null;return Yo(this,n.c(this.a,this.uid).then(function(T){return Wc(u,T),m=ed(u,T,"reauthenticate"),u.i=null,u.reload()}).then(function(){return m}),!0)},b.Cc=function(n){return ut("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(n)},b.rb=function(n){var u=this,m=null;return Yo(this,ih(this,n.providerId).then(function(){return u.I()}).then(function(T){return n.b(u.a,T)}).then(function(T){return m=ed(u,T,"link"),hp(u,T)}).then(function(){return m}))},b.Dc=function(n,u){var m=this;return Yo(this,ih(this,"phone").then(function(){return Qf(up(m),n,u,tn(m.rb,m))}))},b.Mc=function(n,u){var m=this;return Yo(this,qn().then(function(){return Qf(up(m),n,u,tn(m.ub,m))}),!0)},b.Cb=function(n){var u=this;return Yo(this,this.I().then(function(m){return u.a.Cb(m,n)}).then(function(m){return Wc(u,m),u.reload()}))},b.ed=function(n){var u=this;return Yo(this,this.I().then(function(m){return n.b(u.a,m)}).then(function(m){return Wc(u,m),u.reload()}))},b.Db=function(n){var u=this;return Yo(this,this.I().then(function(m){return u.a.Db(m,n)}).then(function(m){return Wc(u,m),u.reload()}))},b.Eb=function(n){if(void 0===n.displayName&&void 0===n.photoURL)return Xf(this);var u=this;return Yo(this,this.I().then(function(m){return u.a.Eb(m,{displayName:n.displayName,photoUrl:n.photoURL})}).then(function(m){return Wc(u,m),qc(u,"displayName",m.displayName||null),qc(u,"photoURL",m.photoUrl||null),jt(u.providerData,function(T){"password"===T.providerId&&(Xt(T,"displayName",u.displayName),Xt(T,"photoURL",u.photoURL))}),bf(u)}).then(Ig))},b.cd=function(n){var u=this;return Yo(this,fp(this).then(function(m){return Ct(Cd(u),n)?function(n,u,m){return ui(n,gd,{idToken:u,deleteProvider:m})}(u.a,m,[n]).then(function(T){var H={};return jt(T.providerUserInfo||[],function(ue){H[ue.providerId]=!0}),jt(Cd(u),function(ue){H[ue]||rh(u,ue)}),H[No.PROVIDER_ID]||Xt(u,"phoneNumber",null),bf(u)}):bf(u).then(function(){throw new ce("no-such-provider")})}))},b.delete=function(){var n=this;return Yo(this,this.I().then(function(u){return ui(n.a,Uc,{idToken:u})}).then(function(){n.dispatchEvent(new Jf("userDeleted"))})).then(function(){for(var u=0;u<n.N.length;u++)n.N[u].cancel("app-deleted");th(n,null),ap(n,null),Ed(n,null),n.N=[],n.J=!0,nh(n),Xt(n,"refreshToken",null),n.b&&tp(n.b,n)})},b.Gb=function(n,u){return!!("linkViaPopup"==n&&(this.g||null)==u&&this.f||"reauthViaPopup"==n&&(this.g||null)==u&&this.f||"linkViaRedirect"==n&&(this.ga||null)==u||"reauthViaRedirect"==n&&(this.ga||null)==u)},b.na=function(n,u,m,T){"linkViaPopup"!=n&&"reauthViaPopup"!=n||T!=(this.g||null)||(m&&this.C?this.C(m):u&&!m&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},b.Fa=function(n,u){return"linkViaPopup"==n&&u==(this.g||null)?tn(this.Lb,this):"reauthViaPopup"==n&&u==(this.g||null)?tn(this.Mb,this):"linkViaRedirect"==n&&(this.ga||null)==u?tn(this.Lb,this):"reauthViaRedirect"==n&&(this.ga||null)==u?tn(this.Mb,this):null},b.Ec=function(n){var u=this;return pp(this,"linkViaPopup",n,function(){return ih(u,n.providerId).then(function(){return bf(u)})},!1)},b.Nc=function(n){return pp(this,"reauthViaPopup",n,function(){return qn()},!0)},b.Fc=function(n){var u=this;return gp(this,"linkViaRedirect",n,function(){return ih(u,n.providerId)},!1)},b.Oc=function(n){return gp(this,"reauthViaRedirect",n,function(){return qn()},!0)},b.Lb=function(n,u,m,T){var H=this;this.c&&(this.c.cancel(),this.c=null);var ue=null;return Yo(this,this.I().then(function(ve){return ac(H.a,{requestUri:n,postBody:T,sessionId:u,idToken:ve})}).then(function(ve){return ue=ed(H,ve,"link"),hp(H,ve)}).then(function(){return ue}))},b.Mb=function(n,u,m,T){var H=this;this.c&&(this.c.cancel(),this.c=null);var ue=null;return Yo(this,qn().then(function(){return Ho(Cc(H.a,{requestUri:n,sessionId:u,postBody:T,tenantId:m}),H.uid)}).then(function(Ze){return ue=ed(H,Ze,"reauthenticate"),Wc(H,Ze),H.i=null,H.reload()}).then(function(){return ue}),!0)},b.vb=function(n){var u=this,m=null;return Yo(this,this.I().then(function(T){return m=T,void 0===n||et(n)?{}:ps(new oa(n))}).then(function(T){return u.a.vb(m,T)}).then(function(T){if(u.email!=T)return u.reload()}).then(function(){}))},b.Fb=function(n,u){var m=this,T=null;return Yo(this,this.I().then(function(H){return T=H,void 0===u||et(u)?{}:ps(new oa(u))}).then(function(H){return m.a.Fb(T,n,H)}).then(function(H){if(m.email!=H)return m.reload()}).then(function(){}))},b.jc=function(n){var u=null,m=this;return Yo(this,n=Ho(qn(n),m.uid).then(function(T){return u=ed(m,T,"reauthenticate"),Wc(m,T),m.i=null,m.reload()}).then(function(){return u}),!0)},b.toJSON=function(){return this.w()},b.w=function(){var n={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Se(n,this.metadata.w()),jt(this.providerData,function(u){n.providerData.push(function(n){var m,u={};for(m in n)n.hasOwnProperty(m)&&(u[m]=n[m]);return u}(u))}),Se(n,this.S.w()),n};var sh={name:"redirectUser",F:"session"};function nd(n){return _u(n.b,sh,n.a)}function vp(n){this.a=n,this.b=au(),this.c=null,this.f=function(n){var u=$c("local"),m=$c("session"),T=$c("none");return function(n,u,m){var T=zf(u,m),H=zl(n,u.F);return n.get(u,m).then(function(ue){var ve=null;try{ve=ha(k.localStorage.getItem(T))}catch(Ze){}if(ve&&!ue)return k.localStorage.removeItem(T),n.set(u,ve,m);ve&&ue&&"localStorage"!=H.type&&k.localStorage.removeItem(T)})}(n.b,u,n.a).then(function(){return n.b.get(m,n.a)}).then(function(H){return H?m:n.b.get(T,n.a).then(function(ue){return ue?T:n.b.get(u,n.a).then(function(ve){return ve?u:n.b.get(ah,n.a).then(function(Ze){return Ze?$c(Ze):u})})})}).then(function(H){return n.c=H,yp(n,H.F)}).o(function(){n.c||(n.c=u)})}(this),this.b.addListener($c("local"),this.a,tn(this.g,this))}function yp(n,u){var T,m=[];for(T in Yr)Yr[T]!==u&&m.push(_u(n.b,$c(Yr[T]),n.a));return m.push(_u(n.b,ah,n.a)),function(n){return new Yn(function(u,m){var T=n.length,H=[];if(T)for(var ue=function(En,ni){T--,H[En]=ni,0==T&&u(H)},ve=function(En){m(En)},Ze=0;Ze<n.length;Ze++)bo(n[Ze],xn(ue,Ze),ve);else u(H)})}(m)}vp.prototype.g=function(){var n=this,u=$c("local");rd(this,function(){return qn().then(function(){return n.c&&"local"!=n.c.F?n.b.get(u,n.a):null}).then(function(m){if(m)return yp(n,"local").then(function(){n.c=u})})})};var ah={name:"persistence",F:"session"};function $c(n){return{name:"authUser",F:n}}function Dg(n,u){return rd(n,function(){return n.b.set(n.c,u.w(),n.a)})}function uh(n){return rd(n,function(){return _u(n.b,n.c,n.a)})}function Rg(n,u,m){return rd(n,function(){return n.b.get(n.c,n.a).then(function(T){return T&&u&&(T.authDomain=u),T&&m&&(T.emulatorConfig=m),Ag(T||{})})})}function rd(n,u){return n.f=n.f.then(u,u),n.f}function cc(n){if(this.l=!1,Xt(this,"settings",new Kd),Xt(this,"app",n),!Zo(this).options||!Zo(this).options.apiKey)throw new ce("invalid-api-key");n=E.default.SDK_VERSION?_a(E.default.SDK_VERSION):null,this.a=new ma(Zo(this).options&&Zo(this).options.apiKey,Ut(yn),n),this.P=[],this.s=[],this.N=[],this.Pa=E.default.INTERNAL.createSubscribe(tn(this.zc,this)),this.W=void 0,this.ib=E.default.INTERNAL.createSubscribe(tn(this.Ac,this)),Ad(this,null),this.i=new vp(Zo(this).options.apiKey+":"+Zo(this).name),this.D=new td(Zo(this).options.apiKey+":"+Zo(this).name),this.$=Us(this,function(n){var u=Zo(n).options.authDomain,m=function(n){var u=function(n,u){return n.b.get(sh,n.a).then(function(m){return m&&u&&(m.authDomain=u),Ag(m||{})})}(n.D,Zo(n).options.authDomain).then(function(m){return(n.m=m)&&(m.ha=n.D),nd(n.D)});return Us(n,u)}(n).then(function(){return Rg(n.i,u,n.R)}).then(function(T){return T?(T.ha=n.D,n.m&&(n.m.ga||null)==(T.ga||null)?T:T.reload().then(function(){return Dg(n.i,T).then(function(){return T})}).o(function(H){return"auth/network-request-failed"==H.code?T:uh(n.i)})):null}).then(function(T){Ad(n,T||null)});return Us(n,m)}(this)),this.h=Us(this,function(n){return n.$.then(function(){return Ng(n)}).o(function(){}).then(function(){if(!n.l)return n.ja()}).o(function(){}).then(function(){if(!n.l){n.ba=!0;var u=n.i;u.b.addListener($c("local"),u.a,n.ja)}})}(this)),this.ba=!1,this.ja=tn(this.Zc,this),this.Ba=tn(this.da,this),this.qa=tn(this.mc,this),this.za=tn(this.wc,this),this.Aa=tn(this.xc,this),this.b=null,function(n){var u=Zo(n).options.authDomain,m=Zo(n).options.apiKey;u&&fa()&&(n.Oa=n.$.then(function(){if(!n.l){if(n.b=np(u,m,Zo(n).name,n.R),Kf(n.b,n),Jr(n)&&Ef(Jr(n)),n.m){Ef(n.m);var T=n.m;T.xa(n.la()),th(T,n),wu(T=n.m,n.J),Ed(T,n),eh(T=n.m,n.R),ap(T,n),n.m=null}return n.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=tn(this.delete,this),this.INTERNAL.logFramework=tn(this.Gc,this),this.u=0,vr.call(this),function(n){Object.defineProperty(n,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),n.aa=null,Object.defineProperty(n,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),n.S=null,Object.defineProperty(n,"emulatorConfig",{get:function(){if(this.R){var u=go(this.R.url);u=pi({protocol:u.c,host:u.a,port:u.g,options:pi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}(this),this.J=[],this.R=null}function Cf(n){de.call(this,"languageCodeChanged"),this.h=n}function wp(n){de.call(this,"emulatorConfigChanged"),this.c=n}function xg(n){de.call(this,"frameworkChanged"),this.f=n}function bp(n){return n.Oa||Or(new ce("auth-domain-config-required"))}function Ng(n){if(!fa())return Or(new ce("operation-not-supported-in-this-environment"));var u=bp(n).then(function(){return n.b.ra()}).then(function(m){return m?pi(m):null});return Us(n,u)}function Ad(n,u){Jr(n)&&(function(n,u){qe(n.W,function(m){return m==u})}(Jr(n),n.Ba),Fi(Jr(n),"tokenChanged",n.qa),Fi(Jr(n),"userDeleted",n.za),Fi(Jr(n),"userInvalidated",n.Aa),nh(Jr(n))),u&&(u.W.push(n.Ba),Qr(u,"tokenChanged",n.qa),Qr(u,"userDeleted",n.za),Qr(u,"userInvalidated",n.Aa),0<n.u&&Pm(u)),Xt(n,"currentUser",u),u&&(u.xa(n.la()),th(u,n),wu(u,n.J),Ed(u,n),eh(u,n.R),ap(u,n))}function wl(n,u){var m=null,T=null;return Us(n,u.then(function(H){return m=sf(H),T=Su(H),function(n,u){var m={};return m.apiKey=Zo(n).options.apiKey,m.authDomain=Zo(n).options.authDomain,m.appName=Zo(n).name,n.R&&(m.emulatorConfig=n.R),n.$.then(function(){return function(n,u,m,T){var H=new Uu(n,u);return m&&(H.ha=m),T&&wu(H,T),H.reload().then(function(){return H})}(m,u,n.D,n.Ga())}).then(function(T){return Jr(n)&&T.uid==Jr(n).uid?(Td(Jr(n),T),n.da(T)):(Ad(n,T),Ef(T),n.da(T))}).then(function(){Tf(n)})}(n,H)},function(H){var ue=null;throw H&&"auth/multi-factor-auth-required"===H.code&&(ue=mg(H.w(),n,tn(n.kc,n))),ue||H}).then(function(){return pi({user:Jr(n),credential:m,additionalUserInfo:T,operationType:"signIn"})}))}function Zo(n){return n.app}function Jr(n){return n.currentUser}function od(n){return Jr(n)&&Jr(n)._lat||null}function Tf(n){if(n.ba){for(var u=0;u<n.s.length;u++)n.s[u]&&n.s[u](od(n));if(n.W!==n.getUid()&&n.N.length)for(n.W=n.getUid(),u=0;u<n.N.length;u++)n.N[u]&&n.N[u](od(n))}}function Us(n,u){return n.P.push(u),u.oa(function(){He(n.P,u)}),u}function Sd(){}function If(){this.a={},this.b=1e12}vp.prototype.yb=function(n){var u=null,m=this;return function(n){var u=new ce("invalid-persistence-type"),m=new ce("unsupported-persistence-type");e:{for(T in Yr)if(Yr[T]==n){var T=!0;break e}T=!1}if(!T||"string"!=typeof n)throw u;switch(Cn()){case"ReactNative":if("session"===n)throw m;break;case"Node":if("none"!==n)throw m;break;case"Worker":if("session"===n||!me()&&"none"!==n)throw m;break;default:if(!za()&&"none"!==n)throw m}}(n),rd(this,function(){return n!=m.c.F?m.b.get(m.c,m.a).then(function(T){return u=T,yp(m,n)}).then(function(){if(m.c=$c(n),u)return m.b.set(m.c,u,m.a)}):qn()})},ke(cc,vr),ke(Cf,de),ke(wp,de),ke(xg,de),(b=cc.prototype).yb=function(n){return Us(this,n=this.i.yb(n))},b.xa=function(n){this.aa===n||this.l||(this.aa=n,lf(this.a,this.aa),this.dispatchEvent(new Cf(this.la())))},b.la=function(){return this.aa},b.fd=function(){var n=k.navigator;this.xa(n&&(n.languages&&n.languages[0]||n.language||n.userLanguage)||null)},b.gd=function(n,u){if(!this.R){if(!/^https?:\/\//.test(n))throw new ce("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(n){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),k.document&&!n&&A().then(function(){var u=k.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),k.document.body.appendChild(u)})})(u=!!u&&!!u.disableWarnings),this.R={url:n,ec:u},this.settings.jb=!0,Aa(this.a,this.R),this.dispatchEvent(new wp(this.R))}},b.Gc=function(n){this.J.push(n),ou(this.a,E.default.SDK_VERSION?_a(E.default.SDK_VERSION,this.J):null),this.dispatchEvent(new xg(this.J))},b.Ga=function(){return Tt(this.J)},b.zb=function(n){this.S===n||this.l||(this.S=n,this.a.b=this.S)},b.T=function(){return this.S},b.toJSON=function(){return{apiKey:Zo(this).options.apiKey,authDomain:Zo(this).options.authDomain,appName:Zo(this).name,currentUser:Jr(this)&&Jr(this).w()}},b.Gb=function(n,u){switch(n){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},b.na=function(n,u,m,T){"signInViaPopup"==n&&this.g==T&&(m&&this.C?this.C(m):u&&!m&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},b.Fa=function(n,u){return"signInViaRedirect"==n||"signInViaPopup"==n&&this.g==u&&this.f?tn(this.ic,this):null},b.ic=function(n,u,m,T){var H=this,ue={requestUri:n,postBody:T,sessionId:u,tenantId:m};return this.c&&(this.c.cancel(),this.c=null),H.$.then(function(){return wl(H,dl(H.a,ue))})},b.Xc=function(n){if(!fa())return Or(new ce("operation-not-supported-in-this-environment"));var u=this,m=eu(n.providerId),T=_s(),H=null;(!hs()||ze())&&Zo(this).options.authDomain&&n.isOAuthProvider&&(H=Pn(Zo(this).options.authDomain,Zo(this).options.apiKey,Zo(this).name,"signInViaPopup",n,null,T,E.default.SDK_VERSION||null,null,null,this.T(),this.R));var ue=y(H,m&&m.va,m&&m.ua);return Us(this,m=bp(this).then(function(ve){return fg(ve,ue,"signInViaPopup",n,T,!!H,u.T())}).then(function(){return new Yn(function(ve,Ze){u.na("signInViaPopup",null,new ce("cancelled-popup-request"),u.g),u.f=ve,u.C=Ze,u.g=T,u.c=hg(u.b,u,"signInViaPopup",ue,T)})}).then(function(ve){return ue&&Ms(ue),ve?pi(ve):null}).o(function(ve){throw ue&&Ms(ue),ve}))},b.Yc=function(n){if(!fa())return Or(new ce("operation-not-supported-in-this-environment"));var u=this;return Us(this,bp(this).then(function(){return function(n){return rd(n,function(){return n.b.set(ah,n.c.F,n.a)})}(u.i)}).then(function(){return $d(u.b,"signInViaRedirect",n,void 0,u.T())}))},b.ra=function(){var n=this;return Ng(this).then(function(u){return n.b&&Yf(n.b.b),u}).o(function(u){throw n.b&&Yf(n.b.b),u})},b.dd=function(n){if(!n)return Or(new ce("null-user"));if(this.S!=n.tenantId)return Or(new ce("tenant-id-mismatch"));var u=this,m={};m.apiKey=Zo(this).options.apiKey,m.authDomain=Zo(this).options.authDomain,m.appName=Zo(this).name;var T=function(n,u,m,T){var H=n.h,ue={};return ue[Ls]=H.b&&H.b.toString(),ue.refreshToken=H.a,u=new Uu(u||{apiKey:n.l,authDomain:n.s,appName:n.m},ue),m&&(u.ha=m),T&&wu(u,T),Td(u,n),u}(n,m,u.D,u.Ga());return Us(this,this.h.then(function(){if(Zo(u).options.apiKey!=n.l)return T.reload()}).then(function(){return Jr(u)&&n.uid==Jr(u).uid?(Td(Jr(u),n),u.da(n)):(Ad(u,T),Ef(T),u.da(T))}).then(function(){Tf(u)}))},b.Bb=function(){var n=this;return Us(this,this.h.then(function(){return n.b&&Yf(n.b.b),Jr(n)?(Ad(n,null),uh(n.i).then(function(){Tf(n)})):qn()}))},b.Zc=function(){var n=this;return Rg(this.i,Zo(this).options.authDomain).then(function(u){if(!n.l){var m;if(m=Jr(n)&&u){m=Jr(n).uid;var T=u.uid;m=null!=m&&""!==m&&null!=T&&""!==T&&m==T}if(m)return Td(Jr(n),u),Jr(n).I();(Jr(n)||u)&&(Ad(n,u),u&&(Ef(u),u.ha=n.D),n.b&&Kf(n.b,n),Tf(n))}})},b.da=function(n){return Dg(this.i,n)},b.mc=function(){Tf(this),this.da(Jr(this))},b.wc=function(){this.Bb()},b.xc=function(){this.Bb()},b.kc=function(n){var u=this;return this.h.then(function(){return wl(u,qn(n))})},b.zc=function(n){var u=this;this.addAuthTokenListener(function(){n.next(Jr(u))})},b.Ac=function(n){var u=this;!function(n,u){n.N.push(u),Us(n,n.h.then(function(){!n.l&&Ct(n.N,u)&&n.W!==n.getUid()&&(n.W=n.getUid(),u(od(n)))}))}(this,function(){n.next(Jr(u))})},b.Ic=function(n,u,m){var T=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof n?n(Jr(T)):"function"==typeof n.next&&n.next(Jr(T))}),this.Pa(n,u,m)},b.Hc=function(n,u,m){var T=this;return this.ba&&Promise.resolve().then(function(){T.W=T.getUid(),"function"==typeof n?n(Jr(T)):"function"==typeof n.next&&n.next(Jr(T))}),this.ib(n,u,m)},b.nc=function(n){var u=this;return Us(this,this.h.then(function(){return Jr(u)?Jr(u).I(n).then(function(T){return{accessToken:T}}):null}))},b.Tc=function(n){var u=this;return this.h.then(function(){return wl(u,ui(u.a,Hf,{token:n}))}).then(function(m){var T=m.user;return qc(T,"isAnonymous",!1),u.da(T),m})},b.Uc=function(n,u){var m=this;return this.h.then(function(){return wl(m,ui(m.a,Wl,{email:n,password:u}))})},b.dc=function(n,u){var m=this;return this.h.then(function(){return wl(m,ui(m.a,hl,{email:n,password:u}))})},b.ab=function(n){var u=this;return this.h.then(function(){return wl(u,n.ka(u.a))})},b.Sc=function(n){return ut("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(n)},b.Ab=function(){var n=this;return this.h.then(function(){var u=Jr(n);if(u&&u.isAnonymous){var m=pi({providerId:null,isNewUser:!1});return pi({user:u,credential:null,additionalUserInfo:m,operationType:"signIn"})}return wl(n,n.a.Ab()).then(function(T){var H=T.user;return qc(H,"isAnonymous",!0),n.da(H),T})})},b.getUid=function(){return Jr(this)&&Jr(this).uid||null},b.cc=function(n){this.addAuthTokenListener(n),this.u++,0<this.u&&Jr(this)&&Pm(Jr(this))},b.Pc=function(n){var u=this;jt(this.s,function(m){m==n&&u.u--}),0>this.u&&(this.u=0),0==this.u&&Jr(this)&&nh(Jr(this)),this.removeAuthTokenListener(n)},b.addAuthTokenListener=function(n){var u=this;this.s.push(n),Us(this,this.h.then(function(){u.l||Ct(u.s,n)&&n(od(u))}))},b.removeAuthTokenListener=function(n){qe(this.s,function(u){return u==n})},b.delete=function(){this.l=!0;for(var n=0;n<this.P.length;n++)this.P[n].cancel("app-deleted");return this.P=[],this.i&&(n=this.i).b.removeListener($c("local"),n.a,this.ja),this.b&&(tp(this.b,this),Yf(this.b.b)),Promise.resolve()},b.hc=function(n){return Us(this,function(n,u){return ui(n,Lf,{identifier:u,continueUri:Sa()?Qi():"http://localhost"}).then(function(m){return m.signinMethods||[]})}(this.a,n))},b.Bc=function(n){return!!ga(n)},b.xb=function(n,u){var m=this;return Us(this,qn().then(function(){var T=new oa(u);if(!T.c)throw new ce("argument-error",Wu+" must be true when sending sign in link to email");return ps(T)}).then(function(T){return m.a.xb(n,T)}).then(function(){}))},b.jd=function(n){return this.Sa(n).then(function(u){return u.data.email})},b.ob=function(n,u){return Us(this,this.a.ob(n,u).then(function(){}))},b.Sa=function(n){return Us(this,this.a.Sa(n).then(function(u){return new ns(u)}))},b.kb=function(n){return Us(this,this.a.kb(n).then(function(){}))},b.wb=function(n,u){var m=this;return Us(this,qn().then(function(){return void 0===u||et(u)?{}:ps(new oa(u))}).then(function(T){return m.a.wb(n,T)}).then(function(){}))},b.Wc=function(n,u){return Us(this,Qf(this,n,u,tn(this.ab,this)))},b.Vc=function(n,u){var m=this;return Us(this,qn().then(function(){var T=u||Qi(),H=pa(n,T);if(!(T=ga(T)))throw new ce("argument-error","Invalid email link!");if(T.tenantId!==m.T())throw new ce("tenant-id-mismatch");return m.ab(H)}))},Sd.prototype.render=function(){},Sd.prototype.reset=function(){},Sd.prototype.getResponse=function(){},Sd.prototype.execute=function(){};var ch=null;function lh(n,u){return(u=Ep(u))&&n.a[u]||null}function Ep(n){return(n=void 0===n?1e12:n)?n.toString():null}function fh(n,u){this.g=!1,this.c=u,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ir(n);var m=this;this.i=function(){m.execute()},this.h?this.execute():Qr(this.f,"click",this.i)}function Cp(n){if(n.g)throw Error("reCAPTCHA mock was already deleted!")}function Af(){}function Dd(){}If.prototype.render=function(n,u){return this.a[this.b.toString()]=new fh(n,u),this.b++},If.prototype.reset=function(n){var u=lh(this,n);n=Ep(n),u&&n&&(u.delete(),delete this.a[n])},If.prototype.getResponse=function(n){return(n=lh(this,n))?n.getResponse():null},If.prototype.execute=function(n){(n=lh(this,n))&&n.execute()},fh.prototype.getResponse=function(){return Cp(this),this.b},fh.prototype.execute=function(){Cp(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var n=50,u=[];0<n;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),n--;return u.join("")}();var u=n.c.callback,m=n.c["expired-callback"];if(u)try{u(n.b)}catch(T){}n.a=setTimeout(function(){if(n.a=null,n.b=null,m)try{m()}catch(T){}n.h&&n.execute()},6e4)},500))},fh.prototype.delete=function(){Cp(this),this.g=!0,clearTimeout(this.a),this.a=null,Fi(this.f,"click",this.i)},Xt(Af,"FACTOR_ID","phone"),Dd.prototype.g=function(){return ch||(ch=new If),qn(ch)},Dd.prototype.c=function(){};var dh=null;function hh(){this.b=k.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Og=new Qe(Ht,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Pg=new ba(3e4,6e4);hh.prototype.g=function(n){var u=this;return new Yn(function(m,T){var H=setTimeout(function(){T(new ce("network-request-failed"))},Pg.get());!k.grecaptcha||n!==u.f&&!u.b?(k[u.a]=function(){if(k.grecaptcha){u.f=n;var ve=k.grecaptcha.render;k.grecaptcha.render=function(Ze,Qt){return Ze=ve(Ze,Qt),u.b++,Ze},clearTimeout(H),m(k.grecaptcha)}else clearTimeout(H),T(new ce("internal-error"));delete k[u.a]},qn(al(Lr(Og,{onload:u.a,hl:n||""}))).o(function(){clearTimeout(H),T(new ce("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(H),m(k.grecaptcha))})},hh.prototype.c=function(){this.b--};var Tp=null;function Ip(n,u,m,T,H,ue,ve){if(Xt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,ve?(dh||(dh=new Dd),ve=dh):(Tp||(Tp=new hh),ve=Tp),this.m=ve,this.a=m||{theme:"light",type:"image"},this.h=[],this.a[Ap])throw new ce("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xy],!k.document)throw new ce("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ir(u)||!this.i&&ir(u).hasChildNodes())throw new ce("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ma(n,ue||null,H||null),this.u=T||function(){return null};var Ze=this;this.l=[];var Qt=this.a[cu];this.a[cu]=function(ni){if(Fg(Ze,ni),"function"==typeof Qt)Qt(ni);else if("string"==typeof Qt){var Xi=oo(Qt,k);"function"==typeof Xi&&Xi(ni)}};var En=this.a[kg];this.a[kg]=function(){if(Fg(Ze,null),"function"==typeof En)En();else if("string"==typeof En){var ni=oo(En,k);"function"==typeof ni&&ni()}}}var cu="callback",kg="expired-callback",Ap="sitekey",xy="size";function Fg(n,u){for(var m=0;m<n.l.length;m++)try{n.l[m](u)}catch(T){}}function Sp(n,u){return n.h.push(u),u.oa(function(){He(n.h,u)}),u}function ph(n){if(n.J)throw new ce("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vg(n,u,m){var T=!1;try{this.b=m||E.default.app()}catch(ve){throw new ce("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ce("invalid-api-key");m=this.b.options.apiKey;var H=this,ue=null;try{ue=this.b.auth().Ga()}catch(ve){}try{T=this.b.auth().settings.appVerificationDisabledForTesting}catch(ve){}ue=E.default.SDK_VERSION?_a(E.default.SDK_VERSION,ue):null,Ip.call(this,m,n,u,function(){try{var ve=H.b.auth().la()}catch(Ze){ve=null}return ve},ue,Ut(yn),T)}function Bm(n,u,m,T){e:{m=Array.prototype.slice.call(m);for(var H=0,ue=!1,ve=0;ve<u.length;ve++)if(u[ve].optional)ue=!0;else{if(ue)throw new ce("internal-error","Argument validator encountered a required argument after an optional argument.");H++}if(ue=u.length,m.length<H||ue<m.length)T="Expected "+(H==ue?1==H?"1 argument":H+" arguments":H+"-"+ue+" arguments")+" but got "+m.length+".";else{for(H=0;H<m.length;H++)if(ue=u[H].optional&&void 0===m[H],!u[H].M(m[H])&&!ue){if(u=u[H],0>H||H>=gh.length)throw new ce("internal-error","Argument validator received an unsupported number of arguments.");m=gh[H],T=(T?"":m+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}T=null}}if(T)throw new ce("argument-error",n+" failed: "+T)}(b=Ip.prototype).Ia=function(){var n=this;return this.f?this.f:this.f=Sp(this,qn().then(function(){if(Sa()&&!Vt())return A();throw new ce("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return n.m.g(n.u())}).then(function(u){return n.g=u,ui(n.s,vd,{})}).then(function(u){n.a[Ap]=u.recaptchaSiteKey}).o(function(u){throw n.f=null,u}))},b.render=function(){ph(this);var n=this;return Sp(this,this.Ia().then(function(){if(null===n.c){var u=n.v;if(!n.i){var m=ir(u);u=function(n,u,m){var T=arguments,H=document,ue=String(T[0]),ve=T[1];if(!zr&&ve&&(ve.name||ve.type)){if(ue=["<",ue],ve.name&&ue.push(' name="',Vn(ve.name),'"'),ve.type){ue.push(' type="',Vn(ve.type),'"');var Ze={};Se(Ze,ve),delete Ze.type,ve=Ze}ue.push(">"),ue=ue.join("")}return ue=mi(H,ue),ve&&("string"==typeof ve?ue.className=ve:Array.isArray(ve)?ue.className=ve.join(" "):ii(ue,ve)),2<T.length&&Hr(H,ue,T),ue}("DIV"),m.appendChild(u)}n.c=n.g.render(u,n.a)}return n.c}))},b.verify=function(){ph(this);var n=this;return Sp(this,this.render().then(function(u){return new Yn(function(m){var T=n.g.getResponse(u);if(T)m(T);else{var H=function(ue){ue&&(function(n,u){qe(n.l,function(m){return m==u})}(n,H),m(ue))};n.l.push(H),n.i&&n.g.execute(n.c)}})}))},b.reset=function(){ph(this),null!==this.c&&this.g.reset(this.c)},b.clear=function(){ph(this),this.J=!0,this.m.c();for(var n=0;n<this.h.length;n++)this.h[n].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){n=ir(this.v);for(var u;u=n.firstChild;)n.removeChild(u)}},ke(Vg,Ip);var gh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function dr(n,u){return{name:n||"",K:"a valid string",optional:!!u,M:function(m){return"string"==typeof m}}}function mh(n,u){return{name:n||"",K:"a boolean",optional:!!u,M:function(m){return"boolean"==typeof m}}}function Zs(n,u){return{name:n||"",K:"a valid object",optional:!!u,M:Me}}function Rd(n,u){return{name:n||"",K:"a function",optional:!!u,M:function(m){return"function"==typeof m}}}function va(n,u){return{name:n||"",K:"null",optional:!!u,M:function(m){return null===m}}}function bl(n){return{name:n?n+"Credential":"credential",K:n?"a valid "+n+" credential":"a valid credential",optional:!1,M:function(u){return!!u&&!(!u.ka||n&&u.providerId!==n)}}}function Rp(n,u){return Me(n)&&"string"==typeof n.type&&n.type===u&&"function"==typeof n.Ha}function Hm(n){return Me(n)&&"string"==typeof n.uid}function Ss(n,u,m,T){return{name:m||"",K:n.K+" or "+u.K,optional:!!T,M:function(H){return n.M(H)||u.M(H)}}}function Ds(n,u){for(var m in u){var T=u[m].name;n[T]=Ug(T,n[m],u[m].j)}}function vh(n,u){for(var m in u){var T=u[m].name;T!==m&&Object.defineProperty(n,T,{get:xn(function(H){return this[H]},m),set:xn(function(H,ue,ve,Ze){Bm(H,[ve],[Ze],!0),this[ue]=Ze},T,m,u[m].lb),enumerable:!0})}}function Qs(n,u,m,T){n[u]=Ug(u,m,T)}function Ug(n,u,m){function T(){var ve=Array.prototype.slice.call(arguments);return Bm(H,m,ve),u.apply(this,ve)}if(!m)return u;var ue,H=function(n){return(n=n.split("."))[n.length-1]}(n);for(ue in u)T[ue]=u[ue];for(ue in u.prototype)T.prototype[ue]=u.prototype[ue];return T}Ds(cc.prototype,{kb:{name:"applyActionCode",j:[dr("code")]},Sa:{name:"checkActionCode",j:[dr("code")]},ob:{name:"confirmPasswordReset",j:[dr("code"),dr("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[dr("email"),dr("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[dr("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[dr("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ss(Zs(),Rd(),"nextOrObserver"),Rd("opt_error",!0),Rd("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ss(Zs(),Rd(),"nextOrObserver"),Rd("opt_error",!0),Rd("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[dr("email"),Ss(Zs("opt_actionCodeSettings",!0),va(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[dr("email"),Zs("actionCodeSettings")]},yb:{name:"setPersistence",j:[dr("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[bl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[bl()]},Tc:{name:"signInWithCustomToken",j:[dr("token")]},Uc:{name:"signInWithEmailAndPassword",j:[dr("email"),dr("password")]},Vc:{name:"signInWithEmailLink",j:[dr("email"),dr("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[dr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Ss({name:"user",K:"an instance of Firebase User",optional:!1,M:function(u){return!!(u&&u instanceof Uu)}},va(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[dr(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[dr("url"),Zs("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[dr("code")]}}),vh(cc.prototype,{lc:{name:"languageCode",lb:Ss(dr(),va(),"languageCode")},ti:{name:"tenantId",lb:Ss(dr(),va(),"tenantId")}}),(cc.Persistence=Yr).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",Ds(Uu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[mh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[mh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[bl()]},rb:{name:"linkWithCredential",j:[bl()]},Dc:{name:"linkWithPhoneNumber",j:[dr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[bl()]},ub:{name:"reauthenticateWithCredential",j:[bl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[dr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ss(Zs("opt_actionCodeSettings",!0),va(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[dr(null,!0)]},cd:{name:"unlink",j:[dr("provider")]},Cb:{name:"updateEmail",j:[dr("email")]},Db:{name:"updatePassword",j:[dr("password")]},ed:{name:"updatePhoneNumber",j:[bl("phone")]},Eb:{name:"updateProfile",j:[Zs("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[dr("email"),Ss(Zs("opt_actionCodeSettings",!0),va(null,!0),"opt_actionCodeSettings",!0)]}}),Ds(If.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ds(Sd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ds(Yn.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),vh(Kd.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:mh("appVerificationDisabledForTesting")}}),Ds(Yd.prototype,{confirm:{name:"confirm",j:[dr("verificationCode")]}}),Qs(Ma,"fromJSON",function(n){n="string"==typeof n?JSON.parse(n):n;for(var u,m=[ae,ks,Es,M],T=0;T<m.length;T++)if(u=m[T](n))return u;return null},[Ss(dr(),Zs(),"json")]),Qs(po,"credential",function(n,u){return new Ao(n,u)},[dr("email"),dr("password")]),Ds(Ao.prototype,{w:{name:"toJSON",j:[dr(null,!0)]}}),Ds(ft.prototype,{Ca:{name:"addScope",j:[dr("scope")]},Ka:{name:"setCustomParameters",j:[Zs("customOAuthParameters")]}}),Qs(ft,"credential",Wt,[Ss(dr(),Zs(),"token")]),Qs(po,"credentialWithLink",pa,[dr("email"),dr("emailLink")]),Ds(en.prototype,{Ca:{name:"addScope",j:[dr("scope")]},Ka:{name:"setCustomParameters",j:[Zs("customOAuthParameters")]}}),Qs(en,"credential",wn,[Ss(dr(),Zs(),"token")]),Ds(ar.prototype,{Ca:{name:"addScope",j:[dr("scope")]},Ka:{name:"setCustomParameters",j:[Zs("customOAuthParameters")]}}),Qs(ar,"credential",Ur,[Ss(dr(),Ss(Zs(),va()),"idToken"),Ss(dr(),va(),"accessToken",!0)]),Ds(Si.prototype,{Ka:{name:"setCustomParameters",j:[Zs("customOAuthParameters")]}}),Qs(Si,"credential",gi,[Ss(dr(),Zs(),"token"),dr("secret",!0)]),Ds(ct.prototype,{Ca:{name:"addScope",j:[dr("scope")]},credential:{name:"credential",j:[Ss(dr(),Ss(Zs(),va()),"optionsOrIdToken"),Ss(dr(),va(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Zs("customOAuthParameters")]}}),Ds(N.prototype,{w:{name:"toJSON",j:[dr(null,!0)]}}),Ds(ja.prototype,{w:{name:"toJSON",j:[dr(null,!0)]}}),Qs(No,"credential",Zu,[dr("verificationId"),dr("verificationCode")]),Ds(No.prototype,{gb:{name:"verifyPhoneNumber",j:[Ss(dr(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(m){return!!m&&(m.session&&m.phoneNumber?Rp(m.session,$s)&&"string"==typeof m.phoneNumber:m.session&&m.multiFactorHint?Rp(m.session,is)&&Hm(m.multiFactorHint):m.session&&m.multiFactorUid?Rp(m.session,is)&&"string"==typeof m.multiFactorUid:!!m.phoneNumber&&"string"==typeof m.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]}}),Ds(zs.prototype,{w:{name:"toJSON",j:[dr(null,!0)]}}),Ds(ce.prototype,{toJSON:{name:"toJSON",j:[dr(null,!0)]}}),Ds(xc.prototype,{toJSON:{name:"toJSON",j:[dr(null,!0)]}}),Ds(rl.prototype,{toJSON:{name:"toJSON",j:[dr(null,!0)]}}),Ds(Qd.prototype,{toJSON:{name:"toJSON",j:[dr(null,!0)]}}),Ds(Zd.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(n){return!!n&&!!n.tb}}]}}),Ds(yg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(n){return!!n&&!!n.tb}},dr("displayName",!0)]},bd:{name:"unenroll",j:[Ss({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Hm},dr(),"multiFactorInfoIdentifier")]}}),Ds(Vg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qs(dc,"parseLink",Xc,[dr("link")]),Qs(Af,"assertion",function(n){return new vg(n)},[bl("phone")]),function(){if(void 0===E.default||!E.default.INTERNAL||!E.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var n={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jo,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Hu,VERIFY_AND_CHANGE_EMAIL:ia,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:Ma,Error:ce};Qs(n,"EmailAuthProvider",po,[]),Qs(n,"FacebookAuthProvider",ft,[]),Qs(n,"GithubAuthProvider",en,[]),Qs(n,"GoogleAuthProvider",ar,[]),Qs(n,"TwitterAuthProvider",Si,[]),Qs(n,"OAuthProvider",ct,[dr("providerId")]),Qs(n,"SAMLAuthProvider",Oe,[dr("providerId")]),Qs(n,"PhoneAuthProvider",No,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(n){return!!(n&&n instanceof cc)}}]),Qs(n,"RecaptchaVerifier",Vg,[Ss(dr(),{name:"",K:"an HTML element",optional:!1,M:function(n){return!!(n&&n instanceof Element)}},"recaptchaContainer"),Zs("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(n){return!!(n&&n instanceof E.default.app.App)}}]),Qs(n,"ActionCodeURL",dc,[]),Qs(n,"PhoneMultiFactorGenerator",Af,[]),E.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return new cc(u=u.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:n,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),E.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return{getUid:tn((u=u.getProvider("auth").getImmediate()).getUid,u),getToken:tn(u.nc,u),addAuthTokenListener:tn(u.cc,u),removeAuthTokenListener:tn(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),E.default.registerVersion("@firebase/auth","0.16.8"),E.default.INTERNAL.extendNamespace({User:Uu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},6034:(Mn,Dt,ie)=>{"use strict";ie.r(Dt),ie.d(Dt,{Component:()=>j,ComponentContainer:()=>Je,Provider:()=>Pe});var E=ie(4762),b=ie(4685),j=function(){function Fe(k,Re,Ye){this.name=k,this.instanceFactory=Re,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Fe.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Fe.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Fe.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Fe.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Fe}(),L="[DEFAULT]",Pe=function(){function Fe(k,Re){this.name=k,this.container=Re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Fe.prototype.get=function(k){var Re=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(Re)){var Ye=new b.Deferred;if(this.instancesDeferred.set(Re,Ye),this.isInitialized(Re)||this.shouldAutoInitialize())try{var xe=this.getOrInitializeService({instanceIdentifier:Re});xe&&Ye.resolve(xe)}catch(De){}}return this.instancesDeferred.get(Re).promise},Fe.prototype.getImmediate=function(k){var Re,Ye=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),xe=null!==(Re=null==k?void 0:k.optional)&&void 0!==Re&&Re;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(De){if(xe)return null;throw De}},Fe.prototype.getComponent=function(){return this.component},Fe.prototype.setComponent=function(k){var Re,Ye;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Fe){return"EAGER"===Fe.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:L})}catch(at){}try{for(var xe=(0,E.__values)(this.instancesDeferred.entries()),De=xe.next();!De.done;De=xe.next()){var st=(0,E.__read)(De.value,2),nt=st[1],Me=this.normalizeInstanceIdentifier(st[0]);try{var Ve=this.getOrInitializeService({instanceIdentifier:Me});nt.resolve(Ve)}catch(at){}}}catch(at){Re={error:at}}finally{try{De&&!De.done&&(Ye=xe.return)&&Ye.call(xe)}finally{if(Re)throw Re.error}}}},Fe.prototype.clearInstance=function(k){void 0===k&&(k=L),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Fe.prototype.delete=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var k;return(0,E.__generator)(this,function(Re){switch(Re.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,E.__spreadArray)((0,E.__spreadArray)([],(0,E.__read)(k.filter(function(Ye){return"INTERNAL"in Ye}).map(function(Ye){return Ye.INTERNAL.delete()}))),(0,E.__read)(k.filter(function(Ye){return"_delete"in Ye}).map(function(Ye){return Ye._delete()}))))];case 1:return Re.sent(),[2]}})})},Fe.prototype.isComponentSet=function(){return null!=this.component},Fe.prototype.isInitialized=function(k){return void 0===k&&(k=L),this.instances.has(k)},Fe.prototype.getOptions=function(k){return void 0===k&&(k=L),this.instancesOptions.get(k)||{}},Fe.prototype.initialize=function(k){var Re,Ye;void 0===k&&(k={});var xe=k.options,De=void 0===xe?{}:xe,st=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(st))throw Error(this.name+"("+st+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var je=this.getOrInitializeService({instanceIdentifier:st,options:De});try{for(var nt=(0,E.__values)(this.instancesDeferred.entries()),Me=nt.next();!Me.done;Me=nt.next()){var Ve=(0,E.__read)(Me.value,2),At=Ve[1];st===this.normalizeInstanceIdentifier(Ve[0])&&At.resolve(je)}}catch(bt){Re={error:bt}}finally{try{Me&&!Me.done&&(Ye=nt.return)&&Ye.call(nt)}finally{if(Re)throw Re.error}}return je},Fe.prototype.onInit=function(k,Re){var Ye,xe=this.normalizeInstanceIdentifier(Re),De=null!==(Ye=this.onInitCallbacks.get(xe))&&void 0!==Ye?Ye:new Set;De.add(k),this.onInitCallbacks.set(xe,De);var st=this.instances.get(xe);return st&&k(st,xe),function(){De.delete(k)}},Fe.prototype.invokeOnInitCallbacks=function(k,Re){var Ye,xe,De=this.onInitCallbacks.get(Re);if(De)try{for(var st=(0,E.__values)(De),je=st.next();!je.done;je=st.next()){var nt=je.value;try{nt(k,Re)}catch(Me){}}}catch(Me){Ye={error:Me}}finally{try{je&&!je.done&&(xe=st.return)&&xe.call(st)}finally{if(Ye)throw Ye.error}}},Fe.prototype.getOrInitializeService=function(k){var Re=k.instanceIdentifier,Ye=k.options,xe=void 0===Ye?{}:Ye,De=this.instances.get(Re);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:le(Re),options:xe}),this.instances.set(Re,De),this.instancesOptions.set(Re,xe),this.invokeOnInitCallbacks(De,Re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Re,De)}catch(st){}return De||null},Fe.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=L),this.component?this.component.multipleInstances?k:L:k},Fe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Fe}();function le(Fe){return Fe===L?void 0:Fe}var Je=function(){function Fe(k){this.name=k,this.providers=new Map}return Fe.prototype.addComponent=function(k){var Re=this.getProvider(k.name);if(Re.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);Re.setComponent(k)},Fe.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Fe.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var Re=new Pe(k,this);return this.providers.set(k,Re),Re},Fe.prototype.getProviders=function(){return Array.from(this.providers.values())},Fe}()},9192:(Mn,Dt,ie)=>{"use strict";var E=ie(9759),b=ie(6034),j=ie(4685),L=ie(4762),Pe=ie(300);Mn=ie.hmd(Mn);var Je="";function Fe(f){Je=f}var f,k=function(){function f(l){this.domStorage_=l,this.prefix_="firebase:"}return f.prototype.set=function(l,h){null==h?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,j.stringify)(h))},f.prototype.get=function(l){var h=this.domStorage_.getItem(this.prefixedName_(l));return null==h?null:(0,j.jsonEval)(h)},f.prototype.remove=function(l){this.domStorage_.removeItem(this.prefixedName_(l))},f.prototype.prefixedName_=function(l){return this.prefix_+l},f.prototype.toString=function(){return this.domStorage_.toString()},f}(),Re=function(){function f(){this.cache_={},this.isInMemoryStorage=!0}return f.prototype.set=function(l,h){null==h?delete this.cache_[l]:this.cache_[l]=h},f.prototype.get=function(l){return(0,j.contains)(this.cache_,l)?this.cache_[l]:null},f.prototype.remove=function(l){delete this.cache_[l]},f}(),Ye=function(f){try{if("undefined"!=typeof window&&void 0!==window[f]){var l=window[f];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new k(l)}}catch(h){}return new Re},xe=Ye("localStorage"),De=Ye("sessionStorage"),st=new Pe.Logger("@firebase/database"),je=(f=1,function(){return f++}),nt=function(f){var l=(0,j.stringToByteArray)(f),h=new j.Sha1;h.update(l);var v=h.digest();return j.base64.encodeByteArray(v)},Me=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var h="",v=0;v<f.length;v++){var I=f[v];Array.isArray(I)||I&&"object"==typeof I&&"number"==typeof I.length?h+=Me.apply(null,I):h+="object"==typeof I?(0,j.stringify)(I):I,h+=" "}return h},Ve=null,at=!0,At=function(f,l){(0,j.assert)(!l||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(st.logLevel=Pe.LogLevel.VERBOSE,Ve=st.log.bind(st),l&&De.set("logging_enabled",!0)):"function"==typeof f?Ve=f:(Ve=null,De.remove("logging_enabled"))},It=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];if(!0===at&&(at=!1,null===Ve&&!0===De.get("logging_enabled")&&At(!0)),Ve){var h=Me.apply(null,f);Ve(h)}},bt=function(f){return function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];It.apply(void 0,(0,L.__spreadArray)([f],(0,L.__read)(l)))}},tn=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var h="FIREBASE INTERNAL ERROR: "+Me.apply(void 0,(0,L.__spreadArray)([],(0,L.__read)(f)));st.error(h)},xn=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var h="FIREBASE FATAL ERROR: "+Me.apply(void 0,(0,L.__spreadArray)([],(0,L.__read)(f)));throw st.error(h),new Error(h)},Wn=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var h="FIREBASE WARNING: "+Me.apply(void 0,(0,L.__spreadArray)([],(0,L.__read)(f)));st.warn(h)},$e=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},rt="[MIN_NAME]",_t="[MAX_NAME]",lt=function(f,l){if(f===l)return 0;if(f===rt||l===_t)return-1;if(l===rt||f===_t)return 1;var h=Rt(f),v=Rt(l);return null!==h?null!==v?h-v==0?f.length-l.length:h-v:-1:null!==v?1:f<l?-1:1},qt=function(f,l){return f===l?0:f<l?-1:1},Ut=function(f,l){if(l&&f in l)return l[f];throw new Error("Missing required key ("+f+") in object: "+(0,j.stringify)(l))},yn=function(f){if("object"!=typeof f||null===f)return(0,j.stringify)(f);var l=[];for(var h in f)l.push(h);l.sort();for(var v="{",I=0;I<l.length;I++)0!==I&&(v+=","),v+=(0,j.stringify)(l[I]),v+=":",v+=yn(f[l[I]]);return v+"}"},un=function(f,l){var h=f.length;if(h<=l)return[f];for(var v=[],I=0;I<h;I+=l)v.push(f.substring(I,I+l>h?h:I+l));return v};function fn(f,l){for(var h in f)f.hasOwnProperty(h)&&l(h,f[h])}var dn=function(f){(0,j.assert)(!$e(f),"Invalid JSON number");var I,B,J,be,Ae,v=1023;0===f?(B=0,J=0,I=1/f==-1/0?1:0):(I=f<0,(f=Math.abs(f))>=Math.pow(2,1-v)?(B=(be=Math.min(Math.floor(Math.log(f)/Math.LN2),v))+v,J=Math.round(f*Math.pow(2,52-be)-Math.pow(2,52))):(B=0,J=Math.round(f/Math.pow(2,-1074))));var Be=[];for(Ae=52;Ae;Ae-=1)Be.push(J%2?1:0),J=Math.floor(J/2);for(Ae=11;Ae;Ae-=1)Be.push(B%2?1:0),B=Math.floor(B/2);Be.push(I?1:0),Be.reverse();var Xe=Be.join(""),Ot="";for(Ae=0;Ae<64;Ae+=8){var zt=parseInt(Xe.substr(Ae,8),2).toString(16);1===zt.length&&(zt="0"+zt),Ot+=zt}return Ot.toLowerCase()},vn=new RegExp("^-?(0*)\\d{1,10}$"),vt=-2147483648,Et=2147483647,Rt=function(f){if(vn.test(f)){var l=Number(f);if(l>=vt&&l<=Et)return l}return null},hn=function(f){try{f()}catch(l){setTimeout(function(){throw Wn("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Un=function(f,l){var h=setTimeout(f,l);return"object"==typeof h&&h.unref&&h.unref(),h},Gn=function(){function f(l,h){var v=this;this.appName_=l,this.appCheckProvider=h,this.appCheck=null==h?void 0:h.getImmediate({optional:!0}),this.appCheck||null==h||h.get().then(function(I){return v.appCheck=I})}return f.prototype.getToken=function(l){var h=this;return this.appCheck?this.appCheck.getToken(l):new Promise(function(v,I){setTimeout(function(){h.appCheck?h.getToken(l).then(v,I):v(null)},0)})},f.prototype.addTokenChangeListener=function(l){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(function(v){return v.addTokenListener(l)})},f.prototype.notifyForInvalidToken=function(){Wn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},f}(),bn=function(){function f(l,h,v){var I=this;this.appName_=l,this.firebaseOptions_=h,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(function(B){return I.auth_=B})}return f.prototype.getToken=function(l){var h=this;return this.auth_?this.auth_.getToken(l).catch(function(v){return v&&"auth/token-not-initialized"===v.code?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(v)}):new Promise(function(v,I){setTimeout(function(){h.auth_?h.getToken(l).then(v,I):v(null)},0)})},f.prototype.addTokenChangeListener=function(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(function(h){return h.addAuthTokenListener(l)})},f.prototype.removeTokenChangeListener=function(l){this.authProvider_.get().then(function(h){return h.removeAuthTokenListener(l)})},f.prototype.notifyForInvalidToken=function(){var l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Wn(l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},f}(),kn=function(){function f(l){this.accessToken=l}return f.prototype.getToken=function(l){return Promise.resolve({accessToken:this.accessToken})},f.prototype.addTokenChangeListener=function(l){l(this.accessToken)},f.prototype.removeTokenChangeListener=function(l){},f.prototype.notifyForInvalidToken=function(){},f.OWNER="owner",f}(),Tt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pt="websocket",ln="long_polling",wt=function(){function f(l,h,v,I,B,J,be){void 0===B&&(B=!1),void 0===J&&(J=""),void 0===be&&(be=!1),this.secure=h,this.namespace=v,this.webSocketOnly=I,this.nodeAdmin=B,this.persistenceKey=J,this.includeNamespaceInQueryParams=be,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xe.get("host:"+l)||this._host}return f.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},f.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(f.prototype,"host",{get:function(){return this._host},set:function(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&xe.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),f.prototype.toString=function(){var l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l},f.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},f}();function Yt(f,l,h){var v;if((0,j.assert)("string"==typeof l,"typeof type must == string"),(0,j.assert)("object"==typeof h,"typeof params must == object"),l===pt)v=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(l!==ln)throw new Error("Unknown connection type: "+l);v=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(h.ns=f.namespace);var I=[];return fn(h,function(B,J){I.push(B+"="+J)}),v+I.join("&")}var Bt=function(){function f(){this.counters_={}}return f.prototype.incrementCounter=function(l,h){void 0===h&&(h=1),(0,j.contains)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=h},f.prototype.get=function(){return(0,j.deepCopy)(this.counters_)},f}(),or={},Ar={};function tr(f){var l=f.toString();return or[l]||(or[l]=new Bt),or[l]}var Fr=function(){function f(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return f.prototype.closeAfter=function(l,h){this.closeAfterResponse=l,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},f.prototype.handleResponse=function(l,h){var v=this;this.pendingResponses[l]=h;for(var I=function(){var be=B.pendingResponses[B.currentResponseNum];delete B.pendingResponses[B.currentResponseNum];for(var Ae=function(Xe){be[Xe]&&hn(function(){v.onMessage_(be[Xe])})},Be=0;Be<be.length;++Be)Ae(Be);if(B.currentResponseNum===B.closeAfterResponse)return B.onClose&&(B.onClose(),B.onClose=null),"break";B.currentResponseNum++},B=this;this.pendingResponses[this.currentResponseNum]&&"break"!==I(););},f}(),Wr=function(){function f(l,h,v,I,B,J,be){var Ae=this;this.connId=l,this.repoInfo=h,this.applicationId=v,this.appCheckToken=I,this.authToken=B,this.transportSessionId=J,this.lastSessionId=be,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bt(l),this.stats_=tr(h),this.urlFn=function(Be){return Ae.appCheckToken&&(Be.ac=Ae.appCheckToken),Yt(h,ln,Be)}}return f.prototype.open=function(l,h){var v=this;this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new Fr(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){v.log_("Timed out trying to connect."),v.onClosed_(),v.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,j.isNodeSdk)()||"complete"===document.readyState)f();else{var l=!1,h=function(){document.body?l||(l=!0,f()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(function(){if(!v.isClosed_){v.scriptTagHolder=new Sr(function(){for(var J=[],be=0;be<arguments.length;be++)J[be]=arguments[be];var Ae=(0,L.__read)(J,5),Be=Ae[0],Xe=Ae[1],Ot=Ae[2];if(v.incrementIncomingBytes_(J),v.scriptTagHolder)if(v.connectTimeoutTimer_&&(clearTimeout(v.connectTimeoutTimer_),v.connectTimeoutTimer_=null),v.everConnected_=!0,"start"===Be)v.id=Xe,v.password=Ot;else{if("close"!==Be)throw new Error("Unrecognized command received: "+Be);Xe?(v.scriptTagHolder.sendNewPolls=!1,v.myPacketOrderer.closeAfter(Xe,function(){v.onClosed_()})):v.onClosed_()}},function(){for(var J=[],be=0;be<arguments.length;be++)J[be]=arguments[be];var Ae=(0,L.__read)(J,2),Be=Ae[0],Xe=Ae[1];v.incrementIncomingBytes_(J),v.myPacketOrderer.handleResponse(Be,Xe)},function(){v.onClosed_()},v.urlFn);var I={start:"t"};I.ser=Math.floor(1e8*Math.random()),v.scriptTagHolder.uniqueCallbackIdentifier&&(I.cb=v.scriptTagHolder.uniqueCallbackIdentifier),I.v="5",v.transportSessionId&&(I.s=v.transportSessionId),v.lastSessionId&&(I.ls=v.lastSessionId),v.applicationId&&(I.p=v.applicationId),v.appCheckToken&&(I.ac=v.appCheckToken),"undefined"!=typeof location&&location.hostname&&Tt.test(location.hostname)&&(I.r="f");var B=v.urlFn(I);v.log_("Connecting via long-poll to "+B),v.scriptTagHolder.addTag(B,function(){})}})},f.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},f.forceAllow=function(){f.forceAllow_=!0},f.forceDisallow=function(){f.forceDisallow_=!0},f.isAvailable=function(){return!((0,j.isNodeSdk)()||!f.forceAllow_&&(f.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},f.prototype.markConnectionHealthy=function(){},f.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},f.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},f.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},f.prototype.send=function(l){var h=(0,j.stringify)(l);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);for(var v=(0,j.base64Encode)(h),I=un(v,1840),B=0;B<I.length;B++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[B]),this.curSegmentNum++},f.prototype.addDisconnectPingFrame=function(l,h){if(!(0,j.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var v={dframe:"t"};v.id=l,v.pw=h,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},f.prototype.incrementIncomingBytes_=function(l){var h=(0,j.stringify)(l).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)},f}(),Sr=function(){function f(l,h,v,I){if(this.onDisconnect=v,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.isNodeSdk)())this.commandCB=l,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=je(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=f.createIFrame_();var B="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(B='<script>document.domain="'+document.domain+'";<\/script>');var be="<html><body>"+B+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(be),this.myIFrame.doc.close()}catch(Ae){It("frame writing exception"),Ae.stack&&It(Ae.stack),It(Ae)}}}return f.createIFrame_=function(){var l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||It("No IE domain setting required")}catch(I){var v=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l},f.prototype.close=function(){var l=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==l.myIFrame&&(document.body.removeChild(l.myIFrame),l.myIFrame=null)},Math.floor(0)));var h=this.onDisconnect;h&&(this.onDisconnect=null,h())},f.prototype.startLongPoll=function(l,h){for(this.myID=l,this.myPW=h,this.alive=!0;this.newRequest_(););},f.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;for(var h=this.urlFn(l),v="",I=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){var J=this.pendingSegs.shift();v=v+"&seg"+I+"="+J.seg+"&ts"+I+"="+J.ts+"&d"+I+"="+J.d,I++}return this.addLongPollTag_(h+=v,this.currentSerial),!0}return!1},f.prototype.enqueueSegment=function(l,h,v){this.pendingSegs.push({seg:l,ts:h,d:v}),this.alive&&this.newRequest_()},f.prototype.addLongPollTag_=function(l,h){var v=this;this.outstandingRequests.add(h);var I=function(){v.outstandingRequests.delete(h),v.newRequest_()},B=setTimeout(I,Math.floor(25e3));this.addTag(l,function(){clearTimeout(B),I()})},f.prototype.addTag=function(l,h){var v=this;(0,j.isNodeSdk)()?this.doNodeLongPoll(l,h):setTimeout(function(){try{if(!v.sendNewPolls)return;var I=v.myIFrame.doc.createElement("script");I.type="text/javascript",I.async=!0,I.src=l,I.onload=I.onreadystatechange=function(){var B=I.readyState;(!B||"loaded"===B||"complete"===B)&&(I.onload=I.onreadystatechange=null,I.parentNode&&I.parentNode.removeChild(I),h())},I.onerror=function(){It("Long-poll script failed to load: "+l),v.sendNewPolls=!1,v.close()},v.myIFrame.doc.body.appendChild(I)}catch(B){}},Math.floor(1))},f}(),rr=null;"undefined"!=typeof MozWebSocket?rr=MozWebSocket:"undefined"!=typeof WebSocket&&(rr=WebSocket);var ri=function(){function f(l,h,v,I,B,J,be){this.connId=l,this.applicationId=v,this.appCheckToken=I,this.authToken=B,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bt(this.connId),this.stats_=tr(h),this.connURL=f.connectionURL_(h,J,be,I),this.nodeAdmin=h.nodeAdmin}return f.connectionURL_=function(l,h,v,I){var B={v:"5"};return!(0,j.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&Tt.test(location.hostname)&&(B.r="f"),h&&(B.s=h),v&&(B.ls=v),I&&(B.ac=I),Yt(l,pt,B)},f.prototype.open=function(l,h){var v=this;this.onDisconnect=h,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xe.set("previous_websocket_failure",!0);try{if((0,j.isNodeSdk)()){var B={headers:{"User-Agent":"Firebase/5/"+Je+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(B.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(B.headers["X-Firebase-AppCheck"]=this.appCheckToken);var J=process.env,be=0===this.connURL.indexOf("wss://")?J.HTTPS_PROXY||J.https_proxy:J.HTTP_PROXY||J.http_proxy;be&&(B.proxy={origin:be}),this.mySock=new rr(this.connURL,[],B)}else this.mySock=new rr(this.connURL,[],B={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Be){this.log_("Error instantiating WebSocket.");var Ae=Be.message||Be.data;return Ae&&this.log_(Ae),void this.onClosed_()}this.mySock.onopen=function(){v.log_("Websocket connected."),v.everConnected_=!0},this.mySock.onclose=function(){v.log_("Websocket connection was disconnected."),v.mySock=null,v.onClosed_()},this.mySock.onmessage=function(Be){v.handleIncomingFrame(Be)},this.mySock.onerror=function(Be){v.log_("WebSocket error.  Closing connection.");var Xe=Be.message||Be.data;Xe&&v.log_(Xe),v.onClosed_()}},f.prototype.start=function(){},f.forceDisallow=function(){f.forceDisallow_=!0},f.isAvailable=function(){var l=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(l=!0)}return!l&&null!==rr&&!f.forceDisallow_},f.previouslyFailed=function(){return xe.isInMemoryStorage||!0===xe.get("previous_websocket_failure")},f.prototype.markConnectionHealthy=function(){xe.remove("previous_websocket_failure")},f.prototype.appendFrame_=function(l){if(this.frames.push(l),this.frames.length===this.totalFrames){var h=this.frames.join("");this.frames=null;var v=(0,j.jsonEval)(h);this.onMessage(v)}},f.prototype.handleNewFrameCount_=function(l){this.totalFrames=l,this.frames=[]},f.prototype.extractFrameCount_=function(l){if((0,j.assert)(null===this.frames,"We already have a frame buffer"),l.length<=6){var h=Number(l);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),l},f.prototype.handleIncomingFrame=function(l){if(null!==this.mySock){var h=l.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{var v=this.extractFrameCount_(h);null!==v&&this.appendFrame_(v)}}},f.prototype.send=function(l){this.resetKeepAlive();var h=(0,j.stringify)(l);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);var v=un(h,16384);v.length>1&&this.sendString_(String(v.length));for(var I=0;I<v.length;I++)this.sendString_(v[I])},f.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},f.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},f.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},f.prototype.resetKeepAlive=function(){var l=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){l.mySock&&l.sendString_("0"),l.resetKeepAlive()},Math.floor(45e3))},f.prototype.sendString_=function(l){try{this.mySock.send(l)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f}(),Oi=function(){function f(l){this.initTransports_(l)}return Object.defineProperty(f,"ALL_TRANSPORTS",{get:function(){return[Wr,ri]},enumerable:!1,configurable:!0}),f.prototype.initTransports_=function(l){var h,v,I=ri&&ri.isAvailable(),B=I&&!ri.previouslyFailed();if(l.webSocketOnly&&(I||Wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),B=!0),B)this.transports_=[ri];else{var J=this.transports_=[];try{for(var be=(0,L.__values)(f.ALL_TRANSPORTS),Ae=be.next();!Ae.done;Ae=be.next()){var Be=Ae.value;Be&&Be.isAvailable()&&J.push(Be)}}catch(Xe){h={error:Xe}}finally{try{Ae&&!Ae.done&&(v=be.return)&&v.call(be)}finally{if(h)throw h.error}}}},f.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},f.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},f}(),$r=function(){function f(l,h,v,I,B,J,be,Ae,Be,Xe){this.id=l,this.repoInfo_=h,this.applicationId_=v,this.appCheckToken_=I,this.authToken_=B,this.onMessage_=J,this.onReady_=be,this.onDisconnect_=Ae,this.onKill_=Be,this.lastSessionId=Xe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bt("c:"+this.id+":"),this.transportManager_=new Oi(h),this.log_("Connection created"),this.start_()}return f.prototype.start_=function(){var l=this,h=this.transportManager_.initialTransport();this.conn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;var v=this.connReceiver_(this.conn_),I=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){l.conn_&&l.conn_.open(v,I)},Math.floor(0));var B=h.healthyTimeout||0;B>0&&(this.healthyTimeout_=Un(function(){l.healthyTimeout_=null,l.isHealthy_||(l.conn_&&l.conn_.bytesReceived>102400?(l.log_("Connection exceeded healthy timeout but has received "+l.conn_.bytesReceived+" bytes.  Marking connection healthy."),l.isHealthy_=!0,l.conn_.markConnectionHealthy()):l.conn_&&l.conn_.bytesSent>10240?l.log_("Connection exceeded healthy timeout but has sent "+l.conn_.bytesSent+" bytes.  Leaving connection alive."):(l.log_("Closing unhealthy connection after timeout."),l.close()))},Math.floor(B)))},f.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},f.prototype.disconnReceiver_=function(l){var h=this;return function(v){l===h.conn_?h.onConnectionLost_(v):l===h.secondaryConn_?(h.log_("Secondary connection lost."),h.onSecondaryConnectionLost_()):h.log_("closing an old connection")}},f.prototype.connReceiver_=function(l){var h=this;return function(v){2!==h.state_&&(l===h.rx_?h.onPrimaryMessageReceived_(v):l===h.secondaryConn_?h.onSecondaryMessageReceived_(v):h.log_("message on old connection"))}},f.prototype.sendRequest=function(l){this.sendData_({t:"d",d:l})},f.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},f.prototype.onSecondaryControl_=function(l){if("t"in l){var h=l.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},f.prototype.onSecondaryMessageReceived_=function(l){var h=Ut("t",l),v=Ut("d",l);if("c"===h)this.onSecondaryControl_(v);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(v)}},f.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},f.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},f.prototype.onPrimaryMessageReceived_=function(l){var h=Ut("t",l),v=Ut("d",l);"c"===h?this.onControl_(v):"d"===h&&this.onDataMessage_(v)},f.prototype.onDataMessage_=function(l){this.onPrimaryResponse_(),this.onMessage_(l)},f.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},f.prototype.onControl_=function(l){var h=Ut("t",l);if("d"in l){var v=l.d;if("h"===h)this.onHandshake_(v);else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(v):"r"===h?this.onReset_(v):"e"===h?tn("Server Error: "+v):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tn("Unknown control packet command: "+h)}},f.prototype.onHandshake_=function(l){var h=l.ts,v=l.v,I=l.h;this.sessionId=l.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==v&&Wn("Protocol version mismatch detected"),this.tryStartUpgrade_())},f.prototype.tryStartUpgrade_=function(){var l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)},f.prototype.startUpgrade_=function(l){var h=this;this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;var v=this.connReceiver_(this.secondaryConn_),I=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(v,I),Un(function(){h.secondaryConn_&&(h.log_("Timed out trying to upgrade."),h.secondaryConn_.close())},Math.floor(6e4))},f.prototype.onReset_=function(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())},f.prototype.onConnectionEstablished_=function(l,h){var v=this;this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Un(function(){v.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},f.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},f.prototype.onSecondaryConnectionLost_=function(){var l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()},f.prototype.onConnectionLost_=function(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},f.prototype.onConnectionShutdown_=function(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()},f.prototype.sendData_=function(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)},f.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},f.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},f}(),Br=function(){function f(){}return f.prototype.put=function(l,h,v,I){},f.prototype.merge=function(l,h,v,I){},f.prototype.refreshAuthToken=function(l){},f.prototype.refreshAppCheckToken=function(l){},f.prototype.onDisconnectPut=function(l,h,v){},f.prototype.onDisconnectMerge=function(l,h,v){},f.prototype.onDisconnectCancel=function(l,h){},f.prototype.reportStats=function(l){},f}(),xi=function(){function f(l){this.allowedEvents_=l,this.listeners_={},(0,j.assert)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}return f.prototype.trigger=function(l){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];if(Array.isArray(this.listeners_[l]))for(var I=(0,L.__spreadArray)([],(0,L.__read)(this.listeners_[l])),B=0;B<I.length;B++)I[B].callback.apply(I[B].context,h)},f.prototype.on=function(l,h,v){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:h,context:v});var I=this.getInitialEvent(l);I&&h.apply(v,I)},f.prototype.off=function(l,h,v){this.validateEventType_(l);for(var I=this.listeners_[l]||[],B=0;B<I.length;B++)if(I[B].callback===h&&(!v||v===I[B].context))return void I.splice(B,1)},f.prototype.validateEventType_=function(l){(0,j.assert)(this.allowedEvents_.find(function(h){return h===l}),"Unknown event: "+l)},f}(),Yi=function(f){function l(){var h=f.call(this,["online"])||this;return h.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,j.isMobileCordova)()&&(window.addEventListener("online",function(){h.online_||(h.online_=!0,h.trigger("online",!0))},!1),window.addEventListener("offline",function(){h.online_&&(h.online_=!1,h.trigger("online",!1))},!1)),h}return(0,L.__extends)(l,f),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(h){return(0,j.assert)("online"===h,"Unknown event type: "+h),[this.online_]},l.prototype.currentlyOnline=function(){return this.online_},l}(xi),Kn=function(){function f(l,h){if(void 0===h){this.pieces_=l.split("/");for(var v=0,I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[v]=this.pieces_[I],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=h}return f.prototype.toString=function(){for(var l="",h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(l+="/"+this.pieces_[h]);return l||"/"},f}();function pr(){return new Kn("")}function Qn(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function Rr(f){return f.pieces_.length-f.pieceNum_}function cr(f){var l=f.pieceNum_;return l<f.pieces_.length&&l++,new Kn(f.pieces_,l)}function Wi(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function lr(f,l){return void 0===l&&(l=0),f.pieces_.slice(f.pieceNum_+l)}function Fn(f){if(f.pieceNum_>=f.pieces_.length)return null;for(var l=[],h=f.pieceNum_;h<f.pieces_.length-1;h++)l.push(f.pieces_[h]);return new Kn(l,0)}function zr(f,l){for(var h=[],v=f.pieceNum_;v<f.pieces_.length;v++)h.push(f.pieces_[v]);if(l instanceof Kn)for(v=l.pieceNum_;v<l.pieces_.length;v++)h.push(l.pieces_[v]);else{var I=l.split("/");for(v=0;v<I.length;v++)I[v].length>0&&h.push(I[v])}return new Kn(h,0)}function ir(f){return f.pieceNum_>=f.pieces_.length}function ii(f,l){var h=Qn(f),v=Qn(l);if(null===h)return l;if(h===v)return ii(cr(f),cr(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+f+")")}function Nr(f,l){for(var h=lr(f,0),v=lr(l,0),I=0;I<h.length&&I<v.length;I++){var B=lt(h[I],v[I]);if(0!==B)return B}return h.length===v.length?0:h.length<v.length?-1:1}function er(f,l){if(Rr(f)!==Rr(l))return!1;for(var h=f.pieceNum_,v=l.pieceNum_;h<=f.pieces_.length;h++,v++)if(f.pieces_[h]!==l.pieces_[v])return!1;return!0}function Hr(f,l){var h=f.pieceNum_,v=l.pieceNum_;if(Rr(f)>Rr(l))return!1;for(;h<f.pieces_.length;){if(f.pieces_[h]!==l.pieces_[v])return!1;++h,++v}return!0}var mi=function(l,h){this.errorPrefix_=h,this.parts_=lr(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(var v=0;v<this.parts_.length;v++)this.byteLength_+=(0,j.stringLength)(this.parts_[v]);Zi(this)};function Zi(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+kr(f))}function kr(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}var qn,an,wo=function(f){function l(){var v,I,h=f.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(I="visibilitychange",v="hidden"):void 0!==document.mozHidden?(I="mozvisibilitychange",v="mozHidden"):void 0!==document.msHidden?(I="msvisibilitychange",v="msHidden"):void 0!==document.webkitHidden&&(I="webkitvisibilitychange",v="webkitHidden")),h.visible_=!0,I&&document.addEventListener(I,function(){var B=!document[v];B!==h.visible_&&(h.visible_=B,h.trigger("visible",B))},!1),h}return(0,L.__extends)(l,f),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(h){return(0,j.assert)("visible"===h,"Unknown event type: "+h),[this.visible_]},l}(xi),vi=1e3,Ro=function(f){function l(h,v,I,B,J,be,Ae,Be){var Xe=f.call(this)||this;if(Xe.repoInfo_=h,Xe.applicationId_=v,Xe.onDataUpdate_=I,Xe.onConnectStatus_=B,Xe.onServerInfoUpdate_=J,Xe.authTokenProvider_=be,Xe.appCheckTokenProvider_=Ae,Xe.authOverride_=Be,Xe.id=l.nextPersistentConnectionId_++,Xe.log_=bt("p:"+Xe.id+":"),Xe.interruptReasons_={},Xe.listens=new Map,Xe.outstandingPuts_=[],Xe.outstandingGets_=[],Xe.outstandingPutCount_=0,Xe.outstandingGetCount_=0,Xe.onDisconnectRequestQueue_=[],Xe.connected_=!1,Xe.reconnectDelay_=vi,Xe.maxReconnectDelay_=3e5,Xe.securityDebugCallback_=null,Xe.lastSessionId=null,Xe.establishConnectionTimer_=null,Xe.visible_=!1,Xe.requestCBHash_={},Xe.requestNumber_=0,Xe.realtime_=null,Xe.authToken_=null,Xe.appCheckToken_=null,Xe.forceTokenRefresh_=!1,Xe.invalidAuthTokenCount_=0,Xe.invalidAppCheckTokenCount_=0,Xe.firstConnection_=!0,Xe.lastConnectionAttemptTime_=null,Xe.lastConnectionEstablishedTime_=null,Be&&!(0,j.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return wo.getInstance().on("visible",Xe.onVisible_,Xe),-1===h.host.indexOf("fblocal")&&Yi.getInstance().on("online",Xe.onOnline_,Xe),Xe}return(0,L.__extends)(l,f),l.prototype.sendRequest=function(h,v,I){var B=++this.requestNumber_,J={r:B,a:h,b:v};this.log_((0,j.stringify)(J)),(0,j.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(J),I&&(this.requestCBHash_[B]=I)},l.prototype.get=function(h){var v=this;this.initConnection_();var I=new j.Deferred,B={p:h._path.toString(),q:h._queryObject},J={action:"g",request:B,onComplete:function(Ae){var Be=Ae.d;"ok"===Ae.s?(v.onDataUpdate_(B.p,Be,!1,null),I.resolve(Be)):I.reject(Be)}};this.outstandingGets_.push(J),this.outstandingGetCount_++;var be=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var Ae=v.outstandingGets_[be];void 0===Ae||J!==Ae||(delete v.outstandingGets_[be],v.outstandingGetCount_--,0===v.outstandingGetCount_&&(v.outstandingGets_=[]),v.log_("get "+be+" timed out on connection"),I.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(be),I.promise},l.prototype.listen=function(h,v,I,B){this.initConnection_();var J=h._queryIdentifier,be=h._path.toString();this.log_("Listen called for "+be+" "+J),this.listens.has(be)||this.listens.set(be,new Map),(0,j.assert)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.assert)(!this.listens.get(be).has(J),"listen() called twice for same path/queryId.");var Ae={onComplete:B,hashFn:v,query:h,tag:I};this.listens.get(be).set(J,Ae),this.connected_&&this.sendListen_(Ae)},l.prototype.sendGet_=function(h){var v=this,I=this.outstandingGets_[h];this.sendRequest("g",I.request,function(B){delete v.outstandingGets_[h],v.outstandingGetCount_--,0===v.outstandingGetCount_&&(v.outstandingGets_=[]),I.onComplete&&I.onComplete(B)})},l.prototype.sendListen_=function(h){var v=this,I=h.query,B=I._path.toString(),J=I._queryIdentifier;this.log_("Listen on "+B+" for "+J);var be={p:B};h.tag&&(be.q=I._queryObject,be.t=h.tag),be.h=h.hashFn(),this.sendRequest("q",be,function(Be){var Xe=Be.d,Ot=Be.s;l.warnOnListenWarnings_(Xe,I),(v.listens.get(B)&&v.listens.get(B).get(J))===h&&(v.log_("listen response",Be),"ok"!==Ot&&v.removeListen_(B,J),h.onComplete&&h.onComplete(Ot,Xe))})},l.warnOnListenWarnings_=function(h,v){if(h&&"object"==typeof h&&(0,j.contains)(h,"w")){var I=(0,j.safeGet)(h,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){var B='".indexOn": "'+v._queryParams.getIndex().toString()+'"',J=v._path.toString();Wn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+B+" at "+J+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(h)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(h){(h&&40===h.length||(0,j.isAdmin)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.refreshAppCheckToken=function(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},l.prototype.tryAuth=function(){var h=this;if(this.connected_&&this.authToken_){var v=this.authToken_,I=(0,j.isValidFormat)(v)?"auth":"gauth",B={cred:v};null===this.authOverride_?B.noauth=!0:"object"==typeof this.authOverride_&&(B.authvar=this.authOverride_),this.sendRequest(I,B,function(J){var be=J.s,Ae=J.d||"error";h.authToken_===v&&("ok"===be?h.invalidAuthTokenCount_=0:h.onAuthRevoked_(be,Ae))})}},l.prototype.tryAppCheck=function(){var h=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(v){var I=v.s,B=v.d||"error";"ok"===I?h.invalidAppCheckTokenCount_=0:h.onAppCheckRevoked_(I,B)})},l.prototype.unlisten=function(h,v){var I=h._path.toString(),B=h._queryIdentifier;this.log_("Unlisten called for "+I+" "+B),(0,j.assert)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,B)&&this.connected_&&this.sendUnlisten_(I,B,h._queryObject,v)},l.prototype.sendUnlisten_=function(h,v,I,B){this.log_("Unlisten on "+h+" for "+v);var J={p:h};B&&(J.q=I,J.t=B),this.sendRequest("n",J)},l.prototype.onDisconnectPut=function(h,v,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,v,I):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:v,onComplete:I})},l.prototype.onDisconnectMerge=function(h,v,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,v,I):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:v,onComplete:I})},l.prototype.onDisconnectCancel=function(h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,v):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:v})},l.prototype.sendOnDisconnect_=function(h,v,I,B){var J={p:v,d:I};this.log_("onDisconnect "+h,J),this.sendRequest(h,J,function(be){B&&setTimeout(function(){B(be.s,be.d)},Math.floor(0))})},l.prototype.put=function(h,v,I,B){this.putInternal("p",h,v,I,B)},l.prototype.merge=function(h,v,I,B){this.putInternal("m",h,v,I,B)},l.prototype.putInternal=function(h,v,I,B,J){this.initConnection_();var be={p:v,d:I};void 0!==J&&(be.h=J),this.outstandingPuts_.push({action:h,request:be,onComplete:B}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)},l.prototype.sendPut_=function(h){var v=this,I=this.outstandingPuts_[h].action,B=this.outstandingPuts_[h].request,J=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(I,B,function(be){v.log_(I+" response",be),delete v.outstandingPuts_[h],v.outstandingPutCount_--,0===v.outstandingPutCount_&&(v.outstandingPuts_=[]),J&&J(be.s,be.d)})},l.prototype.reportStats=function(h){var v=this;if(this.connected_){var I={c:h};this.log_("reportStats",I),this.sendRequest("s",I,function(B){"ok"!==B.s&&v.log_("reportStats","Error sending stats: "+B.d)})}},l.prototype.onDataMessage_=function(h){if("r"in h){this.log_("from server: "+(0,j.stringify)(h));var v=h.r,I=this.requestCBHash_[v];I&&(delete this.requestCBHash_[v],I(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}},l.prototype.onDataPush_=function(h,v){this.log_("handleServerMessage",h,v),"d"===h?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===h?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===h?this.onListenRevoked_(v.p,v.q):"ac"===h?this.onAuthRevoked_(v.s,v.d):"apc"===h?this.onAppCheckRevoked_(v.s,v.d):"sd"===h?this.onSecurityDebugPacket_(v):tn("Unrecognized action received from server: "+(0,j.stringify)(h)+"\nAre you using the latest client?")},l.prototype.onReady_=function(h,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(h){var v=this;(0,j.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){v.establishConnectionTimer_=null,v.establishConnection_()},Math.floor(h))},l.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},l.prototype.onVisible_=function(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vi,this.realtime_||this.scheduleConnect_(0)),this.visible_=h},l.prototype.onOnline_=function(h){h?(this.log_("Browser went online."),this.reconnectDelay_=vi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var v=(new Date).getTime()-this.lastConnectionAttemptTime_,I=Math.max(0,this.reconnectDelay_-v);I=Math.random()*I,this.log_("Trying to reconnect in "+I+"ms"),this.scheduleConnect_(I),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){return(0,L.__awaiter)(this,void 0,void 0,function(){var h,v,I,B,J,be,Ae,Be,Ot,zt,mn,Pn,jr,yr=this;return(0,L.__generator)(this,function(qr){switch(qr.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,h=this.onDataMessage_.bind(this),v=this.onReady_.bind(this),I=this.onRealtimeDisconnect_.bind(this),B=this.id+":"+l.nextConnectionId_++,J=this.lastSessionId,be=!1,Ae=null,this.realtime_={close:Be=function(){Ae?Ae.close():(be=!0,I())},sendRequest:function(Oo){(0,j.assert)(Ae,"sendRequest call when we're not connected not allowed."),Ae.sendRequest(Oo)}},Ot=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,qr.label=1;case 1:return qr.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(Ot),this.appCheckTokenProvider_.getToken(Ot)])];case 2:return zt=L.__read.apply(void 0,[qr.sent(),2]),mn=zt[0],Pn=zt[1],be?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=mn&&mn.accessToken,this.appCheckToken_=Pn&&Pn.token,Ae=new $r(B,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,h,v,I,function(Oo){Wn(Oo+" ("+yr.repoInfo_.toString()+")"),yr.interrupt("server_kill")},J)),[3,4];case 3:return jr=qr.sent(),this.log_("Failed to get token: "+jr),be||(this.repoInfo_.nodeAdmin&&Wn(jr),Be()),[3,4];case 4:return[2]}})})},l.prototype.interrupt=function(h){It("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(h){It("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,j.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=vi,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(h){var v=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})},l.prototype.cancelSentTransactions_=function(){for(var h=0;h<this.outstandingPuts_.length;h++){var v=this.outstandingPuts_[h];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(h,v){var I;I=v?v.map(function(J){return yn(J)}).join("$"):"default";var B=this.removeListen_(h,I);B&&B.onComplete&&B.onComplete("permission_denied")},l.prototype.removeListen_=function(h,v){var B,I=new Kn(h).toString();if(this.listens.has(I)){var J=this.listens.get(I);B=J.get(v),J.delete(v),0===J.size&&this.listens.delete(I)}else B=void 0;return B},l.prototype.onAuthRevoked_=function(h,v){It("Auth token revoked: "+h+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onAppCheckRevoked_=function(h,v){It("App check token revoked: "+h+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},l.prototype.onSecurityDebugPacket_=function(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var h,v,I,B;this.tryAuth(),this.tryAppCheck();try{for(var J=(0,L.__values)(this.listens.values()),be=J.next();!be.done;be=J.next()){var Ae=be.value;try{for(var Be=(I=void 0,(0,L.__values)(Ae.values())),Xe=Be.next();!Xe.done;Xe=Be.next())this.sendListen_(Xe.value)}catch(Pn){I={error:Pn}}finally{try{Xe&&!Xe.done&&(B=Be.return)&&B.call(Be)}finally{if(I)throw I.error}}}}catch(Pn){h={error:Pn}}finally{try{be&&!be.done&&(v=J.return)&&v.call(J)}finally{if(h)throw h.error}}for(var zt=0;zt<this.outstandingPuts_.length;zt++)this.outstandingPuts_[zt]&&this.sendPut_(zt);for(;this.onDisconnectRequestQueue_.length;){var mn=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(mn.action,mn.pathString,mn.data,mn.onComplete)}for(zt=0;zt<this.outstandingGets_.length;zt++)this.outstandingGets_[zt]&&this.sendGet_(zt)},l.prototype.sendConnectStats_=function(){var h={},v="js";(0,j.isNodeSdk)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+v+"."+Je.replace(/\./g,"-")]=1,(0,j.isMobileCordova)()?h["framework.cordova"]=1:(0,j.isReactNative)()&&(h["framework.reactnative"]=1),this.reportStats(h)},l.prototype.shouldReconnect_=function(){var h=Yi.getInstance().currentlyOnline();return(0,j.isEmpty)(this.interruptReasons_)&&h},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(Br),fr=function(){function f(l,h){this.name=l,this.node=h}return f.Wrap=function(l,h){return new f(l,h)},f}(),_r=function(){function f(){}return f.prototype.getCompare=function(){return this.compare.bind(this)},f.prototype.indexedValueChanged=function(l,h){var v=new fr(rt,l),I=new fr(rt,h);return 0!==this.compare(v,I)},f.prototype.minPost=function(){return fr.MIN},f}(),Or=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,L.__extends)(l,f),Object.defineProperty(l,"__EMPTY_NODE",{get:function(){return qn},set:function(h){qn=h},enumerable:!1,configurable:!0}),l.prototype.compare=function(h,v){return lt(h.name,v.name)},l.prototype.isDefinedOn=function(h){throw(0,j.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},l.prototype.indexedValueChanged=function(h,v){return!1},l.prototype.minPost=function(){return fr.MIN},l.prototype.maxPost=function(){return new fr(_t,qn)},l.prototype.makePost=function(h,v){return(0,j.assert)("string"==typeof h,"KeyIndex indexValue must always be a string."),new fr(h,qn)},l.prototype.toString=function(){return".key"},l}(_r),bo=new Or,ee=function(){function f(l,h,v,I,B){void 0===B&&(B=null),this.isReverse_=I,this.resultGenerator_=B,this.nodeStack_=[];for(var J=1;!l.isEmpty();)if(l=l,J=h?v(l.key,h):1,I&&(J*=-1),J<0)l=this.isReverse_?l.left:l.right;else{if(0===J){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}return f.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var h,l=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return h},f.prototype.hasNext=function(){return this.nodeStack_.length>0},f.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}},f}(),W=function(){function f(l,h,v,I,B){this.key=l,this.value=h,this.color=null!=v?v:f.RED,this.left=null!=I?I:Ge.EMPTY_NODE,this.right=null!=B?B:Ge.EMPTY_NODE}return f.prototype.copy=function(l,h,v,I,B){return new f(null!=l?l:this.key,null!=h?h:this.value,null!=v?v:this.color,null!=I?I:this.left,null!=B?B:this.right)},f.prototype.count=function(){return this.left.count()+1+this.right.count()},f.prototype.isEmpty=function(){return!1},f.prototype.inorderTraversal=function(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)},f.prototype.reverseTraversal=function(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)},f.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},f.prototype.minKey=function(){return this.min_().key},f.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},f.prototype.insert=function(l,h,v){var I=this,B=v(l,I.key);return(I=B<0?I.copy(null,null,null,I.left.insert(l,h,v),null):0===B?I.copy(null,h,null,null,null):I.copy(null,null,null,null,I.right.insert(l,h,v))).fixUp_()},f.prototype.removeMin_=function(){if(this.left.isEmpty())return Ge.EMPTY_NODE;var l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),(l=l.copy(null,null,null,l.left.removeMin_(),null)).fixUp_()},f.prototype.remove=function(l,h){var v,I;if(h(l,(v=this).key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(l,h),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===h(l,v.key)){if(v.right.isEmpty())return Ge.EMPTY_NODE;I=v.right.min_(),v=v.copy(I.key,I.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(l,h))}return v.fixUp_()},f.prototype.isRed_=function(){return this.color},f.prototype.fixUp_=function(){var l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l},f.prototype.moveRedLeft_=function(){var l=this.colorFlip_();return l.right.left.isRed_()&&(l=(l=(l=l.copy(null,null,null,null,l.right.rotateRight_())).rotateLeft_()).colorFlip_()),l},f.prototype.moveRedRight_=function(){var l=this.colorFlip_();return l.left.left.isRed_()&&(l=(l=l.rotateRight_()).colorFlip_()),l},f.prototype.rotateLeft_=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.rotateRight_=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.colorFlip_=function(){var l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)},f.prototype.checkMaxDepth_=function(){var l=this.check_();return Math.pow(2,l)<=this.count()+1},f.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)},f.RED=!0,f.BLACK=!1,f}(),Ie=function(){function f(){}return f.prototype.copy=function(l,h,v,I,B){return this},f.prototype.insert=function(l,h,v){return new W(l,h,null)},f.prototype.remove=function(l,h){return this},f.prototype.count=function(){return 0},f.prototype.isEmpty=function(){return!0},f.prototype.inorderTraversal=function(l){return!1},f.prototype.reverseTraversal=function(l){return!1},f.prototype.minKey=function(){return null},f.prototype.maxKey=function(){return null},f.prototype.check_=function(){return 0},f.prototype.isRed_=function(){return!1},f}(),Ge=function(){function f(l,h){void 0===h&&(h=f.EMPTY_NODE),this.comparator_=l,this.root_=h}return f.prototype.insert=function(l,h){return new f(this.comparator_,this.root_.insert(l,h,this.comparator_).copy(null,null,W.BLACK,null,null))},f.prototype.remove=function(l){return new f(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,W.BLACK,null,null))},f.prototype.get=function(l){for(var h,v=this.root_;!v.isEmpty();){if(0===(h=this.comparator_(l,v.key)))return v.value;h<0?v=v.left:h>0&&(v=v.right)}return null},f.prototype.getPredecessorKey=function(l){for(var h,v=this.root_,I=null;!v.isEmpty();){if(0===(h=this.comparator_(l,v.key))){if(v.left.isEmpty())return I?I.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}h<0?v=v.left:h>0&&(I=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},f.prototype.isEmpty=function(){return this.root_.isEmpty()},f.prototype.count=function(){return this.root_.count()},f.prototype.minKey=function(){return this.root_.minKey()},f.prototype.maxKey=function(){return this.root_.maxKey()},f.prototype.inorderTraversal=function(l){return this.root_.inorderTraversal(l)},f.prototype.reverseTraversal=function(l){return this.root_.reverseTraversal(l)},f.prototype.getIterator=function(l){return new ee(this.root_,null,this.comparator_,!1,l)},f.prototype.getIteratorFrom=function(l,h){return new ee(this.root_,l,this.comparator_,!1,h)},f.prototype.getReverseIteratorFrom=function(l,h){return new ee(this.root_,l,this.comparator_,!0,h)},f.prototype.getReverseIterator=function(l){return new ee(this.root_,null,this.comparator_,!0,l)},f.EMPTY_NODE=new Ie,f}();function dt(f,l){return lt(f.name,l.name)}function xt(f,l){return lt(f,l)}var F,ne,ye,no,Y,Z=function(f){return"number"==typeof f?"number:"+dn(f):"string:"+f},z=function(f){if(f.isLeafNode()){var l=f.val();(0,j.assert)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,j.contains)(l,".sv"),"Priority must be a string or number.")}else(0,j.assert)(f===an||f.isEmpty(),"priority of unexpected type.");(0,j.assert)(f===an||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ge=function(){function f(l,h){void 0===h&&(h=f.__childrenNodeConstructor.EMPTY_NODE),this.value_=l,this.priorityNode_=h,this.lazyHash_=null,(0,j.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),z(this.priorityNode_)}return Object.defineProperty(f,"__childrenNodeConstructor",{get:function(){return F},set:function(l){F=l},enumerable:!1,configurable:!0}),f.prototype.isLeafNode=function(){return!0},f.prototype.getPriority=function(){return this.priorityNode_},f.prototype.updatePriority=function(l){return new f(this.value_,l)},f.prototype.getImmediateChild=function(l){return".priority"===l?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE},f.prototype.getChild=function(l){return ir(l)?this:".priority"===Qn(l)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE},f.prototype.hasChild=function(){return!1},f.prototype.getPredecessorChildName=function(l,h){return null},f.prototype.updateImmediateChild=function(l,h){return".priority"===l?this.updatePriority(h):h.isEmpty()&&".priority"!==l?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,h).updatePriority(this.priorityNode_)},f.prototype.updateChild=function(l,h){var v=Qn(l);return null===v?h:h.isEmpty()&&".priority"!==v?this:((0,j.assert)(".priority"!==v||1===Rr(l),".priority must be the last token in a path"),this.updateImmediateChild(v,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(cr(l),h)))},f.prototype.isEmpty=function(){return!1},f.prototype.numChildren=function(){return 0},f.prototype.forEachChild=function(l,h){return!1},f.prototype.val=function(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},f.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.priorityNode_.isEmpty()||(l+="priority:"+Z(this.priorityNode_.val())+":");var h=typeof this.value_;l+=h+":",l+="number"===h?dn(this.value_):this.value_,this.lazyHash_=nt(l)}return this.lazyHash_},f.prototype.getValue=function(){return this.value_},f.prototype.compareTo=function(l){return l===f.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof f.__childrenNodeConstructor?-1:((0,j.assert)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))},f.prototype.compareToLeafNode_=function(l){var h=typeof l.value_,v=typeof this.value_,I=f.VALUE_TYPE_ORDER.indexOf(h),B=f.VALUE_TYPE_ORDER.indexOf(v);return(0,j.assert)(I>=0,"Unknown leaf type: "+h),(0,j.assert)(B>=0,"Unknown leaf type: "+v),I===B?"object"===v?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:B-I},f.prototype.withIndex=function(){return this},f.prototype.isIndexed=function(){return!0},f.prototype.equals=function(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))},f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f}(),rn=new(function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,L.__extends)(l,f),l.prototype.compare=function(h,v){var I=h.node.getPriority(),B=v.node.getPriority(),J=I.compareTo(B);return 0===J?lt(h.name,v.name):J},l.prototype.isDefinedOn=function(h){return!h.getPriority().isEmpty()},l.prototype.indexedValueChanged=function(h,v){return!h.getPriority().equals(v.getPriority())},l.prototype.minPost=function(){return fr.MIN},l.prototype.maxPost=function(){return new fr(_t,new ge("[PRIORITY-POST]",ye))},l.prototype.makePost=function(h,v){var I=ne(h);return new fr(v,new ge("[PRIORITY-POST]",I))},l.prototype.toString=function(){return".priority"},l}(_r)),On=Math.log(2),br=function(){function f(l){this.count=parseInt(Math.log(l+1)/On,10),this.current_=this.count-1;var I=parseInt(Array(this.count+1).join("1"),2);this.bits_=l+1&I}return f.prototype.nextBitIsOne=function(){var l=!(this.bits_&1<<this.current_);return this.current_--,l},f}(),Dr=function(f,l,h,v){f.sort(l);var I=function(Ae,Be){var Ot,zt,Xe=Be-Ae;if(0===Xe)return null;if(1===Xe)return Ot=f[Ae],zt=h?h(Ot):Ot,new W(zt,Ot.node,W.BLACK,null,null);var mn=parseInt(Xe/2,10)+Ae,Pn=I(Ae,mn),jr=I(mn+1,Be);return Ot=f[mn],zt=h?h(Ot):Ot,new W(zt,Ot.node,W.BLACK,Pn,jr)},be=function(Ae){for(var Be=null,Xe=null,Ot=f.length,zt=function(qr,Oo){var qa=Ot-qr,vl=Ot;Ot-=qr;var yl=I(qa+1,vl),Hc=f[qa],s=h?h(Hc):Hc;mn(new W(s,Hc.node,Oo,null,yl))},mn=function(qr){Be?(Be.left=qr,Be=qr):(Xe=qr,Be=qr)},Pn=0;Pn<Ae.count;++Pn){var jr=Ae.nextBitIsOne(),yr=Math.pow(2,Ae.count-(Pn+1));jr?zt(yr,W.BLACK):(zt(yr,W.BLACK),zt(yr,W.RED))}return Xe}(new br(f.length));return new Ge(v||l,be)},K={},de=function(){function f(l,h){this.indexes_=l,this.indexSet_=h}return Object.defineProperty(f,"Default",{get:function(){return(0,j.assert)(K&&rn,"ChildrenNode.ts has not been loaded"),no=no||new f({".priority":K},{".priority":rn})},enumerable:!1,configurable:!0}),f.prototype.get=function(l){var h=(0,j.safeGet)(this.indexes_,l);if(!h)throw new Error("No index defined for "+l);return h instanceof Ge?h:null},f.prototype.hasIndex=function(l){return(0,j.contains)(this.indexSet_,l.toString())},f.prototype.addIndex=function(l,h){(0,j.assert)(l!==bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var v=[],I=!1,B=h.getIterator(fr.Wrap),J=B.getNext();J;)I=I||l.isDefinedOn(J.node),v.push(J),J=B.getNext();var be;be=I?Dr(v,l.getCompare()):K;var Ae=l.toString(),Be=(0,L.__assign)({},this.indexSet_);Be[Ae]=l;var Xe=(0,L.__assign)({},this.indexes_);return Xe[Ae]=be,new f(Xe,Be)},f.prototype.addToIndexes=function(l,h){var v=this;return new f((0,j.map)(this.indexes_,function(B,J){var be=(0,j.safeGet)(v.indexSet_,J);if((0,j.assert)(be,"Missing index implementation for "+J),B===K){if(be.isDefinedOn(l.node)){for(var Ae=[],Be=h.getIterator(fr.Wrap),Xe=Be.getNext();Xe;)Xe.name!==l.name&&Ae.push(Xe),Xe=Be.getNext();return Ae.push(l),Dr(Ae,be.getCompare())}return K}var Ot=h.get(l.name),zt=B;return Ot&&(zt=zt.remove(new fr(l.name,Ot))),zt.insert(l,l.node)}),this.indexSet_)},f.prototype.removeFromIndexes=function(l,h){return new f((0,j.map)(this.indexes_,function(I){if(I===K)return I;var B=h.get(l.name);return B?I.remove(new fr(l.name,B)):I}),this.indexSet_)},f}(),pe=function(){function f(l,h,v){this.children_=l,this.priorityNode_=h,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&z(this.priorityNode_),this.children_.isEmpty()&&(0,j.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(f,"EMPTY_NODE",{get:function(){return Y||(Y=new f(new Ge(xt),null,de.Default))},enumerable:!1,configurable:!0}),f.prototype.isLeafNode=function(){return!1},f.prototype.getPriority=function(){return this.priorityNode_||Y},f.prototype.updatePriority=function(l){return this.children_.isEmpty()?this:new f(this.children_,l,this.indexMap_)},f.prototype.getImmediateChild=function(l){if(".priority"===l)return this.getPriority();var h=this.children_.get(l);return null===h?Y:h},f.prototype.getChild=function(l){var h=Qn(l);return null===h?this:this.getImmediateChild(h).getChild(cr(l))},f.prototype.hasChild=function(l){return null!==this.children_.get(l)},f.prototype.updateImmediateChild=function(l,h){if((0,j.assert)(h,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(h);var v=new fr(l,h),I=void 0,B=void 0;h.isEmpty()?(I=this.children_.remove(l),B=this.indexMap_.removeFromIndexes(v,this.children_)):(I=this.children_.insert(l,h),B=this.indexMap_.addToIndexes(v,this.children_));var J=I.isEmpty()?Y:this.priorityNode_;return new f(I,J,B)},f.prototype.updateChild=function(l,h){var v=Qn(l);if(null===v)return h;(0,j.assert)(".priority"!==Qn(l)||1===Rr(l),".priority must be the last token in a path");var I=this.getImmediateChild(v).updateChild(cr(l),h);return this.updateImmediateChild(v,I)},f.prototype.isEmpty=function(){return this.children_.isEmpty()},f.prototype.numChildren=function(){return this.children_.count()},f.prototype.val=function(l){if(this.isEmpty())return null;var h={},v=0,I=0,B=!0;if(this.forEachChild(rn,function(Ae,Be){h[Ae]=Be.val(l),v++,B&&f.INTEGER_REGEXP_.test(Ae)?I=Math.max(I,Number(Ae)):B=!1}),!l&&B&&I<2*v){var J=[];for(var be in h)J[be]=h[be];return J}return l&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h},f.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.getPriority().isEmpty()||(l+="priority:"+Z(this.getPriority().val())+":"),this.forEachChild(rn,function(h,v){var I=v.hash();""!==I&&(l+=":"+h+":"+I)}),this.lazyHash_=""===l?"":nt(l)}return this.lazyHash_},f.prototype.getPredecessorChildName=function(l,h,v){var I=this.resolveIndex_(v);if(I){var B=I.getPredecessorKey(new fr(l,h));return B?B.name:null}return this.children_.getPredecessorKey(l)},f.prototype.getFirstChildName=function(l){var h=this.resolveIndex_(l);if(h){var v=h.minKey();return v&&v.name}return this.children_.minKey()},f.prototype.getFirstChild=function(l){var h=this.getFirstChildName(l);return h?new fr(h,this.children_.get(h)):null},f.prototype.getLastChildName=function(l){var h=this.resolveIndex_(l);if(h){var v=h.maxKey();return v&&v.name}return this.children_.maxKey()},f.prototype.getLastChild=function(l){var h=this.getLastChildName(l);return h?new fr(h,this.children_.get(h)):null},f.prototype.forEachChild=function(l,h){var v=this.resolveIndex_(l);return v?v.inorderTraversal(function(I){return h(I.name,I.node)}):this.children_.inorderTraversal(h)},f.prototype.getIterator=function(l){return this.getIteratorFrom(l.minPost(),l)},f.prototype.getIteratorFrom=function(l,h){var v=this.resolveIndex_(h);if(v)return v.getIteratorFrom(l,function(J){return J});for(var I=this.children_.getIteratorFrom(l.name,fr.Wrap),B=I.peek();null!=B&&h.compare(B,l)<0;)I.getNext(),B=I.peek();return I},f.prototype.getReverseIterator=function(l){return this.getReverseIteratorFrom(l.maxPost(),l)},f.prototype.getReverseIteratorFrom=function(l,h){var v=this.resolveIndex_(h);if(v)return v.getReverseIteratorFrom(l,function(J){return J});for(var I=this.children_.getReverseIteratorFrom(l.name,fr.Wrap),B=I.peek();null!=B&&h.compare(B,l)>0;)I.getNext(),B=I.peek();return I},f.prototype.compareTo=function(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===Ft?-1:0},f.prototype.withIndex=function(l){if(l===bo||this.indexMap_.hasIndex(l))return this;var h=this.indexMap_.addIndex(l,this.children_);return new f(this.children_,this.priorityNode_,h)},f.prototype.isIndexed=function(l){return l===bo||this.indexMap_.hasIndex(l)},f.prototype.equals=function(l){if(l===this)return!0;if(l.isLeafNode())return!1;var h=l;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){for(var v=this.getIterator(rn),I=h.getIterator(rn),B=v.getNext(),J=I.getNext();B&&J;){if(B.name!==J.name||!B.node.equals(J.node))return!1;B=v.getNext(),J=I.getNext()}return null===B&&null===J}return!1}return!1},f.prototype.resolveIndex_=function(l){return l===bo?null:this.indexMap_.get(l.toString())},f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f}(),Ft=new(function(f){function l(){return f.call(this,new Ge(xt),pe.EMPTY_NODE,de.Default)||this}return(0,L.__extends)(l,f),l.prototype.compareTo=function(h){return h===this?0:1},l.prototype.equals=function(h){return h===this},l.prototype.getPriority=function(){return this},l.prototype.getImmediateChild=function(h){return pe.EMPTY_NODE},l.prototype.isEmpty=function(){return!1},l}(pe));function Dn(f,l){if(void 0===l&&(l=null),null===f)return pe.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(l=f[".priority"]),(0,j.assert)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new ge(f,Dn(l));if(f instanceof Array){var Ae=pe.EMPTY_NODE;return fn(f,function(Be,Xe){if((0,j.contains)(f,Be)&&"."!==Be.substring(0,1)){var Ot=Dn(Xe);(Ot.isLeafNode()||!Ot.isEmpty())&&(Ae=Ae.updateImmediateChild(Be,Ot))}}),Ae.updatePriority(Dn(l))}var v=[],I=!1;if(fn(f,function(Be,Xe){if("."!==Be.substring(0,1)){var Ot=Dn(Xe);Ot.isEmpty()||(I=I||!Ot.getPriority().isEmpty(),v.push(new fr(Be,Ot)))}}),0===v.length)return pe.EMPTY_NODE;var J=Dr(v,dt,function(Be){return Be.name},xt);if(I){var be=Dr(v,rn.getCompare());return new pe(J,Dn(l),new de({".priority":be},{".priority":rn}))}return new pe(J,Dn(l),de.Default)}Object.defineProperties(fr,{MIN:{value:new fr(rt,pe.EMPTY_NODE)},MAX:{value:new fr(_t,Ft)}}),Or.__EMPTY_NODE=pe.EMPTY_NODE,ge.__childrenNodeConstructor=pe,function(f){an=f}(Ft),function(f){ye=f}(Ft),function(f){ne=f}(Dn);var Jn=function(f){function l(h){var v=f.call(this)||this;return v.indexPath_=h,(0,j.assert)(!ir(h)&&".priority"!==Qn(h),"Can't create PathIndex with empty path or .priority key"),v}return(0,L.__extends)(l,f),l.prototype.extractChild=function(h){return h.getChild(this.indexPath_)},l.prototype.isDefinedOn=function(h){return!h.getChild(this.indexPath_).isEmpty()},l.prototype.compare=function(h,v){var I=this.extractChild(h.node),B=this.extractChild(v.node),J=I.compareTo(B);return 0===J?lt(h.name,v.name):J},l.prototype.makePost=function(h,v){var I=Dn(h),B=pe.EMPTY_NODE.updateChild(this.indexPath_,I);return new fr(v,B)},l.prototype.maxPost=function(){var h=pe.EMPTY_NODE.updateChild(this.indexPath_,Ft);return new fr(_t,h)},l.prototype.toString=function(){return lr(this.indexPath_,0).join("/")},l}(_r),oi=new(function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,L.__extends)(l,f),l.prototype.compare=function(h,v){var I=h.node.compareTo(v.node);return 0===I?lt(h.name,v.name):I},l.prototype.isDefinedOn=function(h){return!0},l.prototype.indexedValueChanged=function(h,v){return!h.equals(v)},l.prototype.minPost=function(){return fr.MIN},l.prototype.maxPost=function(){return fr.MAX},l.prototype.makePost=function(h,v){var I=Dn(h);return new fr(v,I)},l.prototype.toString=function(){return".value"},l}(_r)),Pr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ls=function(){var f=0,l=[];return function(h){var v=h===f;f=h;var I,B=new Array(8);for(I=7;I>=0;I--)B[I]=Pr.charAt(h%64),h=Math.floor(h/64);(0,j.assert)(0===h,"Cannot push at time == 0");var J=B.join("");if(v){for(I=11;I>=0&&63===l[I];I--)l[I]=0;l[I]++}else for(I=0;I<12;I++)l[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)J+=Pr.charAt(l[I]);return(0,j.assert)(20===J.length,"nextPushId: Length should be 20."),J}}(),ro=function(f){if(f===""+Et)return"-";var l=Rt(f);if(null!=l)return""+(l+1);for(var h=new Array(f.length),v=0;v<h.length;v++)h[v]=f.charAt(v);if(h.length<786)return h.push("-"),h.join("");for(var I=h.length-1;I>=0&&"z"===h[I];)I--;if(-1===I)return _t;var J=Pr.charAt(Pr.indexOf(h[I])+1);return h[I]=J,h.slice(0,I+1).join("")},yi=function(f){if(f===""+vt)return rt;var l=Rt(f);if(null!=l)return""+(l-1);for(var h=new Array(f.length),v=0;v<h.length;v++)h[v]=f.charAt(v);return"-"===h[h.length-1]?1===h.length?""+Et:(delete h[h.length-1],h.join("")):(h[h.length-1]=Pr.charAt(Pr.indexOf(h[h.length-1])-1),h.join("")+"z".repeat(786-h.length))};function Fi(f){return{type:"value",snapshotNode:f}}function Er(f,l){return{type:"child_added",snapshotNode:l,childName:f}}function di(f,l){return{type:"child_removed",snapshotNode:l,childName:f}}function ko(f,l,h){return{type:"child_changed",snapshotNode:l,childName:f,oldSnap:h}}var co=function(){function f(l){this.index_=l}return f.prototype.updateChild=function(l,h,v,I,B,J){(0,j.assert)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");var be=l.getImmediateChild(h);return be.getChild(I).equals(v.getChild(I))&&be.isEmpty()===v.isEmpty()||(null!=J&&(v.isEmpty()?l.hasChild(h)?J.trackChildChange(di(h,be)):(0,j.assert)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):be.isEmpty()?J.trackChildChange(Er(h,v)):J.trackChildChange(ko(h,v,be))),l.isLeafNode()&&v.isEmpty())?l:l.updateImmediateChild(h,v).withIndex(this.index_)},f.prototype.updateFullNode=function(l,h,v){return null!=v&&(l.isLeafNode()||l.forEachChild(rn,function(I,B){h.hasChild(I)||v.trackChildChange(di(I,B))}),h.isLeafNode()||h.forEachChild(rn,function(I,B){if(l.hasChild(I)){var J=l.getImmediateChild(I);J.equals(B)||v.trackChildChange(ko(I,B,J))}else v.trackChildChange(Er(I,B))})),h.withIndex(this.index_)},f.prototype.updatePriority=function(l,h){return l.isEmpty()?pe.EMPTY_NODE:l.updatePriority(h)},f.prototype.filtersNodes=function(){return!1},f.prototype.getIndexedFilter=function(){return this},f.prototype.getIndex=function(){return this.index_},f}(),Co=function(){function f(l){this.indexedFilter_=new co(l.getIndex()),this.index_=l.getIndex(),this.startPost_=f.getStartPost_(l),this.endPost_=f.getEndPost_(l)}return f.prototype.getStartPost=function(){return this.startPost_},f.prototype.getEndPost=function(){return this.endPost_},f.prototype.matches=function(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0},f.prototype.updateChild=function(l,h,v,I,B,J){return this.matches(new fr(h,v))||(v=pe.EMPTY_NODE),this.indexedFilter_.updateChild(l,h,v,I,B,J)},f.prototype.updateFullNode=function(l,h,v){h.isLeafNode()&&(h=pe.EMPTY_NODE);var I=h.withIndex(this.index_);I=I.updatePriority(pe.EMPTY_NODE);var B=this;return h.forEachChild(rn,function(J,be){B.matches(new fr(J,be))||(I=I.updateImmediateChild(J,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,I,v)},f.prototype.updatePriority=function(l,h){return l},f.prototype.filtersNodes=function(){return!0},f.prototype.getIndexedFilter=function(){return this.indexedFilter_},f.prototype.getIndex=function(){return this.index_},f.getStartPost_=function(l){if(l.hasStart()){var h=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),h)}return l.getIndex().minPost()},f.getEndPost_=function(l){if(l.hasEnd()){var h=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),h)}return l.getIndex().maxPost()},f}(),ti=function(){function f(l){this.rangedFilter_=new Co(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}return f.prototype.updateChild=function(l,h,v,I,B,J){return this.rangedFilter_.matches(new fr(h,v))||(v=pe.EMPTY_NODE),l.getImmediateChild(h).equals(v)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,h,v,I,B,J):this.fullLimitUpdateChild_(l,h,v,B,J)},f.prototype.updateFullNode=function(l,h,v){var I;if(h.isLeafNode()||h.isEmpty())I=pe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){I=pe.EMPTY_NODE.withIndex(this.index_);var B=void 0;B=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var J=0;B.hasNext()&&J<this.limit_;){var be=B.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),be)<=0:this.index_.compare(be,this.rangedFilter_.getEndPost())<=0))break;I=I.updateImmediateChild(be.name,be.node),J++}}else{I=(I=h.withIndex(this.index_)).updatePriority(pe.EMPTY_NODE);var Be=void 0,Xe=void 0,Ot=void 0;if(B=void 0,this.reverse_){B=I.getReverseIterator(this.index_),Be=this.rangedFilter_.getEndPost(),Xe=this.rangedFilter_.getStartPost();var zt=this.index_.getCompare();Ot=function(yr,qr){return zt(qr,yr)}}else B=I.getIterator(this.index_),Be=this.rangedFilter_.getStartPost(),Xe=this.rangedFilter_.getEndPost(),Ot=this.index_.getCompare();J=0;for(var mn=!1;B.hasNext();)be=B.getNext(),!mn&&Ot(Be,be)<=0&&(mn=!0),mn&&J<this.limit_&&Ot(be,Xe)<=0?J++:I=I.updateImmediateChild(be.name,pe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,I,v)},f.prototype.updatePriority=function(l,h){return l},f.prototype.filtersNodes=function(){return!0},f.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},f.prototype.getIndex=function(){return this.index_},f.prototype.fullLimitUpdateChild_=function(l,h,v,I,B){var J;if(this.reverse_){var be=this.index_.getCompare();J=function(Oo,qa){return be(qa,Oo)}}else J=this.index_.getCompare();var Ae=l;(0,j.assert)(Ae.numChildren()===this.limit_,"");var Be=new fr(h,v),Xe=this.reverse_?Ae.getFirstChild(this.index_):Ae.getLastChild(this.index_),Ot=this.rangedFilter_.matches(Be);if(Ae.hasChild(h)){for(var zt=Ae.getImmediateChild(h),mn=I.getChildAfterChild(this.index_,Xe,this.reverse_);null!=mn&&(mn.name===h||Ae.hasChild(mn.name));)mn=I.getChildAfterChild(this.index_,mn,this.reverse_);var Pn=null==mn?1:J(mn,Be);if(Ot&&!v.isEmpty()&&Pn>=0)return null!=B&&B.trackChildChange(ko(h,v,zt)),Ae.updateImmediateChild(h,v);null!=B&&B.trackChildChange(di(h,zt));var yr=Ae.updateImmediateChild(h,pe.EMPTY_NODE);return null!=mn&&this.rangedFilter_.matches(mn)?(null!=B&&B.trackChildChange(Er(mn.name,mn.node)),yr.updateImmediateChild(mn.name,mn.node)):yr}return v.isEmpty()?l:Ot&&J(Xe,Be)>=0?(null!=B&&(B.trackChildChange(di(Xe.name,Xe.node)),B.trackChildChange(Er(h,v))),Ae.updateImmediateChild(h,v).updateImmediateChild(Xe.name,pe.EMPTY_NODE)):l},f}(),Vr=function(){function f(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}return f.prototype.hasStart=function(){return this.startSet_},f.prototype.hasStartAfter=function(){return this.startAfterSet_},f.prototype.hasEndBefore=function(){return this.endBeforeSet_},f.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},f.prototype.getIndexStartValue=function(){return(0,j.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},f.prototype.getIndexStartName=function(){return(0,j.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rt},f.prototype.hasEnd=function(){return this.endSet_},f.prototype.getIndexEndValue=function(){return(0,j.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},f.prototype.getIndexEndName=function(){return(0,j.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_t},f.prototype.hasLimit=function(){return this.limitSet_},f.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},f.prototype.getLimit=function(){return(0,j.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},f.prototype.getIndex=function(){return this.index_},f.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},f.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===rn},f.prototype.copy=function(){var l=new f;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l},f}();function ji(f,l,h){var v=f.copy();return v.startSet_=!0,void 0===l&&(l=null),v.indexStartValue_=l,null!=h?(v.startNameSet_=!0,v.indexStartName_=h):(v.startNameSet_=!1,v.indexStartName_=""),v}function Ii(f,l,h){var v=f.copy();return v.endSet_=!0,void 0===l&&(l=null),v.indexEndValue_=l,void 0!==h?(v.endNameSet_=!0,v.indexEndName_=h):(v.endNameSet_=!1,v.indexEndName_=""),v}function eo(f,l){var h=f.copy();return h.index_=l,h}function js(f){var h,l={};return f.isDefault()||(f.index_===rn?h="$priority":f.index_===oi?h="$value":f.index_===bo?h="$key":((0,j.assert)(f.index_ instanceof Jn,"Unrecognized index type!"),h=f.index_.toString()),l.orderBy=(0,j.stringify)(h),f.startSet_&&(l.startAt=(0,j.stringify)(f.indexStartValue_),f.startNameSet_&&(l.startAt+=","+(0,j.stringify)(f.indexStartName_))),f.endSet_&&(l.endAt=(0,j.stringify)(f.indexEndValue_),f.endNameSet_&&(l.endAt+=","+(0,j.stringify)(f.indexEndName_))),f.limitSet_&&(f.isViewFromLeft()?l.limitToFirst=f.limit_:l.limitToLast=f.limit_)),l}function lo(f){var l={};if(f.startSet_&&(l.sp=f.indexStartValue_,f.startNameSet_&&(l.sn=f.indexStartName_)),f.endSet_&&(l.ep=f.indexEndValue_,f.endNameSet_&&(l.en=f.indexEndName_)),f.limitSet_){l.l=f.limit_;var h=f.viewFrom_;""===h&&(h=f.isViewFromLeft()?"l":"r"),l.vf=h}return f.index_!==rn&&(l.i=f.index_.toString()),l}var Jt=function(f){function l(h,v,I,B){var J=f.call(this)||this;return J.repoInfo_=h,J.onDataUpdate_=v,J.authTokenProvider_=I,J.appCheckTokenProvider_=B,J.log_=bt("p:rest:"),J.listens_={},J}return(0,L.__extends)(l,f),l.prototype.reportStats=function(h){throw new Error("Method not implemented.")},l.getListenId_=function(h,v){return void 0!==v?"tag$"+v:((0,j.assert)(h._queryParams.isDefault(),"should have a tag if it's not a default query."),h._path.toString())},l.prototype.listen=function(h,v,I,B){var J=this,be=h._path.toString();this.log_("Listen called for "+be+" "+h._queryIdentifier);var Ae=l.getListenId_(h,I),Be={};this.listens_[Ae]=Be;var Xe=js(h._queryParams);this.restRequest_(be+".json",Xe,function(Ot,zt){var mn=zt;404===Ot&&(mn=null,Ot=null),null===Ot&&J.onDataUpdate_(be,mn,!1,I),(0,j.safeGet)(J.listens_,Ae)===Be&&B(Ot?401===Ot?"permission_denied":"rest_error:"+Ot:"ok",null)})},l.prototype.unlisten=function(h,v){var I=l.getListenId_(h,v);delete this.listens_[I]},l.prototype.get=function(h){var v=this,I=js(h._queryParams),B=h._path.toString(),J=new j.Deferred;return this.restRequest_(B+".json",I,function(be,Ae){var Be=Ae;404===be&&(Be=null,be=null),null===be?(v.onDataUpdate_(B,Be,!1,null),J.resolve(Be)):J.reject(new Error(Be))}),J.promise},l.prototype.refreshAuthToken=function(h){},l.prototype.restRequest_=function(h,v,I){var B=this;return void 0===v&&(v={}),v.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(J){var be=(0,L.__read)(J,2),Ae=be[0],Be=be[1];Ae&&Ae.accessToken&&(v.auth=Ae.accessToken),Be&&Be.token&&(v.ac=Be.token);var Xe=(B.repoInfo_.secure?"https://":"http://")+B.repoInfo_.host+h+"?ns="+B.repoInfo_.namespace+(0,j.querystring)(v);B.log_("Sending REST request for "+Xe);var Ot=new XMLHttpRequest;Ot.onreadystatechange=function(){if(I&&4===Ot.readyState){B.log_("REST Response for "+Xe+" received. status:",Ot.status,"response:",Ot.responseText);var zt=null;if(Ot.status>=200&&Ot.status<300){try{zt=(0,j.jsonEval)(Ot.responseText)}catch(mn){Wn("Failed to parse JSON response for "+Xe+": "+Ot.responseText)}I(null,zt)}else 401!==Ot.status&&404!==Ot.status&&Wn("Got unsuccessful REST response for "+Xe+" Status: "+Ot.status),I(Ot.status);I=null}},Ot.open("GET",Xe,!0),Ot.send()})},l}(Br),Cr=function(){function f(){this.rootNode_=pe.EMPTY_NODE}return f.prototype.getNode=function(l){return this.rootNode_.getChild(l)},f.prototype.updateSnapshot=function(l,h){this.rootNode_=this.rootNode_.updateChild(l,h)},f}();function ea(){return{value:null,children:new Map}}function Ai(f,l,h){if(ir(l))f.value=h,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(l,h);else{var v=Qn(l);f.children.has(v)||f.children.set(v,ea()),Ai(f.children.get(v),l=cr(l),h)}}function Qo(f,l){if(ir(l))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;var h=f.value;return f.value=null,h.forEachChild(rn,function(B,J){Ai(f,new Kn(B),J)}),Qo(f,l)}if(f.children.size>0){var v=Qn(l);return l=cr(l),f.children.has(v)&&Qo(f.children.get(v),l)&&f.children.delete(v),0===f.children.size}return!0}function Bi(f,l,h){null!==f.value?h(l,f.value):function(f,l){f.children.forEach(function(h,v){l(v,h)})}(f,function(v,I){Bi(I,new Kn(l.toString()+"/"+v),h)})}var ta=function(){function f(l){this.collection_=l,this.last_=null}return f.prototype.get=function(){var l=this.collection_.get(),h=(0,L.__assign)({},l);return this.last_&&fn(this.last_,function(v,I){h[v]=h[v]-I}),this.last_=l,h},f}(),Wo=function(){function f(l,h){this.server_=h,this.statsToReport_={},this.statsListener_=new ta(l);var v=1e4+2e4*Math.random();Un(this.reportStats_.bind(this),Math.floor(v))}return f.prototype.reportStats_=function(){var l=this,h=this.statsListener_.get(),v={},I=!1;fn(h,function(B,J){J>0&&(0,j.contains)(l.statsToReport_,B)&&(v[B]=J,I=!0)}),I&&this.server_.reportStats(v),Un(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},f}(),Gr=(()=>(function(f){f[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gr||(Gr={})),Gr))();function $o(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}var io=function(){function f(l,h,v){this.path=l,this.affectedTree=h,this.revert=v,this.type=Gr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return f.prototype.operationForChild=function(l){if(ir(this.path)){if(null!=this.affectedTree.value)return(0,j.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var h=this.affectedTree.subtree(new Kn(l));return new f(pr(),h,this.revert)}return(0,j.assert)(Qn(this.path)===l,"operationForChild called for unrelated child."),new f(cr(this.path),this.affectedTree,this.revert)},f}(),Bs=function(){function f(l,h){this.source=l,this.path=h,this.type=Gr.LISTEN_COMPLETE}return f.prototype.operationForChild=function(l){return ir(this.path)?new f(this.source,pr()):new f(this.source,cr(this.path))},f}(),ca=function(){function f(l,h,v){this.source=l,this.path=h,this.snap=v,this.type=Gr.OVERWRITE}return f.prototype.operationForChild=function(l){return ir(this.path)?new f(this.source,pr(),this.snap.getImmediateChild(l)):new f(this.source,cr(this.path),this.snap)},f}(),es=function(){function f(l,h,v){this.source=l,this.path=h,this.children=v,this.type=Gr.MERGE}return f.prototype.operationForChild=function(l){if(ir(this.path)){var h=this.children.subtree(new Kn(l));return h.isEmpty()?null:h.value?new ca(this.source,pr(),h.value):new f(this.source,pr(),h)}return(0,j.assert)(Qn(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new f(this.source,cr(this.path),this.children)},f.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},f}(),fo=function(){function f(l,h,v){this.node_=l,this.fullyInitialized_=h,this.filtered_=v}return f.prototype.isFullyInitialized=function(){return this.fullyInitialized_},f.prototype.isFiltered=function(){return this.filtered_},f.prototype.isCompleteForPath=function(l){if(ir(l))return this.isFullyInitialized()&&!this.filtered_;var h=Qn(l);return this.isCompleteForChild(h)},f.prototype.isCompleteForChild=function(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)},f.prototype.getNode=function(){return this.node_},f}(),na=function(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()};function vs(f,l,h,v,I,B){var J=v.filter(function(be){return be.type===h});J.sort(function(be,Ae){return function(f,l,h){if(null==l.childName||null==h.childName)throw(0,j.assertionError)("Should only compare child_ events.");var v=new fr(l.childName,l.snapshotNode),I=new fr(h.childName,h.snapshotNode);return f.index_.compare(v,I)}(f,be,Ae)}),J.forEach(function(be){var Ae=function(f,l,h){return"value"===l.type||"child_removed"===l.type||(l.prevName=h.getPredecessorChildName(l.childName,l.snapshotNode,f.index_)),l}(f,be,B);I.forEach(function(Be){Be.respondsTo(be.type)&&l.push(Be.createEvent(Ae,f.query_))})})}function wi(f,l){return{eventCache:f,serverCache:l}}function mo(f,l,h,v){return wi(new fo(l,h,v),f.serverCache)}function Ns(f,l,h,v){return wi(f.eventCache,new fo(l,h,v))}function ys(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function xo(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}var la,vo=function(){function f(l,h){void 0===h&&(la||(la=new Ge(qt)),h=la),this.value=l,this.children=h}return f.fromObject=function(l){var h=new f(null);return fn(l,function(v,I){h=h.set(new Kn(v),I)}),h},f.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},f.prototype.findRootMostMatchingPathAndValue=function(l,h){if(null!=this.value&&h(this.value))return{path:pr(),value:this.value};if(ir(l))return null;var v=Qn(l),I=this.children.get(v);if(null!==I){var B=I.findRootMostMatchingPathAndValue(cr(l),h);return null!=B?{path:zr(new Kn(v),B.path),value:B.value}:null}return null},f.prototype.findRootMostValueAndPath=function(l){return this.findRootMostMatchingPathAndValue(l,function(){return!0})},f.prototype.subtree=function(l){if(ir(l))return this;var h=Qn(l),v=this.children.get(h);return null!==v?v.subtree(cr(l)):new f(null)},f.prototype.set=function(l,h){if(ir(l))return new f(h,this.children);var v=Qn(l),B=(this.children.get(v)||new f(null)).set(cr(l),h),J=this.children.insert(v,B);return new f(this.value,J)},f.prototype.remove=function(l){if(ir(l))return this.children.isEmpty()?new f(null):new f(null,this.children);var h=Qn(l),v=this.children.get(h);if(v){var I=v.remove(cr(l)),B=void 0;return B=I.isEmpty()?this.children.remove(h):this.children.insert(h,I),null===this.value&&B.isEmpty()?new f(null):new f(this.value,B)}return this},f.prototype.get=function(l){if(ir(l))return this.value;var h=Qn(l),v=this.children.get(h);return v?v.get(cr(l)):null},f.prototype.setTree=function(l,h){if(ir(l))return h;var J,v=Qn(l),B=(this.children.get(v)||new f(null)).setTree(cr(l),h);return J=B.isEmpty()?this.children.remove(v):this.children.insert(v,B),new f(this.value,J)},f.prototype.fold=function(l){return this.fold_(pr(),l)},f.prototype.fold_=function(l,h){var v={};return this.children.inorderTraversal(function(I,B){v[I]=B.fold_(zr(l,I),h)}),h(l,this.value,v)},f.prototype.findOnPath=function(l,h){return this.findOnPath_(l,pr(),h)},f.prototype.findOnPath_=function(l,h,v){var I=!!this.value&&v(h,this.value);if(I)return I;if(ir(l))return null;var B=Qn(l),J=this.children.get(B);return J?J.findOnPath_(cr(l),zr(h,B),v):null},f.prototype.foreachOnPath=function(l,h){return this.foreachOnPath_(l,pr(),h)},f.prototype.foreachOnPath_=function(l,h,v){if(ir(l))return this;this.value&&v(h,this.value);var I=Qn(l),B=this.children.get(I);return B?B.foreachOnPath_(cr(l),zr(h,I),v):new f(null)},f.prototype.foreach=function(l){this.foreach_(pr(),l)},f.prototype.foreach_=function(l,h){this.children.inorderTraversal(function(v,I){I.foreach_(zr(l,v),h)}),this.value&&h(l,this.value)},f.prototype.foreachChild=function(l){this.children.inorderTraversal(function(h,v){v.value&&l(h,v.value)})},f}(),ds=function(){function f(l){this.writeTree_=l}return f.empty=function(){return new f(new vo(null))},f}();function Qi(f,l,h){if(ir(l))return new ds(new vo(h));var v=f.writeTree_.findRootMostValueAndPath(l);if(null!=v){var I=v.path,B=v.value,J=ii(I,l);return B=B.updateChild(J,h),new ds(f.writeTree_.set(I,B))}var be=new vo(h),Ae=f.writeTree_.setTree(l,be);return new ds(Ae)}function ts(f,l,h){var v=f;return fn(h,function(I,B){v=Qi(v,zr(l,I),B)}),v}function $i(f,l){if(ir(l))return ds.empty();var h=f.writeTree_.setTree(l,new vo(null));return new ds(h)}function Hs(f,l){return null!=hi(f,l)}function hi(f,l){var h=f.writeTree_.findRootMostValueAndPath(l);return null!=h?f.writeTree_.get(h.path).getChild(ii(h.path,l)):null}function Ms(f){var l=[],h=f.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(rn,function(v,I){l.push(new fr(v,I))}):f.writeTree_.children.inorderTraversal(function(v,I){null!=I.value&&l.push(new fr(v,I.value))}),l}function y(f,l){if(ir(l))return f;var h=hi(f,l);return new ds(null!=h?new vo(h):f.writeTree_.subtree(l))}function U(f){return f.writeTree_.isEmpty()}function X(f,l){return _e(pr(),f.writeTree_,l)}function _e(f,l,h){if(null!=l.value)return h.updateChild(f,l.value);var v=null;return l.children.inorderTraversal(function(I,B){".priority"===I?((0,j.assert)(null!==B.value,"Priority writes must always be leaf nodes"),v=B.value):h=_e(zr(f,I),B,h)}),!h.getChild(f).isEmpty()&&null!==v&&(h=h.updateChild(zr(f,".priority"),v)),h}function A(f,l){return _s(l,f)}function Cn(f,l){if(f.snap)return Hr(f.path,l);for(var h in f.children)if(f.children.hasOwnProperty(h)&&Hr(zr(f.path,h),l))return!0;return!1}function bi(f){return f.visible}function Li(f,l,h){for(var v=ds.empty(),I=0;I<f.length;++I){var B=f[I];if(l(B)){var J=B.path,be=void 0;if(B.snap)Hr(h,J)?v=Qi(v,be=ii(h,J),B.snap):Hr(J,h)&&(be=ii(J,h),v=Qi(v,pr(),B.snap.getChild(be)));else{if(!B.children)throw(0,j.assertionError)("WriteRecord should have .snap or .children");if(Hr(h,J))v=ts(v,be=ii(h,J),B.children);else if(Hr(J,h))if(ir(be=ii(J,h)))v=ts(v,pr(),B.children);else{var Ae=(0,j.safeGet)(B.children,Qn(be));if(Ae){var Be=Ae.getChild(cr(be));v=Qi(v,pr(),Be)}}}}}return v}function Uo(f,l,h,v,I){if(v||I){var Ae=y(f.visibleWrites,l);return!I&&U(Ae)?h:I||null!=h||Hs(Ae,pr())?X(Li(f.allWrites,function(zt){return(zt.visible||I)&&(!v||!~v.indexOf(zt.writeId))&&(Hr(zt.path,l)||Hr(l,zt.path))},l),h||pe.EMPTY_NODE):null}var B=hi(f.visibleWrites,l);if(null!=B)return B;var J=y(f.visibleWrites,l);return U(J)?h:null!=h||Hs(J,pr())?X(J,h||pe.EMPTY_NODE):null}function fa(f,l,h,v){return Uo(f.writeTree,f.treePath,l,h,v)}function Sa(f,l){return function(f,l,h){var v=pe.EMPTY_NODE,I=hi(f.visibleWrites,l);if(I)return I.isLeafNode()||I.forEachChild(rn,function(be,Ae){v=v.updateImmediateChild(be,Ae)}),v;if(h){var B=y(f.visibleWrites,l);return h.forEachChild(rn,function(be,Ae){var Be=X(y(B,new Kn(be)),Ae);v=v.updateImmediateChild(be,Be)}),Ms(B).forEach(function(be){v=v.updateImmediateChild(be.name,be.node)}),v}return Ms(y(f.visibleWrites,l)).forEach(function(be){v=v.updateImmediateChild(be.name,be.node)}),v}(f.writeTree,f.treePath,l)}function da(f,l,h,v){return function(f,l,h,v,I){(0,j.assert)(v||I,"Either existingEventSnap or existingServerSnap must exist");var B=zr(l,h);if(Hs(f.visibleWrites,B))return null;var J=y(f.visibleWrites,B);return U(J)?I.getChild(h):X(J,I.getChild(h))}(f.writeTree,f.treePath,l,h,v)}function hs(f,l){return function(f,l){return hi(f.visibleWrites,l)}(f.writeTree,zr(f.treePath,l))}function ho(f,l,h){return function(f,l,h,v){var I=zr(l,h),B=hi(f.visibleWrites,I);return null!=B?B:v.isCompleteForChild(h)?X(y(f.visibleWrites,I),v.getNode().getImmediateChild(h)):null}(f.writeTree,f.treePath,l,h)}function ha(f,l){return _s(zr(f.treePath,l),f.writeTree)}function _s(f,l){return{treePath:f,writeTree:l}}var Tu=function(){function f(){this.changeMap=new Map}return f.prototype.trackChildChange=function(l){var h=l.type,v=l.childName;(0,j.assert)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,j.assert)(".priority"!==v,"Only non-priority child changes can be tracked.");var I=this.changeMap.get(v);if(I){var B=I.type;if("child_added"===h&&"child_removed"===B)this.changeMap.set(v,ko(v,l.snapshotNode,I.snapshotNode));else if("child_removed"===h&&"child_added"===B)this.changeMap.delete(v);else if("child_removed"===h&&"child_changed"===B)this.changeMap.set(v,di(v,I.oldSnap));else if("child_changed"===h&&"child_added"===B)this.changeMap.set(v,Er(v,l.snapshotNode));else{if("child_changed"!==h||"child_changed"!==B)throw(0,j.assertionError)("Illegal combination of changes: "+l+" occurred after "+I);this.changeMap.set(v,ko(v,l.snapshotNode,I.oldSnap))}}else this.changeMap.set(v,l)},f.prototype.getChanges=function(){return Array.from(this.changeMap.values())},f}(),ba=new(function(){function f(){}return f.prototype.getCompleteChild=function(l){return null},f.prototype.getChildAfterChild=function(l,h,v){return null},f}()),V=function(){function f(l,h,v){void 0===v&&(v=null),this.writes_=l,this.viewCache_=h,this.optCompleteServerCache_=v}return f.prototype.getCompleteChild=function(l){var h=this.viewCache_.eventCache;if(h.isCompleteForChild(l))return h.getNode().getImmediateChild(l);var v=null!=this.optCompleteServerCache_?new fo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ho(this.writes_,l,v)},f.prototype.getChildAfterChild=function(l,h,v){var I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xo(this.viewCache_),B=function(f,l,h,v,I,B){return function(f,l,h,v,I,B,J){var be,Ae=y(f.visibleWrites,l),Be=hi(Ae,pr());if(null!=Be)be=Be;else{if(null==h)return[];be=X(Ae,h)}if((be=be.withIndex(J)).isEmpty()||be.isLeafNode())return[];for(var Xe=[],Ot=J.getCompare(),zt=B?be.getReverseIteratorFrom(v,J):be.getIteratorFrom(v,J),mn=zt.getNext();mn&&Xe.length<I;)0!==Ot(mn,v)&&Xe.push(mn),mn=zt.getNext();return Xe}(f.writeTree,f.treePath,l,h,v,I,B)}(this.writes_,I,h,1,v,l);return 0===B.length?null:B[0]},f}();function we(f,l,h,v,I,B){var J=l.eventCache;if(null!=hs(v,h))return l;var be=void 0,Ae=void 0;if(ir(h))if((0,j.assert)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){var Be=xo(l),Ot=Sa(v,Be instanceof pe?Be:pe.EMPTY_NODE);be=f.filter.updateFullNode(l.eventCache.getNode(),Ot,B)}else{var zt=fa(v,xo(l));be=f.filter.updateFullNode(l.eventCache.getNode(),zt,B)}else{var mn=Qn(h);if(".priority"===mn){(0,j.assert)(1===Rr(h),"Can't have a priority with additional path components");var Pn=J.getNode(),jr=da(v,h,Pn,Ae=l.serverCache.getNode());be=null!=jr?f.filter.updatePriority(Pn,jr):J.getNode()}else{var yr=cr(h),qr=void 0;if(J.isCompleteForChild(mn)){Ae=l.serverCache.getNode();var Oo=da(v,h,J.getNode(),Ae);qr=null!=Oo?J.getNode().getImmediateChild(mn).updateChild(yr,Oo):J.getNode().getImmediateChild(mn)}else qr=ho(v,mn,l.serverCache);be=null!=qr?f.filter.updateChild(J.getNode(),mn,qr,yr,I,B):J.getNode()}}return mo(l,be,J.isFullyInitialized()||ir(h),f.filter.filtersNodes())}function We(f,l,h,v,I,B,J,be){var Be,Ae=l.serverCache,Xe=J?f.filter:f.filter.getIndexedFilter();if(ir(h))Be=Xe.updateFullNode(Ae.getNode(),v,null);else if(Xe.filtersNodes()&&!Ae.isFiltered()){var Ot=Ae.getNode().updateChild(h,v);Be=Xe.updateFullNode(Ae.getNode(),Ot,null)}else{var zt=Qn(h);if(!Ae.isCompleteForPath(h)&&Rr(h)>1)return l;var mn=cr(h),jr=Ae.getNode().getImmediateChild(zt).updateChild(mn,v);Be=".priority"===zt?Xe.updatePriority(Ae.getNode(),jr):Xe.updateChild(Ae.getNode(),zt,jr,mn,ba,null)}var yr=Ns(l,Be,Ae.isFullyInitialized()||ir(h),Xe.filtersNodes());return we(f,yr,h,I,new V(I,yr,B),be)}function ut(f,l,h,v,I,B,J){var Ae,Be,be=l.eventCache,Xe=new V(I,l,B);if(ir(h))Be=f.filter.updateFullNode(l.eventCache.getNode(),v,J),Ae=mo(l,Be,!0,f.filter.filtersNodes());else{var Ot=Qn(h);if(".priority"===Ot)Be=f.filter.updatePriority(l.eventCache.getNode(),v),Ae=mo(l,Be,be.isFullyInitialized(),be.isFiltered());else{var zt=cr(h),mn=be.getNode().getImmediateChild(Ot),Pn=void 0;if(ir(zt))Pn=v;else{var jr=Xe.getCompleteChild(Ot);Pn=null!=jr?".priority"===Wi(zt)&&jr.getChild(Fn(zt)).isEmpty()?jr:jr.updateChild(zt,v):pe.EMPTY_NODE}Ae=mn.equals(Pn)?l:mo(l,f.filter.updateChild(be.getNode(),Ot,Pn,zt,Xe,J),be.isFullyInitialized(),f.filter.filtersNodes())}}return Ae}function $t(f,l){return f.eventCache.isCompleteForChild(l)}function Xt(f,l,h){return h.foreach(function(v,I){l=l.updateChild(v,I)}),l}function Zn(f,l,h,v,I,B,J,be){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;var Be,Ae=l;Be=ir(h)?v:new vo(null).setTree(h,v);var Xe=l.serverCache.getNode();return Be.children.inorderTraversal(function(Ot,zt){if(Xe.hasChild(Ot)){var Pn=Xt(0,l.serverCache.getNode().getImmediateChild(Ot),zt);Ae=We(f,Ae,new Kn(Ot),Pn,I,B,J,be)}}),Be.children.inorderTraversal(function(Ot,zt){var mn=!l.serverCache.isCompleteForChild(Ot)&&void 0===zt.value;if(!Xe.hasChild(Ot)&&!mn){var jr=Xt(0,l.serverCache.getNode().getImmediateChild(Ot),zt);Ae=We(f,Ae,new Kn(Ot),jr,I,B,J,be)}}),Ae}var Gs=function(){function f(l,h){this.query_=l,this.eventRegistrations_=[];var v=this.query_._queryParams,I=new co(v.getIndex()),B=function(f){return f.loadsAllData()?new co(f.getIndex()):f.hasLimit()?new ti(f):new Co(f)}(v);this.processor_=function(f){return{filter:f}}(B);var J=h.serverCache,be=h.eventCache,Ae=I.updateFullNode(pe.EMPTY_NODE,J.getNode(),null),Be=B.updateFullNode(pe.EMPTY_NODE,be.getNode(),null),Xe=new fo(Ae,J.isFullyInitialized(),I.filtersNodes()),Ot=new fo(Be,be.isFullyInitialized(),B.filtersNodes());this.viewCache_=wi(Ot,Xe),this.eventGenerator_=new na(this.query_)}return Object.defineProperty(f.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),f}();function Qc(f,l){var h=xo(f.viewCache_);return h&&(f.query._queryParams.loadsAllData()||!ir(l)&&!h.getImmediateChild(Qn(l)).isEmpty())?h.getChild(l):null}function ka(f){return 0===f.eventRegistrations_.length}function Ka(f,l,h){var v=[];if(h){(0,j.assert)(null==l,"A cancel should cancel all event registrations.");var I=f.query._path;f.eventRegistrations_.forEach(function(Ae){var Be=Ae.createCancelEvent(h,I);Be&&v.push(Be)})}if(l){for(var B=[],J=0;J<f.eventRegistrations_.length;++J){var be=f.eventRegistrations_[J];if(be.matches(l)){if(l.hasAnyCallback()){B=B.concat(f.eventRegistrations_.slice(J+1));break}}else B.push(be)}f.eventRegistrations_=B}else f.eventRegistrations_=[];return v}function Ya(f,l,h,v){l.type===Gr.MERGE&&null!==l.source.queryId&&((0,j.assert)(xo(f.viewCache_),"We should always have a full cache before handling merges"),(0,j.assert)(ys(f.viewCache_),"Missing event cache, even though we have a server cache"));var I=f.viewCache_,B=function(f,l,h,v,I){var J,be,B=new Tu;if(h.type===Gr.OVERWRITE){var Ae=h;Ae.source.fromUser?J=ut(f,l,Ae.path,Ae.snap,v,I,B):((0,j.assert)(Ae.source.fromServer,"Unknown source."),be=Ae.source.tagged||l.serverCache.isFiltered()&&!ir(Ae.path),J=We(f,l,Ae.path,Ae.snap,v,I,be,B))}else if(h.type===Gr.MERGE){var Be=h;Be.source.fromUser?J=function(f,l,h,v,I,B,J){var be=l;return v.foreach(function(Ae,Be){var Xe=zr(h,Ae);$t(l,Qn(Xe))&&(be=ut(f,be,Xe,Be,I,B,J))}),v.foreach(function(Ae,Be){var Xe=zr(h,Ae);$t(l,Qn(Xe))||(be=ut(f,be,Xe,Be,I,B,J))}),be}(f,l,Be.path,Be.children,v,I,B):((0,j.assert)(Be.source.fromServer,"Unknown source."),be=Be.source.tagged||l.serverCache.isFiltered(),J=Zn(f,l,Be.path,Be.children,v,I,be,B))}else if(h.type===Gr.ACK_USER_WRITE){var Xe=h;J=Xe.revert?function(f,l,h,v,I,B){var J;if(null!=hs(v,h))return l;var be=new V(v,l,I),Ae=l.eventCache.getNode(),Be=void 0;if(ir(h)||".priority"===Qn(h)){var Xe=void 0;if(l.serverCache.isFullyInitialized())Xe=fa(v,xo(l));else{var Ot=l.serverCache.getNode();(0,j.assert)(Ot instanceof pe,"serverChildren would be complete if leaf node"),Xe=Sa(v,Ot)}Be=f.filter.updateFullNode(Ae,Xe=Xe,B)}else{var zt=Qn(h),mn=ho(v,zt,l.serverCache);null==mn&&l.serverCache.isCompleteForChild(zt)&&(mn=Ae.getImmediateChild(zt)),(Be=null!=mn?f.filter.updateChild(Ae,zt,mn,cr(h),be,B):l.eventCache.getNode().hasChild(zt)?f.filter.updateChild(Ae,zt,pe.EMPTY_NODE,cr(h),be,B):Ae).isEmpty()&&l.serverCache.isFullyInitialized()&&(J=fa(v,xo(l))).isLeafNode()&&(Be=f.filter.updateFullNode(Be,J,B))}return J=l.serverCache.isFullyInitialized()||null!=hs(v,pr()),mo(l,Be,J,f.filter.filtersNodes())}(f,l,Xe.path,v,I,B):function(f,l,h,v,I,B,J){if(null!=hs(I,h))return l;var be=l.serverCache.isFiltered(),Ae=l.serverCache;if(null!=v.value){if(ir(h)&&Ae.isFullyInitialized()||Ae.isCompleteForPath(h))return We(f,l,h,Ae.getNode().getChild(h),I,B,be,J);if(ir(h)){var Be=new vo(null);return Ae.getNode().forEachChild(bo,function(Ot,zt){Be=Be.set(new Kn(Ot),zt)}),Zn(f,l,h,Be,I,B,be,J)}return l}var Xe=new vo(null);return v.foreach(function(Ot,zt){var mn=zr(h,Ot);Ae.isCompleteForPath(mn)&&(Xe=Xe.set(Ot,Ae.getNode().getChild(mn)))}),Zn(f,l,h,Xe,I,B,be,J)}(f,l,Xe.path,Xe.affectedTree,v,I,B)}else{if(h.type!==Gr.LISTEN_COMPLETE)throw(0,j.assertionError)("Unknown operation type: "+h.type);J=function(f,l,h,v,I){var B=l.serverCache;return we(f,Ns(l,B.getNode(),B.isFullyInitialized()||ir(h),B.isFiltered()),h,v,ba,I)}(f,l,h.path,v,B)}var Ot=B.getChanges();return function(f,l,h){var v=l.eventCache;if(v.isFullyInitialized()){var I=v.getNode().isLeafNode()||v.getNode().isEmpty(),B=ys(f);(h.length>0||!f.eventCache.isFullyInitialized()||I&&!v.getNode().equals(B)||!v.getNode().getPriority().equals(B.getPriority()))&&h.push(Fi(ys(l)))}}(l,J,Ot),{viewCache:J,changes:Ot}}(f.processor_,I,l,h,v);return function(f,l){(0,j.assert)(l.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,j.assert)(l.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,B.viewCache),(0,j.assert)(B.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=B.viewCache,Hu(f,B.changes,B.viewCache.eventCache.getNode(),null)}function Hu(f,l,h,v){return function(f,l,h,v){var I=[],B=[];return l.forEach(function(J){"child_changed"===J.type&&f.index_.indexedValueChanged(J.oldSnap,J.snapshotNode)&&B.push(function(f,l){return{type:"child_moved",snapshotNode:l,childName:f}}(J.childName,J.snapshotNode))}),vs(f,I,"child_removed",l,v,h),vs(f,I,"child_added",l,v,h),vs(f,I,"child_moved",B,v,h),vs(f,I,"child_changed",l,v,h),vs(f,I,"value",l,v,h),I}(f.eventGenerator_,l,h,v?[v]:f.eventRegistrations_)}var jo,qu,ia=function(){this.views=new Map};function Fa(f,l,h,v){var I,B,J=l.source.queryId;if(null!==J){var be=f.views.get(J);return(0,j.assert)(null!=be,"SyncTree gave us an op for an invalid query."),Ya(be,l,h,v)}var Ae=[];try{for(var Be=(0,L.__values)(f.views.values()),Xe=Be.next();!Xe.done;Xe=Be.next())Ae=Ae.concat(Ya(be=Xe.value,l,h,v))}catch(Ot){I={error:Ot}}finally{try{Xe&&!Xe.done&&(B=Be.return)&&B.call(Be)}finally{if(I)throw I.error}}return Ae}function Bo(f,l,h,v,I){var J=f.views.get(l._queryIdentifier);if(!J){var be=fa(h,I?v:null),Ae=!1;be?Ae=!0:v instanceof pe?(be=Sa(h,v),Ae=!1):(be=pe.EMPTY_NODE,Ae=!1);var Be=wi(new fo(be,Ae,!1),new fo(v,I,!1));return new Gs(l,Be)}return J}function Jc(f){var l,h,v=[];try{for(var I=(0,L.__values)(f.views.values()),B=I.next();!B.done;B=I.next()){var J=B.value;J.query._queryParams.loadsAllData()||v.push(J)}}catch(be){l={error:be}}finally{try{B&&!B.done&&(h=I.return)&&h.call(I)}finally{if(l)throw l.error}}return v}function Qa(f,l){var h,v,I=null;try{for(var B=(0,L.__values)(f.views.values()),J=B.next();!J.done;J=B.next())I=I||Qc(J.value,l)}catch(Ae){h={error:Ae}}finally{try{J&&!J.done&&(v=B.return)&&v.call(B)}finally{if(h)throw h.error}}return I}function Io(f,l){return l._queryParams.loadsAllData()?Gu(f):f.views.get(l._queryIdentifier)}function dc(f,l){return null!=Io(f,l)}function La(f){return null!=Gu(f)}function Gu(f){var l,h;try{for(var v=(0,L.__values)(f.views.values()),I=v.next();!I.done;I=v.next()){var B=I.value;if(B.query._queryParams.loadsAllData())return B}}catch(J){l={error:J}}finally{try{I&&!I.done&&(h=v.return)&&h.call(v)}finally{if(l)throw l.error}}return null}var rf=1,qs=function(l){this.listenProvider_=l,this.syncPointTree_=new vo(null),this.pendingWriteTree_={visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Xc(f,l,h,v,I){return function(f,l,h,v,I){(0,j.assert)(v>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),f.allWrites.push({path:l,snap:h,writeId:v,visible:I}),I&&(f.visibleWrites=Qi(f.visibleWrites,l,h)),f.lastWriteId=v}(f.pendingWriteTree_,l,h,v,I),I?gs(f,new ca({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,h)):[]}function Ja(f,l,h){void 0===h&&(h=!1);var v=function(f,l){for(var h=0;h<f.allWrites.length;h++){var v=f.allWrites[h];if(v.writeId===l)return v}return null}(f.pendingWriteTree_,l);if(function(f,l){var h=f.allWrites.findIndex(function(Be){return Be.writeId===l});(0,j.assert)(h>=0,"removeWrite called with nonexistent writeId.");var v=f.allWrites[h];f.allWrites.splice(h,1);for(var I=v.visible,B=!1,J=f.allWrites.length-1;I&&J>=0;){var be=f.allWrites[J];be.visible&&(J>=h&&Cn(be,v.path)?I=!1:Hr(v.path,be.path)&&(B=!0)),J--}return!!I&&(B?(function(f){f.visibleWrites=Li(f.allWrites,bi,pr()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(v.snap?f.visibleWrites=$i(f.visibleWrites,v.path):fn(v.children,function(Be){f.visibleWrites=$i(f.visibleWrites,zr(v.path,Be))}),!0))}(f.pendingWriteTree_,l)){var B=new vo(null);return null!=v.snap?B=B.set(pr(),!0):fn(v.children,function(J){B=B.set(new Kn(J),!0)}),gs(f,new io(v.path,B,h))}return[]}function rs(f,l,h){return gs(f,new ca({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,h))}function Au(f,l,h,v){var I=l._path,B=f.syncPointTree_.get(I),J=[];if(B&&("default"===l._queryIdentifier||dc(B,l))){var be=function(f,l,h,v){var I,B,J=l._queryIdentifier,be=[],Ae=[],Be=La(f);if("default"===J)try{for(var Xe=(0,L.__values)(f.views.entries()),Ot=Xe.next();!Ot.done;Ot=Xe.next()){var Pn,zt=(0,L.__read)(Ot.value,2),mn=zt[0];Ae=Ae.concat(Ka(Pn=zt[1],h,v)),ka(Pn)&&(f.views.delete(mn),Pn.query._queryParams.loadsAllData()||be.push(Pn.query))}}catch(jr){I={error:jr}}finally{try{Ot&&!Ot.done&&(B=Xe.return)&&B.call(Xe)}finally{if(I)throw I.error}}else(Pn=f.views.get(J))&&(Ae=Ae.concat(Ka(Pn,h,v)),ka(Pn)&&(f.views.delete(J),Pn.query._queryParams.loadsAllData()||be.push(Pn.query)));return Be&&!La(f)&&be.push(new((0,j.assert)(jo,"Reference.ts has not been loaded"),jo)(l._repo,l._path)),{removed:be,events:Ae}}(B,l,h,v);(function(f){return 0===f.views.size})(B)&&(f.syncPointTree_=f.syncPointTree_.remove(I));var Ae=be.removed;J=be.events;var Be=-1!==Ae.findIndex(function(Oo){return Oo._queryParams.loadsAllData()}),Xe=f.syncPointTree_.findOnPath(I,function(Oo,qa){return La(qa)});if(Be&&!Xe){var Ot=f.syncPointTree_.subtree(I);if(!Ot.isEmpty())for(var zt=function(f){return f.fold(function(l,h,v){if(h&&La(h))return[Gu(h)];var B=[];return h&&(B=Jc(h)),fn(v,function(J,be){B=B.concat(be)}),B})}(Ot),mn=0;mn<zt.length;++mn){var Pn=zt[mn],jr=Pn.query,yr=xa(f,Pn);f.listenProvider_.startListening(eu(jr),fu(f,jr),yr.hashFn,yr.onComplete)}}!Xe&&Ae.length>0&&!v&&(Be?f.listenProvider_.stopListening(eu(l),null):Ae.forEach(function(Oo){var qa=f.queryToTagMap.get(Xa(Oo));f.listenProvider_.stopListening(eu(Oo),qa)})),function(f,l){for(var h=0;h<l.length;++h){var v=l[h];if(!v._queryParams.loadsAllData()){var I=Xa(v),B=f.queryToTagMap.get(I);f.queryToTagMap.delete(I),f.tagToQueryMap.delete(B)}}}(f,Ae)}return J}function hc(f,l,h){var v=l._path,I=null,B=!1;f.syncPointTree_.foreachOnPath(v,function(jr,yr){var qr=ii(jr,v);I=I||Qa(yr,qr),B=B||La(yr)});var be,J=f.syncPointTree_.get(v);J?(B=B||La(J),I=I||Qa(J,pr())):(J=new ia,f.syncPointTree_=f.syncPointTree_.set(v,J)),null!=I?be=!0:(be=!1,I=pe.EMPTY_NODE,f.syncPointTree_.subtree(v).foreachChild(function(jr,yr){var qr=Qa(yr,pr());qr&&(I=I.updateImmediateChild(jr,qr))}));var Be=dc(J,l);if(!Be&&!l._queryParams.loadsAllData()){var Xe=Xa(l);(0,j.assert)(!f.queryToTagMap.has(Xe),"View does not exist, but we have a tag");var Ot=rf++;f.queryToTagMap.set(Xe,Ot),f.tagToQueryMap.set(Ot,Xe)}var mn=function(f,l,h,v,I,B){var J=Bo(f,l,v,I,B);return f.views.has(l._queryIdentifier)||f.views.set(l._queryIdentifier,J),function(f,l){f.eventRegistrations_.push(l)}(J,h),function(f,l){var h=f.viewCache_.eventCache,v=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(rn,function(B,J){v.push(Er(B,J))}),h.isFullyInitialized()&&v.push(Fi(h.getNode())),Hu(f,v,h.getNode(),l)}(J,h)}(J,l,h,A(f.pendingWriteTree_,v),I,be);if(!Be&&!B){var Pn=Io(J,l);mn=mn.concat(function(f,l,h){var v=l._path,I=fu(f,l),B=xa(f,h),J=f.listenProvider_.startListening(eu(l),I,B.hashFn,B.onComplete),be=f.syncPointTree_.subtree(v);if(I)(0,j.assert)(!La(be.value),"If we're adding a query, it shouldn't be shadowed");else for(var Ae=be.fold(function(Ot,zt,mn){if(!ir(Ot)&&zt&&La(zt))return[Gu(zt).query];var Pn=[];return zt&&(Pn=Pn.concat(Jc(zt).map(function(jr){return jr.query}))),fn(mn,function(jr,yr){Pn=Pn.concat(yr)}),Pn}),Be=0;Be<Ae.length;++Be){var Xe=Ae[Be];f.listenProvider_.stopListening(eu(Xe),fu(f,Xe))}return J}(f,l,Pn))}return mn}function ps(f,l,h){var I=f.pendingWriteTree_,B=f.syncPointTree_.findOnPath(l,function(J,be){var Be=Qa(be,ii(J,l));if(Be)return Be});return Uo(I,l,B,h,!0)}function gs(f,l){return Ra(l,f.syncPointTree_,null,A(f.pendingWriteTree_,pr()))}function Ra(f,l,h,v){if(ir(f.path))return Ps(f,l,h,v);var I=l.get(pr());null==h&&null!=I&&(h=Qa(I,pr()));var B=[],J=Qn(f.path),be=f.operationForChild(J),Ae=l.children.get(J);if(Ae&&be){var Be=h?h.getImmediateChild(J):null,Xe=ha(v,J);B=B.concat(Ra(be,Ae,Be,Xe))}return I&&(B=B.concat(Fa(I,f,v,h))),B}function Ps(f,l,h,v){var I=l.get(pr());null==h&&null!=I&&(h=Qa(I,pr()));var B=[];return l.children.inorderTraversal(function(J,be){var Ae=h?h.getImmediateChild(J):null,Be=ha(v,J),Xe=f.operationForChild(J);Xe&&(B=B.concat(Ps(Xe,be,Ae,Be)))}),I&&(B=B.concat(Fa(I,f,v,h))),B}function xa(f,l){var h=l.query,v=fu(f,h);return{hashFn:function(){return(function(f){return f.viewCache_.serverCache.getNode()}(l)||pe.EMPTY_NODE).hash()},onComplete:function(I){if("ok"===I)return v?function(f,l,h){var v=pc(f,h);if(v){var I=Va(v),B=I.path,J=I.queryId,be=ii(B,l);return du(f,B,new Bs($o(J),be))}return[]}(f,h._path,v):function(f,l){return gs(f,new Bs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(f,h._path);var B=function(f,l){var h="Unknown Error";"too_big"===f?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?h="Client doesn't have permission to access the desired data.":"unavailable"===f&&(h="The service is unavailable");var v=new Error(f+" at "+l._path.toString()+": "+h);return v.code=f.toUpperCase(),v}(I,h);return Au(f,h,null,B)}}}function fu(f,l){var h=Xa(l);return f.queryToTagMap.get(h)}function Xa(f){return f._path.toString()+"$"+f._queryIdentifier}function pc(f,l){return f.tagToQueryMap.get(l)}function Va(f){var l=f.indexOf("$");return(0,j.assert)(-1!==l&&l<f.length-1,"Bad queryKey."),{queryId:f.substr(l+1),path:new Kn(f.substr(0,l))}}function du(f,l,h){var v=f.syncPointTree_.get(l);return(0,j.assert)(v,"Missing sync point for query tag that we're tracking"),Fa(v,h,A(f.pendingWriteTree_,l),null)}function eu(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new((0,j.assert)(qu,"Reference.ts has not been loaded"),qu)(f._repo,f._path):f}var hu=function(){function f(l){this.node_=l}return f.prototype.getImmediateChild=function(l){return new f(this.node_.getImmediateChild(l))},f.prototype.node=function(){return this.node_},f}(),Ua=function(){function f(l,h){this.syncTree_=l,this.path_=h}return f.prototype.getImmediateChild=function(l){var h=zr(this.path_,l);return new f(this.syncTree_,h)},f.prototype.node=function(){return ps(this.syncTree_,this.path_)},f}(),Rc=function(f,l,h){return f&&"object"==typeof f?((0,j.assert)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?xl(f[".sv"],l,h):"object"==typeof f[".sv"]?Ku(f[".sv"],l):void(0,j.assert)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},xl=function(f,l,h){switch(f){case"timestamp":return h.timestamp;default:(0,j.assert)(!1,"Unexpected server value: "+f)}},Ku=function(f,l,h){f.hasOwnProperty("increment")||(0,j.assert)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));var v=f.increment;"number"!=typeof v&&(0,j.assert)(!1,"Unexpected increment value: "+v);var I=l.node();if((0,j.assert)(null!=I,"Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return v;var J=I.getValue();return"number"!=typeof J?v:J+v},Du=function(f,l,h,v){return $s(l,new Ua(h,f),v)},Na=function(f,l,h){return $s(f,new hu(l),h)};function $s(f,l,h){var B,v=f.getPriority().val(),I=Rc(v,l.getImmediateChild(".priority"),h);if(f.isLeafNode()){var J=f,be=Rc(J.getValue(),l,h);return be!==J.getValue()||I!==J.getPriority().val()?new ge(be,Dn(I)):f}var Ae=f;return B=Ae,I!==Ae.getPriority().val()&&(B=B.updatePriority(new ge(I))),Ae.forEachChild(rn,function(Be,Xe){var Ot=$s(Xe,l.getImmediateChild(Be),h);Ot!==Xe&&(B=B.updateImmediateChild(Be,Ot))}),B}var is=function(l,h,v){void 0===l&&(l=""),void 0===h&&(h=null),void 0===v&&(v={children:{},childCount:0}),this.name=l,this.parent=h,this.node=v};function Ma(f,l){for(var h=l instanceof Kn?l:new Kn(l),v=f,I=Qn(h);null!==I;){var B=(0,j.safeGet)(v.node.children,I)||{children:{},childCount:0};v=new is(I,v,B),I=Qn(h=cr(h))}return v}function Ho(f){return f.node.value}function ja(f,l){f.node.value=l,Oe(f)}function gc(f){return f.node.childCount>0}function N(f,l){fn(f.node.children,function(h,v){l(new is(h,f,v))})}function G(f,l,h,v){h&&!v&&l(f),N(f,function(I){G(I,l,!0,v)}),h&&v&&l(f)}function he(f){return new Kn(null===f.parent?f.name:he(f.parent)+"/"+f.name)}function Oe(f){null!==f.parent&&function(f,l,h){var v=function(f){return void 0===Ho(f)&&!gc(f)}(h),I=(0,j.contains)(f.node.children,l);v&&I?(delete f.node.children[l],f.node.childCount--,Oe(f)):!v&&!I&&(f.node.children[l]=h.node,f.node.childCount++,Oe(f))}(f.parent,f.name,f)}var ft=/[\[\].#$\/\u0000-\u001F\u007F]/,Wt=/[\[\].#$\u0000-\u001F\u007F]/,en=10485760,wn=function(f){return"string"==typeof f&&0!==f.length&&!ft.test(f)},ar=function(f){return"string"==typeof f&&0!==f.length&&!Wt.test(f)},Si=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!$e(f)||f&&"object"==typeof f&&(0,j.contains)(f,".sv")},gi=function(f,l,h,v){v&&void 0===l||Ao((0,j.errorPrefix)(f,"value"),l,h)},Ao=function(f,l,h){var v=h instanceof Kn?new mi(h,f):h;if(void 0===l)throw new Error(f+"contains undefined "+kr(v));if("function"==typeof l)throw new Error(f+"contains a function "+kr(v)+" with contents = "+l.toString());if($e(l))throw new Error(f+"contains "+l.toString()+" "+kr(v));if("string"==typeof l&&l.length>en/3&&(0,j.stringLength)(l)>en)throw new Error(f+"contains a string greater than "+en+" utf8 bytes "+kr(v)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){var I=!1,B=!1;if(fn(l,function(J,be){if(".value"===J)I=!0;else if(".priority"!==J&&".sv"!==J&&(B=!0,!wn(J)))throw new Error(f+" contains an invalid key ("+J+") "+kr(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(f,l){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(l),f.byteLength_+=(0,j.stringLength)(l),Zi(f)})(v,J),Ao(f,be,v),function(f){var l=f.parts_.pop();f.byteLength_-=(0,j.stringLength)(l),f.parts_.length>0&&(f.byteLength_-=1)}(v)}),I&&B)throw new Error(f+' contains ".value" child '+kr(v)+" in addition to actual children.")}},po=function(f,l,h,v){if(!v||void 0!==l){var I=(0,j.errorPrefix)(f,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(I+" must be an object containing the children to replace.");var B=[];fn(l,function(J,be){var Ae=new Kn(J);if(Ao(I,be,zr(h,Ae)),".priority"===Wi(Ae)&&!Si(be))throw new Error(I+"contains an invalid value for '"+Ae.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");B.push(Ae)}),function(f,l){var h,v;for(h=0;h<l.length;h++)for(var I=lr(v=l[h]),B=0;B<I.length;B++)if((".priority"!==I[B]||B!==I.length-1)&&!wn(I[B]))throw new Error(f+"contains an invalid key ("+I[B]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');l.sort(Nr);var J=null;for(h=0;h<l.length;h++){if(v=l[h],null!==J&&Hr(J,v))throw new Error(f+"contains a path "+J.toString()+" that is ancestor of another path "+v.toString());J=v}}(I,B)}},pa=function(f,l,h){if(!h||void 0!==l){if($e(l))throw new Error((0,j.errorPrefix)(f,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Si(l))throw new Error((0,j.errorPrefix)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ga=function(f,l,h){if(!h||void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.errorPrefix)(f,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zs=function(f,l,h,v){if(!(v&&void 0===h||wn(h)))throw new Error((0,j.errorPrefix)(f,l)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Es=function(f,l,h,v){if(!(v&&void 0===h||ar(h)))throw new Error((0,j.errorPrefix)(f,l)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},No=function(f,l){if(".info"===Qn(l))throw new Error(f+" failed = Can't modify data under /.info/")},Zu=function(f,l){var h=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!wn(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==h.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),ar(f)}(h))throw new Error((0,j.errorPrefix)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},sf=function(f,l,h,v){if((!v||void 0!==h)&&"boolean"!=typeof h)throw new Error((0,j.errorPrefix)(f,l)+"must be a boolean.")},af=function(){this.eventLists_=[],this.recursionDepth_=0};function Cs(f,l){for(var h=null,v=0;v<l.length;v++){var I=l[v],B=I.getPath();null!==h&&!er(B,h.path)&&(f.eventLists_.push(h),h=null),null===h&&(h={events:[],path:B}),h.events.push(I)}h&&f.eventLists_.push(h)}function Qu(f,l,h){Cs(f,h),nl(f,function(v){return er(v,l)})}function Ea(f,l,h){Cs(f,h),nl(f,function(v){return Hr(v,l)||Hr(l,v)})}function nl(f,l){f.recursionDepth_++;for(var h=!0,v=0;v<f.eventLists_.length;v++){var I=f.eventLists_[v];I&&(l(I.path)?(mc(f.eventLists_[v]),f.eventLists_[v]=null):h=!1)}h&&(f.eventLists_=[]),f.recursionDepth_--}function mc(f){for(var l=0;l<f.events.length;l++){var h=f.events[l];if(null!==h){f.events[l]=null;var v=h.getEventRunner();Ve&&It("event: "+h.toString()),hn(v)}}}var rl="repo_interrupt",Nl=function(){function f(l,h,v,I){this.repoInfo_=l,this.forceRestClient_=h,this.authTokenProvider_=v,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new af,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ea(),this.transactionQueueTree_=new is,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return f.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},f}();function tu(f){var h=f.infoData_.getNode(new Kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function pu(f){return function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f}({timestamp:tu(f)})}function yc(f,l,h,v,I){f.dataUpdateCount++;var B=new Kn(l);h=f.interceptServerDataCallback_?f.interceptServerDataCallback_(l,h):h;var J=[];if(I)if(v){var be=(0,j.map)(h,function(zt){return Dn(zt)});J=function(f,l,h,v){var I=pc(f,v);if(I){var B=Va(I),J=B.path,be=B.queryId,Ae=ii(J,l),Be=vo.fromObject(h);return du(f,J,new es($o(be),Ae,Be))}return[]}(f.serverSyncTree_,B,be,I)}else{var Ae=Dn(h);J=function(f,l,h,v){var I=pc(f,v);if(null!=I){var B=Va(I),J=B.path,be=B.queryId,Ae=ii(J,l);return du(f,J,new ca($o(be),Ae,h))}return[]}(f.serverSyncTree_,B,Ae,I)}else if(v){var Be=(0,j.map)(h,function(zt){return Dn(zt)});J=function(f,l,h){var v=vo.fromObject(h);return gs(f,new es({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,v))}(f.serverSyncTree_,B,Be)}else{var Xe=Dn(h);J=rs(f.serverSyncTree_,B,Xe)}var Ot=B;J.length>0&&(Ot=xu(f,B)),Ea(f.eventQueue_,Ot,J)}function il(f,l){Ml(f,"connected",l),!1===l&&function(f){Xu(f,"onDisconnectEvents");var l=pu(f),h=ea();Bi(f.onDisconnect_,pr(),function(I,B){var J=Du(I,B,f.serverSyncTree_,l);Ai(h,I,J)});var v=[];Bi(h,pr(),function(I,B){v=v.concat(rs(f.serverSyncTree_,I,B));var J=Pc(f,I);xu(f,J)}),f.onDisconnect_=ea(),Ea(f.eventQueue_,pr(),v)}(f)}function Ml(f,l,h){var v=new Kn("/.info/"+l),I=Dn(h);f.infoData_.updateSnapshot(v,I);var B=rs(f.infoSyncTree_,v,I);Ea(f.eventQueue_,v,B)}function gu(f){return f.nextWriteId_++}function Nc(f,l,h,v,I){Xu(f,"set",{path:l.toString(),value:h,priority:v});var B=pu(f),J=Dn(h,v),be=ps(f.serverSyncTree_,l),Ae=Na(J,be,B),Be=gu(f),Xe=Xc(f.serverSyncTree_,l,Ae,Be,!0);Cs(f.eventQueue_,Xe),f.server_.put(l.toString(),J.val(!0),function(zt,mn){var Pn="ok"===zt;Pn||Wn("set at "+l+" failed: "+zt);var jr=Ja(f.serverSyncTree_,Be,!Pn);Ea(f.eventQueue_,l,jr),Ru(0,I,zt,mn)});var Ot=Pc(f,l);xu(f,Ot),Ea(f.eventQueue_,Ot,[])}function nu(f,l,h){f.server_.onDisconnectCancel(l.toString(),function(v,I){"ok"===v&&Qo(f.onDisconnect_,l),Ru(0,h,v,I)})}function Pl(f,l,h,v){var I=Dn(h);f.server_.onDisconnectPut(l.toString(),I.val(!0),function(B,J){"ok"===B&&Ai(f.onDisconnect_,l,I),Ru(0,v,B,J)})}function Oc(f,l,h){var v;v=".info"===Qn(l._path)?Au(f.infoSyncTree_,l,h):Au(f.serverSyncTree_,l,h),Qu(f.eventQueue_,l._path,v)}function Ca(f){f.persistentConnection_&&f.persistentConnection_.interrupt(rl)}function Xu(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var v="";f.persistentConnection_&&(v=f.persistentConnection_.id+":"),It.apply(void 0,(0,L.__spreadArray)([v],(0,L.__read)(l)))}function Ru(f,l,h,v){l&&hn(function(){if("ok"===h)l(null);else{var I=(h||"error").toUpperCase(),B=I;v&&(B+=": "+v);var J=new Error(B);J.code=I,l(J)}})}function ec(f,l,h){return ps(f.serverSyncTree_,l,h)||pe.EMPTY_NODE}function mu(f,l){if(void 0===l&&(l=f.transactionQueueTree_),l||Ta(f,l),Ho(l)){var h=Nf(f,l);(0,j.assert)(h.length>0,"Sending zero length transaction queue"),h.every(function(I){return 0===I.status})&&function(f,l,h){for(var v=h.map(function(zt){return zt.currentWriteId}),I=ec(f,l,v),B=I,J=I.hash(),be=0;be<h.length;be++){var Ae=h[be];(0,j.assert)(0===Ae.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ae.status=1,Ae.retryCount++;var Be=ii(l,Ae.path);B=B.updateChild(Be,Ae.currentOutputSnapshotRaw)}var Xe=B.val(!0),Ot=l;f.server_.put(Ot.toString(),Xe,function(zt){Xu(f,"transaction put response",{path:Ot.toString(),status:zt});var mn=[];if("ok"===zt){for(var Pn=[],jr=function(qr){h[qr].status=2,mn=mn.concat(Ja(f.serverSyncTree_,h[qr].currentWriteId)),h[qr].onComplete&&Pn.push(function(){return h[qr].onComplete(null,!0,h[qr].currentOutputSnapshotResolved)}),h[qr].unwatcher()},yr=0;yr<h.length;yr++)jr(yr);for(Ta(f,Ma(f.transactionQueueTree_,l)),mu(f,f.transactionQueueTree_),Ea(f.eventQueue_,l,mn),yr=0;yr<Pn.length;yr++)hn(Pn[yr])}else{if("datastale"===zt)for(yr=0;yr<h.length;yr++)h[yr].status=3===h[yr].status?4:0;else for(Wn("transaction at "+Ot.toString()+" failed: "+zt),yr=0;yr<h.length;yr++)h[yr].status=4,h[yr].abortReason=zt;xu(f,l)}},J)}(f,he(l),h)}else gc(l)&&N(l,function(I){mu(f,I)})}function xu(f,l){var h=Vl(f,l),v=he(h);return function(f,l,h){if(0!==l.length){for(var v=[],I=[],J=l.filter(function(Be){return 0===Be.status}).map(function(Be){return Be.currentWriteId}),be=function(Be){var mn,Xe=l[Be],Ot=ii(h,Xe.path),zt=!1;if((0,j.assert)(null!==Ot,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Xe.status)zt=!0,mn=Xe.abortReason,I=I.concat(Ja(f.serverSyncTree_,Xe.currentWriteId,!0));else if(0===Xe.status)if(Xe.retryCount>=25)zt=!0,mn="maxretry",I=I.concat(Ja(f.serverSyncTree_,Xe.currentWriteId,!0));else{var Pn=ec(f,Xe.path,J);Xe.currentInputSnapshot=Pn;var jr=l[Be].update(Pn.val());if(void 0!==jr){Ao("transaction failed: Data returned ",jr,Xe.path);var yr=Dn(jr);"object"==typeof jr&&null!=jr&&(0,j.contains)(jr,".priority")||(yr=yr.updatePriority(Pn.getPriority()));var Oo=Xe.currentWriteId,qa=pu(f),vl=Na(yr,Pn,qa);Xe.currentOutputSnapshotRaw=yr,Xe.currentOutputSnapshotResolved=vl,Xe.currentWriteId=gu(f),J.splice(J.indexOf(Oo),1),I=(I=I.concat(Xc(f.serverSyncTree_,Xe.path,vl,Xe.currentWriteId,Xe.applyLocally))).concat(Ja(f.serverSyncTree_,Oo,!0))}else zt=!0,mn="nodata",I=I.concat(Ja(f.serverSyncTree_,Xe.currentWriteId,!0))}Ea(f.eventQueue_,h,I),I=[],zt&&(l[Be].status=2,setTimeout(l[Be].unwatcher,Math.floor(0)),l[Be].onComplete&&v.push("nodata"===mn?function(){return l[Be].onComplete(null,!1,l[Be].currentInputSnapshot)}:function(){return l[Be].onComplete(new Error(mn),!1,null)}))},Ae=0;Ae<l.length;Ae++)be(Ae);for(Ta(f,f.transactionQueueTree_),Ae=0;Ae<v.length;Ae++)hn(v[Ae]);mu(f,f.transactionQueueTree_)}}(f,Nf(f,h),v),v}function Vl(f,l){var h,v=f.transactionQueueTree_;for(h=Qn(l);null!==h&&void 0===Ho(v);)v=Ma(v,h),h=Qn(l=cr(l));return v}function Nf(f,l){var h=[];return Ul(f,l,h),h.sort(function(v,I){return v.order-I.order}),h}function Ul(f,l,h){var v=Ho(l);if(v)for(var I=0;I<v.length;I++)h.push(v[I]);N(l,function(B){Ul(f,B,h)})}function Ta(f,l){var h=Ho(l);if(h){for(var v=0,I=0;I<h.length;I++)2!==h[I].status&&(h[v]=h[I],v++);h.length=v,ja(l,h.length>0?h:void 0)}N(l,function(B){Ta(f,B)})}function Pc(f,l){var h=he(Vl(f,l)),v=Ma(f.transactionQueueTree_,l);return function(f,l,h){for(var v=f.parent;null!==v;){if(l(v))return!0;v=v.parent}}(v,function(I){Ia(f,I)}),Ia(f,v),G(v,function(I){Ia(f,I)}),h}function Ia(f,l){var h=Ho(l);if(h){for(var v=[],I=[],B=-1,J=0;J<h.length;J++)3===h[J].status||(1===h[J].status?((0,j.assert)(B===J-1,"All SENT items should be at beginning of queue."),B=J,h[J].status=3,h[J].abortReason="set"):((0,j.assert)(0===h[J].status,"Unexpected transaction status in abort"),h[J].unwatcher(),I=I.concat(Ja(f.serverSyncTree_,h[J].currentWriteId,!0)),h[J].onComplete&&v.push(h[J].onComplete.bind(null,new Error("set"),!1,null))));for(-1===B?ja(l,void 0):h.length=B+1,Ea(f.eventQueue_,he(l),I),J=0;J<v.length;J++)hn(v[J])}}var Nu=function(f,l){var h=Fc(f),v=h.namespace;return"firebase.com"===h.domain&&xn(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==h.domain&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new wt(h.host,h.secure,v,l,"ws"===h.scheme||"wss"===h.scheme,"",v!==h.subdomain),path:new Kn(h.pathString)}},Fc=function(f){var l="",h="",v="",I="",B="",J=!0,be="https",Ae=443;if("string"==typeof f){var Be=f.indexOf("//");Be>=0&&(be=f.substring(0,Be-1),f=f.substring(Be+2));var Xe=f.indexOf("/");-1===Xe&&(Xe=f.length);var Ot=f.indexOf("?");-1===Ot&&(Ot=f.length),l=f.substring(0,Math.min(Xe,Ot)),Xe<Ot&&(I=function(f){for(var l="",h=f.split("/"),v=0;v<h.length;v++)if(h[v].length>0){var I=h[v];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch(B){}l+="/"+I}return l}(f.substring(Xe,Ot)));var zt=function(f){var l,h,v={};"?"===f.charAt(0)&&(f=f.substring(1));try{for(var I=(0,L.__values)(f.split("&")),B=I.next();!B.done;B=I.next()){var J=B.value;if(0!==J.length){var be=J.split("=");2===be.length?v[decodeURIComponent(be[0])]=decodeURIComponent(be[1]):Wn("Invalid query segment '"+J+"' in query '"+f+"'")}}}catch(Ae){l={error:Ae}}finally{try{B&&!B.done&&(h=I.return)&&h.call(I)}finally{if(l)throw l.error}}return v}(f.substring(Math.min(f.length,Ot)));(Be=l.indexOf(":"))>=0?(J="https"===be||"wss"===be,Ae=parseInt(l.substring(Be+1),10)):Be=l.length;var mn=l.slice(0,Be);if("localhost"===mn.toLowerCase())h="localhost";else if(mn.split(".").length<=2)h=mn;else{var Pn=l.indexOf(".");v=l.substring(0,Pn).toLowerCase(),h=l.substring(Pn+1),B=v}"ns"in zt&&(B=zt.ns)}return{host:l,port:Ae,domain:h,subdomain:v,secure:J,scheme:be,pathString:I,namespace:B}},Mf=function(){function f(l,h,v,I){this.eventType=l,this.eventRegistration=h,this.snapshot=v,this.prevName=I}return f.prototype.getPath=function(){var l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path},f.prototype.getEventType=function(){return this.eventType},f.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},f.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.stringify)(this.snapshot.exportVal())},f}(),Mu=function(){function f(l,h,v){this.eventRegistration=l,this.error=h,this.path=v}return f.prototype.getPath=function(){return this.path},f.prototype.getEventType=function(){return"cancel"},f.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},f.prototype.toString=function(){return this.path.toString()+":cancel"},f}(),wc=function(){function f(l,h){this.snapshotCallback=l,this.cancelCallback=h}return f.prototype.onValue=function(l,h){this.snapshotCallback.call(null,l,h)},f.prototype.onCancel=function(l){return(0,j.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)},Object.defineProperty(f.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),f.prototype.matches=function(l){return this.snapshotCallback===l.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context},f}(),bc=function(){function f(l,h){this._repo=l,this._path=h}return f.prototype.cancel=function(){var l=new j.Deferred;return nu(this._repo,this._path,l.wrapCallback(function(){})),l.promise},f.prototype.remove=function(){No("OnDisconnect.remove",this._path);var l=new j.Deferred;return Pl(this._repo,this._path,null,l.wrapCallback(function(){})),l.promise},f.prototype.set=function(l){No("OnDisconnect.set",this._path),gi("OnDisconnect.set",l,this._path,!1);var h=new j.Deferred;return Pl(this._repo,this._path,l,h.wrapCallback(function(){})),h.promise},f.prototype.setWithPriority=function(l,h){No("OnDisconnect.setWithPriority",this._path),gi("OnDisconnect.setWithPriority",l,this._path,!1),pa("OnDisconnect.setWithPriority",h,!1);var v=new j.Deferred;return function(f,l,h,v,I){var B=Dn(h,v);f.server_.onDisconnectPut(l.toString(),B.val(!0),function(J,be){"ok"===J&&Ai(f.onDisconnect_,l,B),Ru(0,I,J,be)})}(this._repo,this._path,l,h,v.wrapCallback(function(){})),v.promise},f.prototype.update=function(l){No("OnDisconnect.update",this._path),po("OnDisconnect.update",l,this._path,!1);var h=new j.Deferred;return function(f,l,h,v){if((0,j.isEmpty)(h))return It("onDisconnect().update() called with empty data.  Don't do anything."),void Ru(0,v,"ok",void 0);f.server_.onDisconnectMerge(l.toString(),h,function(I,B){"ok"===I&&fn(h,function(J,be){var Ae=Dn(be);Ai(f.onDisconnect_,zr(l,J),Ae)}),Ru(0,v,I,B)})}(this._repo,this._path,l,h.wrapCallback(function(){})),h.promise},f}(),Ks=function(){function f(l,h,v,I){this._repo=l,this._path=h,this._queryParams=v,this._orderByCalled=I}return Object.defineProperty(f.prototype,"key",{get:function(){return ir(this._path)?null:Wi(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Oa(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_queryIdentifier",{get:function(){var l=lo(this._queryParams),h=yn(l);return"{}"===h?"default":h},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_queryObject",{get:function(){return lo(this._queryParams)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!((l=(0,j.getModularInstance)(l))instanceof f))return!1;var h=this._repo===l._repo,v=er(this._path,l._path);return h&&v&&this._queryIdentifier===l._queryIdentifier},f.prototype.toJSON=function(){return this.toString()},f.prototype.toString=function(){return this._repo.toString()+function(f){for(var l="",h=f.pieceNum_;h<f.pieces_.length;h++)""!==f.pieces_[h]&&(l+="/"+encodeURIComponent(String(f.pieces_[h])));return l||"/"}(this._path)},f}();function nc(f,l){if(!0===f._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function ru(f){var l=null,h=null;if(f.hasStart()&&(l=f.getIndexStartValue()),f.hasEnd()&&(h=f.getIndexEndValue()),f.getIndex()===bo){var v="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==rt)throw new Error(v);if("string"!=typeof l)throw new Error(I)}if(f.hasEnd()){if(f.getIndexEndName()!==_t)throw new Error(v);if("string"!=typeof h)throw new Error(I)}}else if(f.getIndex()===rn){if(null!=l&&!Si(l)||null!=h&&!Si(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.assert)(f.getIndex()instanceof Jn||f.getIndex()===oi,"unknown index type."),null!=l&&"object"==typeof l||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sl(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Oa=function(f){function l(h,v){return f.call(this,h,v,new Vr,!1)||this}return(0,L.__extends)(l,f),Object.defineProperty(l.prototype,"parent",{get:function(){var h=Fn(this._path);return null===h?null:new l(this._repo,h)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){for(var h=this;null!==h.parent;)h=h.parent;return h},enumerable:!1,configurable:!0}),l}(Ks),rc=function(){function f(l,h,v){this._node=l,this.ref=h,this._index=v}return Object.defineProperty(f.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),f.prototype.child=function(l){var h=new Kn(l),v=iu(this.ref,l);return new f(this._node.getChild(h),v,rn)},f.prototype.exists=function(){return!this._node.isEmpty()},f.prototype.exportVal=function(){return this._node.val(!0)},f.prototype.forEach=function(l){var h=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(I,B){return l(new f(B,iu(h.ref,I),rn))})},f.prototype.hasChild=function(l){var h=new Kn(l);return!this._node.getChild(h).isEmpty()},f.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},f.prototype.toJSON=function(){return this.exportVal()},f.prototype.val=function(){return this._node.val()},f}();function Ou(f,l){return(f=(0,j.getModularInstance)(f))._checkNotDeleted("ref"),void 0!==l?iu(f._root,l):f._root}function Ji(f,l){(f=(0,j.getModularInstance)(f))._checkNotDeleted("refFromURL");var h=Nu(l,f._repo.repoInfo_.nodeAdmin);Zu("refFromURL",h);var v=h.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&v.host!==f._repo.repoInfo_.host&&xn("refFromURL: Host name does not match the current database: (found "+v.host+" but expected "+f._repo.repoInfo_.host+")"),Ou(f,h.path.toString())}function iu(f,l){return null===Qn((f=(0,j.getModularInstance)(f))._path)?((h=l)&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Es("child","path",h,!1)):Es("child","path",l,!1),new Oa(f._repo,zr(f._path,l));var h}function al(f,l){f=(0,j.getModularInstance)(f),No("push",f._path),gi("push",l,f._path,!0);var J,h=tu(f._repo),v=ls(h),I=iu(f,v),B=iu(f,v);return J=null!=l?Mo(B,l).then(function(){return B}):Promise.resolve(B),I.then=J.then.bind(J),I.catch=J.then.bind(J,void 0),I}function ic(f){return No("remove",f._path),Mo(f,null)}function Mo(f,l){f=(0,j.getModularInstance)(f),No("set",f._path),gi("set",l,f._path,!1);var h=new j.Deferred;return Nc(f._repo,f._path,l,null,h.wrapCallback(function(){})),h.promise}function Ts(f,l){f=(0,j.getModularInstance)(f),No("setPriority",f._path),pa("setPriority",l,!1);var h=new j.Deferred;return Nc(f._repo,zr(f._path,".priority"),l,null,h.wrapCallback(function(){})),h.promise}function oc(f,l,h){if(No("setWithPriority",f._path),gi("setWithPriority",l,f._path,!1),pa("setWithPriority",h,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";var v=new j.Deferred;return Nc(f._repo,f._path,l,h,v.wrapCallback(function(){})),v.promise}function Ko(f,l){po("update",l,f._path,!1);var h=new j.Deferred;return function(f,l,h,v){Xu(f,"update",{path:l.toString(),value:h});var I=!0,B=pu(f),J={};if(fn(h,function(Be,Xe){I=!1,J[Be]=Du(zr(l,Be),Dn(Xe),f.serverSyncTree_,B)}),I)It("update() called with empty data.  Don't do anything."),Ru(0,v,"ok",void 0);else{var be=gu(f),Ae=function(f,l,h,v){!function(f,l,h,v){(0,j.assert)(v>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:l,children:h,writeId:v,visible:!0}),f.visibleWrites=ts(f.visibleWrites,l,h),f.lastWriteId=v}(f.pendingWriteTree_,l,h,v);var I=vo.fromObject(h);return gs(f,new es({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,I))}(f.serverSyncTree_,l,J,be);Cs(f.eventQueue_,Ae),f.server_.merge(l.toString(),h,function(Be,Xe){var Ot="ok"===Be;Ot||Wn("update at "+l+" failed: "+Be);var zt=Ja(f.serverSyncTree_,be,!Ot),mn=zt.length>0?xu(f,l):l;Ea(f.eventQueue_,mn,zt),Ru(0,v,Be,Xe)}),fn(h,function(Be){var Xe=Pc(f,zr(l,Be));xu(f,Xe)}),Ea(f.eventQueue_,l,[])}}(f._repo,f._path,l,h.wrapCallback(function(){})),h.promise}function Lc(f){return function(f,l){var h=function(f,l){var h=l._path,v=null;f.syncPointTree_.foreachOnPath(h,function(Be,Xe){var Ot=ii(Be,h);v=v||Qa(Xe,Ot)});var I=f.syncPointTree_.get(h);I?v=v||Qa(I,pr()):(I=new ia,f.syncPointTree_=f.syncPointTree_.set(h,I));var B=null!=v,J=B?new fo(v,!0,!1):null;return function(f){return ys(f.viewCache_)}(Bo(I,l,A(f.pendingWriteTree_,l._path),B?J.getNode():pe.EMPTY_NODE,B))}(f.serverSyncTree_,l);return null!=h?Promise.resolve(h):f.server_.get(l).then(function(v){var I=Dn(v).withIndex(l._queryParams.getIndex()),B=rs(f.serverSyncTree_,l._path,I);return Qu(f.eventQueue_,l._path,B),Promise.resolve(I)},function(v){return Xu(f,"get for query "+(0,j.stringify)(l)+" failed: "+v),Promise.reject(new Error(v))})}((f=(0,j.getModularInstance)(f))._repo,f).then(function(l){return new rc(l,new Oa(f._repo,f._path),f._queryParams.getIndex())})}var Vc=function(){function f(l){this.callbackContext=l}return f.prototype.respondsTo=function(l){return"value"===l},f.prototype.createEvent=function(l,h){var v=h._queryParams.getIndex();return new Mf("value",this,new rc(l.snapshotNode,new Oa(h._repo,h._path),v))},f.prototype.getEventRunner=function(l){var h=this;return"cancel"===l.getEventType()?function(){return h.callbackContext.onCancel(l.error)}:function(){return h.callbackContext.onValue(l.snapshot,null)}},f.prototype.createCancelEvent=function(l,h){return this.callbackContext.hasCancelCallback?new Mu(this,l,h):null},f.prototype.matches=function(l){return l instanceof f&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))},f.prototype.hasAnyCallback=function(){return null!==this.callbackContext},f}(),ma=function(){function f(l,h){this.eventType=l,this.callbackContext=h}return f.prototype.respondsTo=function(l){var h="children_added"===l?"child_added":l;return this.eventType===("children_removed"===h?"child_removed":h)},f.prototype.createCancelEvent=function(l,h){return this.callbackContext.hasCancelCallback?new Mu(this,l,h):null},f.prototype.createEvent=function(l,h){(0,j.assert)(null!=l.childName,"Child events should have a childName.");var v=iu(new Oa(h._repo,h._path),l.childName),I=h._queryParams.getIndex();return new Mf(l.type,this,new rc(l.snapshotNode,v,I),l.prevName)},f.prototype.getEventRunner=function(l){var h=this;return"cancel"===l.getEventType()?function(){return h.callbackContext.onCancel(l.error)}:function(){return h.callbackContext.onValue(l.snapshot,l.prevName)}},f.prototype.matches=function(l){return l instanceof f&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))},f.prototype.hasAnyCallback=function(){return!!this.callbackContext},f}();function sc(f,l,h,v,I){var B;if("object"==typeof v&&(B=void 0,I=v),"function"==typeof v&&(B=v),I&&I.onlyOnce){var J=h,be=function(Xe,Ot){Oc(f._repo,f,Be),J(Xe,Ot)};be.userCallback=h.userCallback,be.context=h.context,h=be}var Ae=new wc(h,B||void 0),Be="value"===l?new Vc(Ae):new ma(l,Ae);return function(f,l,h){var v;v=".info"===Qn(l._path)?hc(f.infoSyncTree_,l,h):hc(f.serverSyncTree_,l,h),Qu(f.eventQueue_,l._path,v)}(f._repo,f,Be),function(){return Oc(f._repo,f,Be)}}function Ls(f,l,h,v){return sc(f,"value",l,h,v)}function Of(f,l,h,v){return sc(f,"child_added",l,h,v)}function Pf(f,l,h,v){return sc(f,"child_changed",l,h,v)}function os(f,l,h,v){return sc(f,"child_moved",l,h,v)}function Is(f,l,h,v){return sc(f,"child_removed",l,h,v)}function lf(f,l,h){var v=null,I=h?new wc(h):null;"value"===l?v=new Vc(I):l&&(v=new ma(l,I)),Oc(f._repo,f,v)}var Aa=function(){},Pu=function(f){function l(h,v){var I=f.call(this)||this;return I._value=h,I._key=v,I}return(0,L.__extends)(l,f),l.prototype._apply=function(h){gi("endAt",this._value,h._path,!0);var v=Ii(h._queryParams,this._value,this._key);if(sl(v),ru(v),h._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ks(h._repo,h._path,v,h._orderByCalled)},l}(Aa);function ou(f,l){return zs("endAt","key",l,!0),new Pu(f,l)}var ku=function(f){function l(h,v){var I=f.call(this)||this;return I._value=h,I._key=v,I}return(0,L.__extends)(l,f),l.prototype._apply=function(h){gi("endBefore",this._value,h._path,!1);var v=function(f,l,h){var I;return f.index_===bo?("string"==typeof l&&(l=yi(l)),I=Ii(f,l,h)):I=Ii(f,l,null==h?rt:yi(h)),I.endBeforeSet_=!0,I}(h._queryParams,this._value,this._key);if(sl(v),ru(v),h._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ks(h._repo,h._path,v,h._orderByCalled)},l}(Aa);function Fu(f,l){return zs("endBefore","key",l,!0),new ku(f,l)}var Ec=function(f){function l(h,v){var I=f.call(this)||this;return I._value=h,I._key=v,I}return(0,L.__extends)(l,f),l.prototype._apply=function(h){gi("startAt",this._value,h._path,!0);var v=ji(h._queryParams,this._value,this._key);if(sl(v),ru(v),h._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ks(h._repo,h._path,v,h._orderByCalled)},l}(Aa);function fd(f,l){return void 0===f&&(f=null),zs("startAt","key",l,!0),new Ec(f,l)}var Vd=function(f){function l(h,v){var I=f.call(this)||this;return I._value=h,I._key=v,I}return(0,L.__extends)(l,f),l.prototype._apply=function(h){gi("startAfter",this._value,h._path,!1);var v=function(f,l,h){var v;return f.index_===bo?("string"==typeof l&&(l=ro(l)),v=ji(f,l,h)):v=ji(f,l,null==h?_t:ro(h)),v.startAfterSet_=!0,v}(h._queryParams,this._value,this._key);if(sl(v),ru(v),h._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ks(h._repo,h._path,v,h._orderByCalled)},l}(Aa);function ul(f,l){return zs("startAfter","key",l,!0),new Vd(f,l)}var su=function(f){function l(h){var v=f.call(this)||this;return v._limit=h,v}return(0,L.__extends)(l,f),l.prototype._apply=function(h){if(h._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ks(h._repo,h._path,function(f,l){var h=f.copy();return h.limitSet_=!0,h.limit_=l,h.viewFrom_="l",h}(h._queryParams,this._limit),h._orderByCalled)},l}(Aa);function ff(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new su(f)}var dd=function(f){function l(h){var v=f.call(this)||this;return v._limit=h,v}return(0,L.__extends)(l,f),l.prototype._apply=function(h){if(h._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ks(h._repo,h._path,function(f,l){var h=f.copy();return h.limitSet_=!0,h.limit_=l,h.viewFrom_="r",h}(h._queryParams,this._limit),h._orderByCalled)},l}(Aa);function Ba(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dd(f)}var Ys=function(f){function l(h){var v=f.call(this)||this;return v._path=h,v}return(0,L.__extends)(l,f),l.prototype._apply=function(h){nc(h,"orderByChild");var v=new Kn(this._path);if(ir(v))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var I=new Jn(v),B=eo(h._queryParams,I);return ru(B),new Ks(h._repo,h._path,B,!0)},l}(Aa);function cl(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Es("orderByChild","path",f,!1),new Ys(f)}var kf=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,L.__extends)(l,f),l.prototype._apply=function(h){nc(h,"orderByKey");var v=eo(h._queryParams,bo);return ru(v),new Ks(h._repo,h._path,v,!0)},l}(Aa);function hd(){return new kf}var pd=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,L.__extends)(l,f),l.prototype._apply=function(h){nc(h,"orderByPriority");var v=eo(h._queryParams,rn);return ru(v),new Ks(h._repo,h._path,v,!0)},l}(Aa);function ll(){return new pd}var Ha=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,L.__extends)(l,f),l.prototype._apply=function(h){nc(h,"orderByValue");var v=eo(h._queryParams,oi);return ru(v),new Ks(h._repo,h._path,v,!0)},l}(Aa);function jl(){return new Ha}var fl=function(f){function l(h,v){var I=f.call(this)||this;return I._value=h,I._key=v,I}return(0,L.__extends)(l,f),l.prototype._apply=function(h){if(gi("equalTo",this._value,h._path,!1),h._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(h._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Pu(this._value,this._key)._apply(new Ec(this._value,this._key)._apply(h))},l}(Aa);function Bl(f,l){return zs("equalTo","key",l,!0),new fl(f,l)}function As(f){for(var l,h,v=[],I=1;I<arguments.length;I++)v[I-1]=arguments[I];var B=(0,j.getModularInstance)(f);try{for(var J=(0,L.__values)(v),be=J.next();!be.done;be=J.next()){var Ae=be.value;B=Ae._apply(B)}}catch(Be){l={error:Be}}finally{try{be&&!be.done&&(h=J.return)&&h.call(J)}finally{if(l)throw l.error}}return B}(function(f){(0,j.assert)(!jo,"__referenceConstructor has already been defined"),jo=f})(Oa),function(f){(0,j.assert)(!qu,"__referenceConstructor has already been defined"),qu=f}(Oa);var ac={},Cc=!1;function Ff(f,l,h,v,I){var B=v||f.options.databaseURL;void 0===B&&(f.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",f.options.projectId),B=f.options.projectId+"-default-rtdb.firebaseio.com");var Ae,J=Nu(B,I),be=J.repoInfo,Be=void 0;"undefined"!=typeof process&&(Be=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Be?(Ae=!0,be=(J=Nu(B="http://"+Be+"?ns="+be.namespace,I)).repoInfo):Ae=!J.repoInfo.secure;var Xe=I&&Ae?new kn(kn.OWNER):new bn(f.name,f.options,l);Zu("Invalid Firebase Database URL",J),ir(J.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");var Ot=function(f,l,h,v){var I=ac[l.name];I||(ac[l.name]=I={});var B=I[f.toURLString()];return B&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),B=new Nl(f,Cc,h,v),I[f.toURLString()]=B,B}(be,f,Xe,new Gn(f.name,h));return new Uc(Ot,f)}var Uc=function(){function f(l,h){this._repoInternal=l,this.app=h,this.type="database",this._instanceStarted=!1}return Object.defineProperty(f.prototype,"_repo",{get:function(){return this._instanceStarted||(function(f,l,h){if(f.stats_=tr(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new Jt(f.repoInfo_,function(v,I,B,J){yc(f,v,I,B,J)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(function(){return il(f,!0)},0);else{if(null!=h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.stringify)(h)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}f.persistentConnection_=new Ro(f.repoInfo_,l,function(v,I,B,J){yc(f,v,I,B,J)},function(v){il(f,v)},function(v){!function(f,l){fn(l,function(h,v){Ml(f,h,v)})}(f,v)},f.authTokenProvider_,f.appCheckProvider_,h),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(function(v){f.server_.refreshAuthToken(v)}),f.appCheckProvider_.addTokenChangeListener(function(v){f.server_.refreshAppCheckToken(v.token)}),f.statsReporter_=function(f,l){var h=f.toString();return Ar[h]||(Ar[h]=l()),Ar[h]}(f.repoInfo_,function(){return new Wo(f.stats_,f.server_)}),f.infoData_=new Cr,f.infoSyncTree_=new qs({startListening:function(v,I,B,J){var be=[],Ae=f.infoData_.getNode(v._path);return Ae.isEmpty()||(be=rs(f.infoSyncTree_,v._path,Ae),setTimeout(function(){J("ok")},0)),be},stopListening:function(){}}),Ml(f,"connected",!1),f.serverSyncTree_=new qs({startListening:function(v,I,B,J){return f.server_.listen(v,B,I,function(be,Ae){var Be=J(be,Ae);Ea(f.eventQueue_,v._path,Be)}),[]},stopListening:function(v,I){f.server_.unlisten(v,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Oa(this._repo,pr())),this._rootInternal},enumerable:!1,configurable:!0}),f.prototype._delete=function(){return null!==this._rootInternal&&(function(f,l){var h=ac[l];(!h||h[f.key]!==f)&&xn("Database "+l+"("+f.repoInfo_+") has already been deleted."),Ca(f),delete h[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},f.prototype._checkNotDeleted=function(l){null===this._rootInternal&&xn("Cannot call "+l+" on a deleted database.")},f}();function pl(f){(f=(0,j.getModularInstance)(f))._checkNotDeleted("goOffline"),Ca(f._repo)}function Tc(f){(f=(0,j.getModularInstance)(f))._checkNotDeleted("goOnline"),function(f){f.persistentConnection_&&f.persistentConnection_.resume(rl)}(f._repo)}var Lu={".sv":"timestamp"},md=function(){function f(l,h){this.committed=l,this.snapshot=h}return f.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},f}();function Vf(f,l,h){var v;if(f=(0,j.getModularInstance)(f),No("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";var I=null===(v=null==h?void 0:h.applyLocally)||void 0===v||v,B=new j.Deferred,be=Ls(f,function(){});return function(f,l,h,v,I,B){Xu(f,"transaction on "+l);var J={path:l,update:h,onComplete:v,status:null,order:je(),applyLocally:B,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},be=ec(f,l,void 0);J.currentInputSnapshot=be;var Ae=J.update(be.val());if(void 0===Ae)J.unwatcher(),J.currentOutputSnapshotRaw=null,J.currentOutputSnapshotResolved=null,J.onComplete&&J.onComplete(null,!1,J.currentInputSnapshot);else{Ao("transaction failed: Data returned ",Ae,J.path),J.status=0;var Be=Ma(f.transactionQueueTree_,l),Xe=Ho(Be)||[];Xe.push(J),ja(Be,Xe);var Ot=void 0;"object"==typeof Ae&&null!==Ae&&(0,j.contains)(Ae,".priority")?(Ot=(0,j.safeGet)(Ae,".priority"),(0,j.assert)(Si(Ot),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ot=(ps(f.serverSyncTree_,l)||pe.EMPTY_NODE).getPriority().val();var mn=pu(f),Pn=Dn(Ae,Ot),jr=Na(Pn,be,mn);J.currentOutputSnapshotRaw=Pn,J.currentOutputSnapshotResolved=jr,J.currentWriteId=gu(f);var yr=Xc(f.serverSyncTree_,l,jr,J.currentWriteId,J.applyLocally);Ea(f.eventQueue_,l,yr),mu(f,f.transactionQueueTree_)}}(f._repo,f._path,l,function(Ae,Be,Xe){var Ot=null;Ae?B.reject(Ae):(Ot=new rc(Xe,new Oa(f._repo,f._path),rn),B.resolve(new md(Be,Ot)))},be,I),B.promise}var Uf=function(){function f(l){this._delegate=l}return f.prototype.cancel=function(l){(0,j.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,j.validateCallback)("OnDisconnect.cancel","onComplete",l,!0);var h=this._delegate.cancel();return l&&h.then(function(){return l(null)},function(v){return l(v)}),h},f.prototype.remove=function(l){(0,j.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,j.validateCallback)("OnDisconnect.remove","onComplete",l,!0);var h=this._delegate.remove();return l&&h.then(function(){return l(null)},function(v){return l(v)}),h},f.prototype.set=function(l,h){(0,j.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,j.validateCallback)("OnDisconnect.set","onComplete",h,!0);var v=this._delegate.set(l);return h&&v.then(function(){return h(null)},function(I){return h(I)}),v},f.prototype.setWithPriority=function(l,h,v){(0,j.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.validateCallback)("OnDisconnect.setWithPriority","onComplete",v,!0);var I=this._delegate.setWithPriority(l,h);return v&&I.then(function(){return v(null)},function(B){return v(B)}),I},f.prototype.update=function(l,h){if((0,j.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){for(var v={},I=0;I<l.length;++I)v[""+I]=l[I];l=v,Wn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.validateCallback)("OnDisconnect.update","onComplete",h,!0);var B=this._delegate.update(l);return h&&B.then(function(){return h(null)},function(J){return h(J)}),B},f}(),vu=function(){function f(l,h){this.committed=l,this.snapshot=h}return f.prototype.toJSON=function(){return(0,j.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},f}(),cs=function(){function f(l,h){this._database=l,this._delegate=h}return f.prototype.val=function(){return(0,j.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},f.prototype.exportVal=function(){return(0,j.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},f.prototype.toJSON=function(){return(0,j.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},f.prototype.exists=function(){return(0,j.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},f.prototype.child=function(l){return(0,j.validateArgCount)("DataSnapshot.child",0,1,arguments.length),l=String(l),Es("DataSnapshot.child","path",l,!1),new f(this._database,this._delegate.child(l))},f.prototype.hasChild=function(l){return(0,j.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Es("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)},f.prototype.getPriority=function(){return(0,j.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},f.prototype.forEach=function(l){var h=this;return(0,j.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,j.validateCallback)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(function(v){return l(new f(h._database,v))})},f.prototype.hasChildren=function(){return(0,j.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(f.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),f.prototype.numChildren=function(){return(0,j.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},f.prototype.getRef=function(){return(0,j.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new jc(this._database,this._delegate.ref)},Object.defineProperty(f.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),f}(),vd=function(){function f(l,h){this.database=l,this._delegate=h}return f.prototype.on=function(l,h,v,I){var J,B=this;(0,j.validateArgCount)("Query.on",2,4,arguments.length),(0,j.validateCallback)("Query.on","callback",h,!1);var be=f.getCancelAndContextArgs_("Query.on",v,I),Ae=function(Xe,Ot){h.call(be.context,new cs(B.database,Xe),Ot)};Ae.userCallback=h,Ae.context=be.context;var Be=null===(J=be.cancel)||void 0===J?void 0:J.bind(be.context);switch(l){case"value":return Ls(this._delegate,Ae,Be),h;case"child_added":return Of(this._delegate,Ae,Be),h;case"child_removed":return Is(this._delegate,Ae,Be),h;case"child_changed":return Pf(this._delegate,Ae,Be),h;case"child_moved":return os(this._delegate,Ae,Be),h;default:throw new Error((0,j.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},f.prototype.off=function(l,h,v){if((0,j.validateArgCount)("Query.off",0,3,arguments.length),ga("Query.off",l,!0),(0,j.validateCallback)("Query.off","callback",h,!0),(0,j.validateContextObject)("Query.off","context",v,!0),h){var I=function(){};I.userCallback=h,I.context=v,lf(this._delegate,l,I)}else lf(this._delegate,l)},f.prototype.get=function(){var l=this;return Lc(this._delegate).then(function(h){return new cs(l.database,h)})},f.prototype.once=function(l,h,v,I){var B=this;(0,j.validateArgCount)("Query.once",1,4,arguments.length),(0,j.validateCallback)("Query.once","callback",h,!0);var J=f.getCancelAndContextArgs_("Query.once",v,I),be=new j.Deferred,Ae=function(Xe,Ot){var zt=new cs(B.database,Xe);h&&h.call(J.context,zt,Ot),be.resolve(zt)};Ae.userCallback=h,Ae.context=J.context;var Be=function(Xe){J.cancel&&J.cancel.call(J.context,Xe),be.reject(Xe)};switch(l){case"value":Ls(this._delegate,Ae,Be,{onlyOnce:!0});break;case"child_added":Of(this._delegate,Ae,Be,{onlyOnce:!0});break;case"child_removed":Is(this._delegate,Ae,Be,{onlyOnce:!0});break;case"child_changed":Pf(this._delegate,Ae,Be,{onlyOnce:!0});break;case"child_moved":os(this._delegate,Ae,Be,{onlyOnce:!0});break;default:throw new Error((0,j.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return be.promise},f.prototype.limitToFirst=function(l){return(0,j.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new f(this.database,As(this._delegate,ff(l)))},f.prototype.limitToLast=function(l){return(0,j.validateArgCount)("Query.limitToLast",1,1,arguments.length),new f(this.database,As(this._delegate,Ba(l)))},f.prototype.orderByChild=function(l){return(0,j.validateArgCount)("Query.orderByChild",1,1,arguments.length),new f(this.database,As(this._delegate,cl(l)))},f.prototype.orderByKey=function(){return(0,j.validateArgCount)("Query.orderByKey",0,0,arguments.length),new f(this.database,As(this._delegate,hd()))},f.prototype.orderByPriority=function(){return(0,j.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new f(this.database,As(this._delegate,ll()))},f.prototype.orderByValue=function(){return(0,j.validateArgCount)("Query.orderByValue",0,0,arguments.length),new f(this.database,As(this._delegate,jl()))},f.prototype.startAt=function(l,h){return void 0===l&&(l=null),(0,j.validateArgCount)("Query.startAt",0,2,arguments.length),new f(this.database,As(this._delegate,fd(l,h)))},f.prototype.startAfter=function(l,h){return void 0===l&&(l=null),(0,j.validateArgCount)("Query.startAfter",0,2,arguments.length),new f(this.database,As(this._delegate,ul(l,h)))},f.prototype.endAt=function(l,h){return void 0===l&&(l=null),(0,j.validateArgCount)("Query.endAt",0,2,arguments.length),new f(this.database,As(this._delegate,ou(l,h)))},f.prototype.endBefore=function(l,h){return void 0===l&&(l=null),(0,j.validateArgCount)("Query.endBefore",0,2,arguments.length),new f(this.database,As(this._delegate,Fu(l,h)))},f.prototype.equalTo=function(l,h){return(0,j.validateArgCount)("Query.equalTo",1,2,arguments.length),new f(this.database,As(this._delegate,Bl(l,h)))},f.prototype.toString=function(){return(0,j.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},f.prototype.toJSON=function(){return(0,j.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},f.prototype.isEqual=function(l){if((0,j.validateArgCount)("Query.isEqual",1,1,arguments.length),!(l instanceof f)){var h="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(h)}return this._delegate.isEqual(l._delegate)},f.getCancelAndContextArgs_=function(l,h,v){var I={cancel:void 0,context:void 0};if(h&&v)I.cancel=h,(0,j.validateCallback)(l,"cancel",I.cancel,!0),I.context=v,(0,j.validateContextObject)(l,"context",I.context,!0);else if(h)if("object"==typeof h&&null!==h)I.context=h;else{if("function"!=typeof h)throw new Error((0,j.errorPrefix)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=h}return I},Object.defineProperty(f.prototype,"ref",{get:function(){return new jc(this.database,new Oa(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),f}(),jc=function(f){function l(h,v){var I=f.call(this,h,new Ks(v._repo,v._path,new Vr,!1))||this;return I.database=h,I._delegate=v,I}return(0,L.__extends)(l,f),l.prototype.getKey=function(){return(0,j.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},l.prototype.child=function(h){return(0,j.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof h&&(h=String(h)),new l(this.database,iu(this._delegate,h))},l.prototype.getParent=function(){(0,j.validateArgCount)("Reference.parent",0,0,arguments.length);var h=this._delegate.parent;return h?new l(this.database,h):null},l.prototype.getRoot=function(){return(0,j.validateArgCount)("Reference.root",0,0,arguments.length),new l(this.database,this._delegate.root)},l.prototype.set=function(h,v){(0,j.validateArgCount)("Reference.set",1,2,arguments.length),(0,j.validateCallback)("Reference.set","onComplete",v,!0);var I=Mo(this._delegate,h);return v&&I.then(function(){return v(null)},function(B){return v(B)}),I},l.prototype.update=function(h,v){if((0,j.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(h)){for(var I={},B=0;B<h.length;++B)I[""+B]=h[B];h=I,Wn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}No("Reference.update",this._delegate._path),(0,j.validateCallback)("Reference.update","onComplete",v,!0);var J=Ko(this._delegate,h);return v&&J.then(function(){return v(null)},function(be){return v(be)}),J},l.prototype.setWithPriority=function(h,v,I){(0,j.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,j.validateCallback)("Reference.setWithPriority","onComplete",I,!0);var B=oc(this._delegate,h,v);return I&&B.then(function(){return I(null)},function(J){return I(J)}),B},l.prototype.remove=function(h){(0,j.validateArgCount)("Reference.remove",0,1,arguments.length),(0,j.validateCallback)("Reference.remove","onComplete",h,!0);var v=ic(this._delegate);return h&&v.then(function(){return h(null)},function(I){return h(I)}),v},l.prototype.transaction=function(h,v,I){var B=this;(0,j.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,j.validateCallback)("Reference.transaction","transactionUpdate",h,!1),(0,j.validateCallback)("Reference.transaction","onComplete",v,!0),sf("Reference.transaction","applyLocally",I,!0);var J=Vf(this._delegate,h,{applyLocally:I}).then(function(be){return new vu(be.committed,new cs(B.database,be.snapshot))});return v&&J.then(function(be){return v(null,be.committed,be.snapshot)},function(be){return v(be,!1,null)}),J},l.prototype.setPriority=function(h,v){(0,j.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,j.validateCallback)("Reference.setPriority","onComplete",v,!0);var I=Ts(this._delegate,h);return v&&I.then(function(){return v(null)},function(B){return v(B)}),I},l.prototype.push=function(h,v){var I=this;(0,j.validateArgCount)("Reference.push",0,2,arguments.length),(0,j.validateCallback)("Reference.push","onComplete",v,!0);var B=al(this._delegate,h),J=B.then(function(Ae){return new l(I.database,Ae)});v&&J.then(function(){return v(null)},function(Ae){return v(Ae)});var be=new l(this.database,B);return be.then=J.then.bind(J),be.catch=J.catch.bind(J,void 0),be},l.prototype.onDisconnect=function(){return No("Reference.onDisconnect",this._delegate._path),new Uf(new bc(this._delegate._repo,this._delegate._path))},Object.defineProperty(l.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),l}(vd),Bc=function(){function f(l,h){var v=this;this._delegate=l,this.app=h,this.INTERNAL={delete:function(){return v._delegate._delete()}}}return f.prototype.useEmulator=function(l,h,v){void 0===v&&(v={}),function(f,l,h,v){void 0===v&&(v={}),(f=(0,j.getModularInstance)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");var I=f._repoInternal,B=void 0;if(I.repoInfo_.nodeAdmin)v.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),B=new kn(kn.OWNER);else if(v.mockUserToken){var J="string"==typeof v.mockUserToken?v.mockUserToken:(0,j.createMockUserToken)(v.mockUserToken,f.app.options.projectId);B=new kn(J)}!function(f,l,h,v){f.repoInfo_=new wt(l+":"+h,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams),v&&(f.authTokenProvider_=v)}(I,l,h,B)}(this._delegate,l,h,v)},f.prototype.ref=function(l){if((0,j.validateArgCount)("database.ref",0,1,arguments.length),l instanceof jc){var h=Ji(this._delegate,l.toString());return new jc(this,h)}return h=Ou(this._delegate,l),new jc(this,h)},f.prototype.refFromURL=function(l){var h="database.refFromURL";(0,j.validateArgCount)(h,1,1,arguments.length);var v=Ji(this._delegate,l);return new jc(this,v)},f.prototype.goOffline=function(){return(0,j.validateArgCount)("database.goOffline",0,0,arguments.length),pl(this._delegate)},f.prototype.goOnline=function(){return(0,j.validateArgCount)("database.goOnline",0,0,arguments.length),Tc(this._delegate)},f.ServerValue={TIMESTAMP:Lu,increment:function(l){return function(f){return{".sv":{increment:f}}}(l)}},f}(),Wl=Object.freeze({__proto__:null,forceLongPolling:function(){ri.forceDisallow(),Wr.forceAllow()},forceWebSockets:function(){Wr.forceDisallow()},isWebSocketsAvailable:function(){return ri.isAvailable()},setSecurityDebugCallback:function(f,l){f._delegate._repo.persistentConnection_.securityDebugCallback_=l},stats:function(f,l){!function(f,l){if(void 0===l&&(l=!1),"undefined"!=typeof console){var h;l?(f.statsListener_||(f.statsListener_=new ta(f.stats_)),h=f.statsListener_.get()):h=f.stats_.get();var v=Object.keys(h).reduce(function(I,B){return Math.max(B.length,I)},0);fn(h,function(I,B){for(var J=I,be=I.length;be<v+2;be++)J+=" ";console.log(J+B)})}}(f._delegate._repo,l)},statsIncrementCounter:function(f,l){!function(f,l){f.stats_.incrementCounter(l),function(f,l){f.statsToReport_[l]=!0}(f.statsReporter_,l)}(f._delegate._repo,l)},dataUpdateCount:function(f){return f._delegate._repo.dataUpdateCount},interceptServerData:function(f,l){return function(f,l){f.interceptServerDataCallback_=l}(f._delegate._repo,l)},initStandalone:function(f){var l=f.app,h=f.url,I=f.customAuthImpl,B=f.namespace,J=f.nodeAdmin,be=void 0!==J&&J;Fe(f.version);var Ae=new b.Provider("auth-internal",new b.ComponentContainer("database-standalone"));return Ae.setComponent(new b.Component("auth-internal",function(){return I},"PRIVATE")),{instance:new Bc(Ff(l,Ae,void 0,h,be),l),namespace:B}}}),yu=Ro;Ro.prototype.simpleListen=function(f,l){this.sendRequest("q",{p:f},l)},Ro.prototype.echo=function(f,l){this.sendRequest("echo",{d:f},l)};var pf=Object.freeze({__proto__:null,DataConnection:yu,RealTimeConnection:$r,hijackHash:function(f){var l=Ro.prototype.put;return Ro.prototype.put=function(h,v,I,B){void 0!==B&&(B=f()),l.call(this,h,v,I,B)},function(){Ro.prototype.put=l}},ConnectionTarget:wt,queryIdentifier:function(f){return f._delegate._queryIdentifier},forceRestClient:function(f){!function(f){Cc=f}(f)}}),$l=Bc.ServerValue;!function(f){Fe(f.SDK_VERSION);var l=f.INTERNAL.registerComponent(new b.Component("database",function(h,v){var I=v.instanceIdentifier,B=h.getProvider("app").getImmediate(),J=h.getProvider("auth-internal"),be=h.getProvider("app-check-internal");return new Bc(Ff(B,J,be,I),B)},"PUBLIC").setServiceProps({Reference:jc,Query:vd,Database:Bc,DataSnapshot:cs,enableLogging:At,INTERNAL:Wl,ServerValue:$l,TEST_ACCESS:pf}).setMultipleInstances(!0));f.registerVersion("@firebase/database","0.11.0"),(0,j.isNodeSdk)()&&(Mn.exports=l)}(E.default)},5171:(Mn,Dt,ie)=>{"use strict";var Fe,E=ie(9759),b=ie(266),j=ie(6034),fe=(ie(4685),ie(300),ie(2870),{Firestore:b.U,GeoPoint:b.C,Timestamp:b.M,Blob:b.a,Transaction:b.j,WriteBatch:b.W,DocumentReference:b.z,DocumentSnapshot:b.X,Query:b.t,QueryDocumentSnapshot:b.Z,QuerySnapshot:b.n,CollectionReference:b.s,FieldPath:b.r,FieldValue:b.o,setLogLevel:b.Q,CACHE_SIZE_UNLIMITED:b.E});(Fe=E.default).INTERNAL.registerComponent(new j.Component("firestore",function(Ye){return k=Ye.getProvider("app").getImmediate(),Re=Ye.getProvider("auth-internal"),new b.U(k,new b.T(k,Re),new b.q);var k,Re},"PUBLIC").setServiceProps(Object.assign({},fe))),Fe.registerVersion("@firebase/firestore","2.4.0")},266:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{C:()=>Ec,E:()=>Pf,M:()=>It,Q:()=>I,T:()=>os,U:()=>h,W:()=>J,X:()=>zt,Z:()=>mn,a:()=>f,c:()=>yl,j:()=>B,n:()=>yr,o:()=>vl,q:()=>l,r:()=>qa,s:()=>qr,t:()=>Pn,u:()=>Hc,z:()=>Ae});var E=ie(4762),b=ie(4685),j=ie(300),L=ie(2870),Pe=function(){function s(r,o){var c=this;this.previousValue=r,o&&(o.sequenceNumberHandler=function(p){return c.t(p)},this.i=function(p){return o.writeSequenceNumber(p)})}return s.prototype.t=function(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue},s.prototype.next=function(){var r=++this.previousValue;return this.i&&this.i(r),r},s}();Pe.o=-1;var le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fe=function(s){function r(o,c){var p=this;return(p=s.call(this,c)||this).code=o,p.message=c,p.name="FirebaseError",p.toString=function(){return p.name+": [code="+p.code+"]: "+p.message},p}return(0,E.__extends)(r,s),r}(Error),Je=new j.Logger("@firebase/firestore");function Fe(){return Je.logLevel}function k(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Je.logLevel<=j.LogLevel.DEBUG){var c=r.map(xe);Je.debug.apply(Je,(0,E.__spreadArray)(["Firestore (8.10.0): "+s],c))}}function Re(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Je.logLevel<=j.LogLevel.ERROR){var c=r.map(xe);Je.error.apply(Je,(0,E.__spreadArray)(["Firestore (8.10.0): "+s],c))}}function Ye(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Je.logLevel<=j.LogLevel.WARN){var c=r.map(xe);Je.warn.apply(Je,(0,E.__spreadArray)(["Firestore (8.10.0): "+s],c))}}function xe(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(o){return s}}function De(s){void 0===s&&(s="Unexpected state");var r="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+s;throw Re(r),new Error(r)}function st(s,r){s||De()}function je(s,r){return s}function nt(s){var r="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(o);else for(var c=0;c<s;c++)o[c]=Math.floor(256*Math.random());return o}var Me=function(){function s(){}return s.u=function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/r.length)*r.length,c="";c.length<20;)for(var p=nt(40),_=0;_<p.length;++_)c.length<20&&p[_]<o&&(c+=r.charAt(p[_]%r.length));return c},s}();function Ve(s,r){return s<r?-1:s>r?1:0}function at(s,r,o){return s.length===r.length&&s.every(function(c,p){return o(c,r[p])})}function At(s){return s+"\0"}var It=function(){function s(r,o){if(this.seconds=r,this.nanoseconds=o,o<0)throw new fe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new fe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(r<-62135596800)throw new fe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new fe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}return s.now=function(){return s.fromMillis(Date.now())},s.fromDate=function(r){return s.fromMillis(r.getTime())},s.fromMillis=function(r){var o=Math.floor(r/1e3);return new s(o,Math.floor(1e6*(r-1e3*o)))},s.prototype.toDate=function(){return new Date(this.toMillis())},s.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},s.prototype._compareTo=function(r){return this.seconds===r.seconds?Ve(this.nanoseconds,r.nanoseconds):Ve(this.seconds,r.seconds)},s.prototype.isEqual=function(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds},s.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},s.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},s.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},s}(),bt=function(){function s(r){this.timestamp=r}return s.fromTimestamp=function(r){return new s(r)},s.min=function(){return new s(new It(0,0))},s.prototype.compareTo=function(r){return this.timestamp._compareTo(r.timestamp)},s.prototype.isEqual=function(r){return this.timestamp.isEqual(r.timestamp)},s.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},s.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},s.prototype.toTimestamp=function(){return this.timestamp},s}();function tn(s){var r=0;for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r++;return r}function xn(s,r){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r(o,s[o])}function Wn(s){for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}var ke=function(){function s(r,o,c){void 0===o?o=0:o>r.length&&De(),void 0===c?c=r.length-o:c>r.length-o&&De(),this.segments=r,this.offset=o,this.len=c}return Object.defineProperty(s.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return 0===s.comparator(this,r)},s.prototype.child=function(r){var o=this.segments.slice(this.offset,this.limit());return r instanceof s?r.forEach(function(c){o.push(c)}):o.push(r),this.construct(o)},s.prototype.limit=function(){return this.offset+this.length},s.prototype.popFirst=function(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)},s.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},s.prototype.firstSegment=function(){return this.segments[this.offset]},s.prototype.lastSegment=function(){return this.get(this.length-1)},s.prototype.get=function(r){return this.segments[this.offset+r]},s.prototype.isEmpty=function(){return 0===this.length},s.prototype.isPrefixOf=function(r){if(r.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0},s.prototype.isImmediateParentOf=function(r){if(this.length+1!==r.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0},s.prototype.forEach=function(r){for(var o=this.offset,c=this.limit();o<c;o++)r(this.segments[o])},s.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},s.comparator=function(r,o){for(var c=Math.min(r.length,o.length),p=0;p<c;p++){var _=r.get(p),S=o.get(p);if(_<S)return-1;if(_>S)return 1}return r.length<o.length?-1:r.length>o.length?1:0},s}(),$e=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype.construct=function(o,c,p){return new r(o,c,p)},r.prototype.canonicalString=function(){return this.toArray().join("/")},r.prototype.toString=function(){return this.canonicalString()},r.fromString=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];for(var p=[],_=0,S=o;_<S.length;_++){var P=S[_];if(P.indexOf("//")>=0)throw new fe(le.INVALID_ARGUMENT,"Invalid segment ("+P+"). Paths must not contain // in them.");p.push.apply(p,P.split("/").filter(function(Q){return Q.length>0}))}return new r(p)},r.emptyPath=function(){return new r([])},r}(ke),ce=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rt=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype.construct=function(o,c,p){return new r(o,c,p)},r.isValidIdentifier=function(o){return ce.test(o)},r.prototype.canonicalString=function(){return this.toArray().map(function(o){return o=o.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(o)||(o="`"+o+"`"),o}).join(".")},r.prototype.toString=function(){return this.canonicalString()},r.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},r.keyField=function(){return new r(["__name__"])},r.fromServerFormat=function(o){for(var c=[],p="",_=0,S=function(){if(0===p.length)throw new fe(le.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");c.push(p),p=""},P=!1;_<o.length;){var Q=o[_];if("\\"===Q){if(_+1===o.length)throw new fe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+o);var me=o[_+1];if("\\"!==me&&"."!==me&&"`"!==me)throw new fe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);p+=me,_+=2}else"`"===Q?(P=!P,_++):"."!==Q||P?(p+=Q,_++):(S(),_++)}if(S(),P)throw new fe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new r(c)},r.emptyPath=function(){return new r([])},r}(ke),_t=function(){function s(r){this.fields=r,r.sort(rt.comparator)}return s.prototype.covers=function(r){for(var o=0,c=this.fields;o<c.length;o++)if(c[o].isPrefixOf(r))return!0;return!1},s.prototype.isEqual=function(r){return at(this.fields,r.fields,function(o,c){return o.isEqual(c)})},s}(),lt=function(){function s(r){this.binaryString=r}return s.fromBase64String=function(r){return new s(atob(r))},s.fromUint8Array=function(r){return new s(function(o){for(var c="",p=0;p<o.length;++p)c+=String.fromCharCode(o[p]);return c}(r))},s.prototype.toBase64=function(){return btoa(this.binaryString)},s.prototype.toUint8Array=function(){return function(r){for(var o=new Uint8Array(r.length),c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)},s.prototype.approximateByteSize=function(){return 2*this.binaryString.length},s.prototype.compareTo=function(r){return Ve(this.binaryString,r.binaryString)},s.prototype.isEqual=function(r){return this.binaryString===r.binaryString},s}();lt.EMPTY_BYTE_STRING=new lt("");var qt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ut(s){if(st(!!s),"string"==typeof s){var r=0,o=qt.exec(s);if(st(!!o),o[1]){var c=o[1];c=(c+"000000000").substr(0,9),r=Number(c)}var p=new Date(s);return{seconds:Math.floor(p.getTime()/1e3),nanos:r}}return{seconds:yn(s.seconds),nanos:yn(s.nanos)}}function yn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function un(s){return"string"==typeof s?lt.fromBase64String(s):lt.fromUint8Array(s)}function fn(s){var r,o;return"server_timestamp"===(null===(o=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function dn(s){var r=s.mapValue.fields.__previous_value__;return fn(r)?dn(r):r}function Zt(s){var r=Ut(s.mapValue.fields.__local_write_time__.timestampValue);return new It(r.seconds,r.nanos)}function _n(s){return null==s}function $n(s){return 0===s&&1/s==-1/0}function vn(s){return"number"==typeof s&&Number.isInteger(s)&&!$n(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}var vt=function(){function s(r){this.path=r}return s.fromPath=function(r){return new s($e.fromString(r))},s.fromName=function(r){return new s($e.fromString(r).popFirst(5))},s.prototype.hasCollectionId=function(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r},s.prototype.isEqual=function(r){return null!==r&&0===$e.comparator(this.path,r.path)},s.prototype.toString=function(){return this.path.toString()},s.comparator=function(r,o){return $e.comparator(r.path,o.path)},s.isDocumentKey=function(r){return r.length%2==0},s.fromSegments=function(r){return new s(new $e(r.slice()))},s}();function Et(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fn(s)?4:10:De()}function Rt(s,r){var p,o=Et(s);if(o!==Et(r))return!1;switch(o){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return Zt(s).isEqual(Zt(r));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;var _=Ut(c.timestampValue),S=Ut(p.timestampValue);return _.seconds===S.seconds&&_.nanos===S.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return p=r,un(s.bytesValue).isEqual(un(p.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(c,p){return yn(c.geoPointValue.latitude)===yn(p.geoPointValue.latitude)&&yn(c.geoPointValue.longitude)===yn(p.geoPointValue.longitude)}(s,r);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return yn(c.integerValue)===yn(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){var _=yn(c.doubleValue),S=yn(p.doubleValue);return _===S?$n(_)===$n(S):isNaN(_)&&isNaN(S)}return!1}(s,r);case 9:return at(s.arrayValue.values||[],r.arrayValue.values||[],Rt);case 10:return function(c,p){var _=c.mapValue.fields||{},S=p.mapValue.fields||{};if(tn(_)!==tn(S))return!1;for(var P in _)if(_.hasOwnProperty(P)&&(void 0===S[P]||!Rt(_[P],S[P])))return!1;return!0}(s,r);default:return De()}}function hn(s,r){return void 0!==(s.values||[]).find(function(o){return Rt(o,r)})}function jt(s,r){var p,_,S,P,o=Et(s),c=Et(r);if(o!==c)return Ve(o,c);switch(o){case 0:return 0;case 1:return Ve(s.booleanValue,r.booleanValue);case 2:return _=r,(S=yn((p=s).integerValue||p.doubleValue))<(P=yn(_.integerValue||_.doubleValue))?-1:S>P?1:S===P?0:isNaN(S)?isNaN(P)?0:-1:1;case 3:return Un(s.timestampValue,r.timestampValue);case 4:return Un(Zt(s),Zt(r));case 5:return Ve(s.stringValue,r.stringValue);case 6:return function(p,_){var S=un(p),P=un(_);return S.compareTo(P)}(s.bytesValue,r.bytesValue);case 7:return function(p,_){for(var S=p.split("/"),P=_.split("/"),Q=0;Q<S.length&&Q<P.length;Q++){var me=Ve(S[Q],P[Q]);if(0!==me)return me}return Ve(S.length,P.length)}(s.referenceValue,r.referenceValue);case 8:return function(p,_){var S=Ve(yn(p.latitude),yn(_.latitude));return 0!==S?S:Ve(yn(p.longitude),yn(_.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(p,_){for(var S=p.values||[],P=_.values||[],Q=0;Q<S.length&&Q<P.length;++Q){var me=jt(S[Q],P[Q]);if(me)return me}return Ve(S.length,P.length)}(s.arrayValue,r.arrayValue);case 10:return function(p,_){var S=p.fields||{},P=Object.keys(S),Q=_.fields||{},me=Object.keys(Q);P.sort(),me.sort();for(var Ce=0;Ce<P.length&&Ce<me.length;++Ce){var Ke=Ve(P[Ce],me[Ce]);if(0!==Ke)return Ke;var it=jt(S[P[Ce]],Q[me[Ce]]);if(0!==it)return it}return Ve(P.length,me.length)}(s.mapValue,r.mapValue);default:throw De()}}function Un(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return Ve(s,r);var o=Ut(s),c=Ut(r),p=Ve(o.seconds,c.seconds);return 0!==p?p:Ve(o.nanos,c.nanos)}function Gn(s){return bn(s)}function bn(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?"time("+(p=Ut(s.timestampValue)).seconds+","+p.nanos+")":"stringValue"in s?s.stringValue:"bytesValue"in s?un(s.bytesValue).toBase64():"referenceValue"in s?vt.fromName(s.referenceValue).toString():"geoPointValue"in s?"geo("+(r=s.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in s?function(c){for(var p="[",_=!0,S=0,P=c.values||[];S<P.length;S++)_?_=!1:p+=",",p+=bn(P[S]);return p+"]"}(s.arrayValue):"mapValue"in s?function(c){for(var p="{",_=!0,S=0,P=Object.keys(c.fields||{}).sort();S<P.length;S++){var Q=P[S];_?_=!1:p+=",",p+=Q+":"+bn(c.fields[Q])}return p+"}"}(s.mapValue):De();var p,r}function kn(s,r){return{referenceValue:"projects/"+s.projectId+"/databases/"+s.database+"/documents/"+r.path.canonicalString()}}function In(s){return!!s&&"integerValue"in s}function Ct(s){return!!s&&"arrayValue"in s}function He(s){return!!s&&"nullValue"in s}function qe(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Nt(s){return!!s&&"mapValue"in s}function Tt(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){var r={mapValue:{fields:{}}};return xn(s.mapValue.fields,function(p,_){return r.mapValue.fields[p]=Tt(_)}),r}if(s.arrayValue){for(var o={arrayValue:{values:[]}},c=0;c<(s.arrayValue.values||[]).length;++c)o.arrayValue.values[c]=Tt(s.arrayValue.values[c]);return o}return Object.assign({},s)}var Tn=function(){function s(r){this.value=r}return s.empty=function(){return new s({mapValue:{}})},s.prototype.field=function(r){if(r.isEmpty())return this.value;for(var o=this.value,c=0;c<r.length-1;++c)if(!Nt(o=(o.mapValue.fields||{})[r.get(c)]))return null;return(o=(o.mapValue.fields||{})[r.lastSegment()])||null},s.prototype.set=function(r,o){this.getFieldsMap(r.popLast())[r.lastSegment()]=Tt(o)},s.prototype.setAll=function(r){var o=this,c=rt.emptyPath(),p={},_=[];r.forEach(function(P,Q){if(!c.isImmediateParentOf(Q)){var me=o.getFieldsMap(c);o.applyChanges(me,p,_),p={},_=[],c=Q.popLast()}P?p[Q.lastSegment()]=Tt(P):_.push(Q.lastSegment())});var S=this.getFieldsMap(c);this.applyChanges(S,p,_)},s.prototype.delete=function(r){var o=this.field(r.popLast());Nt(o)&&o.mapValue.fields&&delete o.mapValue.fields[r.lastSegment()]},s.prototype.isEqual=function(r){return Rt(this.value,r.value)},s.prototype.getFieldsMap=function(r){var o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(var c=0;c<r.length;++c){var p=o.mapValue.fields[r.get(c)];Nt(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},o.mapValue.fields[r.get(c)]=p),o=p}return o.mapValue.fields},s.prototype.applyChanges=function(r,o,c){xn(o,function(P,Q){return r[P]=Q});for(var p=0,_=c;p<_.length;p++)delete r[_[p]]},s.prototype.clone=function(){return new s(Tt(this.value))},s}();function nn(s){var r=[];return xn(s.fields,function(o,c){var p=new rt([o]);if(Nt(c)){var _=nn(c.mapValue).fields;if(0===_.length)r.push(p);else for(var S=0,P=_;S<P.length;S++)r.push(p.child(P[S]))}else r.push(p)}),new _t(r)}var Bn=function(){function s(r,o,c,p,_){this.key=r,this.documentType=o,this.version=c,this.data=p,this.documentState=_}return s.newInvalidDocument=function(r){return new s(r,0,bt.min(),Tn.empty(),0)},s.newFoundDocument=function(r,o,c){return new s(r,1,o,c,0)},s.newNoDocument=function(r,o){return new s(r,2,o,Tn.empty(),0)},s.newUnknownDocument=function(r,o){return new s(r,3,o,Tn.empty(),2)},s.prototype.convertToFoundDocument=function(r,o){return this.version=r,this.documentType=1,this.data=o,this.documentState=0,this},s.prototype.convertToNoDocument=function(r){return this.version=r,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this},s.prototype.convertToUnknownDocument=function(r){return this.version=r,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this},s.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},s.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(s.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),s.prototype.isValidDocument=function(){return 0!==this.documentType},s.prototype.isFoundDocument=function(){return 1===this.documentType},s.prototype.isNoDocument=function(){return 2===this.documentType},s.prototype.isUnknownDocument=function(){return 3===this.documentType},s.prototype.isEqual=function(r){return r instanceof s&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)},s.prototype.clone=function(){return new s(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},s.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},s}(),pt=function(s,r,o,c,p,_,S){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===_&&(_=null),void 0===S&&(S=null),this.path=s,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=_,this.endAt=S,this.h=null};function ln(s,r,o,c,p,_,S){return void 0===r&&(r=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===_&&(_=null),void 0===S&&(S=null),new pt(s,r,o,c,p,_,S)}function wt(s){var r=je(s);if(null===r.h){var o=r.path.canonicalString();null!==r.collectionGroup&&(o+="|cg:"+r.collectionGroup),o+="|f:",o+=r.filters.map(function(c){return(p=c).field.canonicalString()+p.op.toString()+Gn(p.value);var p}).join(","),o+="|ob:",o+=r.orderBy.map(function(c){return(p=c).field.canonicalString()+p.dir;var p}).join(","),_n(r.limit)||(o+="|l:",o+=r.limit),r.startAt&&(o+="|lb:",o+=Se(r.startAt)),r.endAt&&(o+="|ub:",o+=Se(r.endAt)),r.h=o}return r.h}function ht(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(var o=0;o<s.orderBy.length;o++)if(!Qe(s.orderBy[o],r.orderBy[o]))return!1;if(s.filters.length!==r.filters.length)return!1;for(var c=0;c<s.filters.length;c++)if((p=s.filters[c]).op!==(_=r.filters[c]).op||!p.field.isEqual(_.field)||!Rt(p.value,_.value))return!1;var p,_;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!Lt(s.startAt,r.startAt)&&Lt(s.endAt,r.endAt)}function Yt(s){return vt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}var Bt=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).field=o,_.op=c,_.value=p,_}return(0,E.__extends)(r,s),r.create=function(o,c,p){return o.isKeyField()?"in"===c||"not-in"===c?this.l(o,c,p):new or(o,c,p):"array-contains"===c?new Fr(o,p):"in"===c?new wr(o,p):"not-in"===c?new et(o,p):"array-contains-any"===c?new Ue(o,p):new r(o,c,p)},r.l=function(o,c,p){return"in"===c?new Ar(o,p):new tr(o,p)},r.prototype.matches=function(o){var c=o.data.field(this.field);return"!="===this.op?null!==c&&this.m(jt(c,this.value)):null!==c&&Et(this.value)===Et(c)&&this.m(jt(c,this.value))},r.prototype.m=function(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return De()}},r.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},r}(function(){}),or=function(s){function r(o,c,p){var _=this;return(_=s.call(this,o,c,p)||this).key=vt.fromName(p.referenceValue),_}return(0,E.__extends)(r,s),r.prototype.matches=function(o){var c=vt.comparator(o.key,this.key);return this.m(c)},r}(Bt),Ar=function(s){function r(o,c){var p=this;return(p=s.call(this,o,"in",c)||this).keys=An(0,c),p}return(0,E.__extends)(r,s),r.prototype.matches=function(o){return this.keys.some(function(c){return c.isEqual(o.key)})},r}(Bt),tr=function(s){function r(o,c){var p=this;return(p=s.call(this,o,"not-in",c)||this).keys=An(0,c),p}return(0,E.__extends)(r,s),r.prototype.matches=function(o){return!this.keys.some(function(c){return c.isEqual(o.key)})},r}(Bt);function An(s,r){var o;return((null===(o=r.arrayValue)||void 0===o?void 0:o.values)||[]).map(function(c){return vt.fromName(c.referenceValue)})}var Fr=function(s){function r(o,c){return s.call(this,o,"array-contains",c)||this}return(0,E.__extends)(r,s),r.prototype.matches=function(o){var c=o.data.field(this.field);return Ct(c)&&hn(c.arrayValue,this.value)},r}(Bt),wr=function(s){function r(o,c){return s.call(this,o,"in",c)||this}return(0,E.__extends)(r,s),r.prototype.matches=function(o){var c=o.data.field(this.field);return null!==c&&hn(this.value.arrayValue,c)},r}(Bt),et=function(s){function r(o,c){return s.call(this,o,"not-in",c)||this}return(0,E.__extends)(r,s),r.prototype.matches=function(o){if(hn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var c=o.data.field(this.field);return null!==c&&!hn(this.value.arrayValue,c)},r}(Bt),Ue=function(s){function r(o,c){return s.call(this,o,"array-contains-any",c)||this}return(0,E.__extends)(r,s),r.prototype.matches=function(o){var c=this,p=o.data.field(this.field);return!(!Ct(p)||!p.arrayValue.values)&&p.arrayValue.values.some(function(_){return hn(c.value.arrayValue,_)})},r}(Bt),gt=function(s,r){this.position=s,this.before=r};function Se(s){return(s.before?"b":"a")+":"+s.position.map(function(r){return Gn(r)}).join(",")}var Te=function(s,r){void 0===r&&(r="asc"),this.field=s,this.dir=r};function Qe(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function yt(s,r,o){for(var c=0,p=0;p<s.position.length;p++){var _=r[p],S=s.position[p];if(c=_.field.isKeyField()?vt.comparator(vt.fromName(S.referenceValue),o.key):jt(S,o.data.field(_.field)),"desc"===_.dir&&(c*=-1),0!==c)break}return s.before?c<=0:c<0}function Lt(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(var o=0;o<s.position.length;o++)if(!Rt(s.position[o],r.position[o]))return!1;return!0}var Ht=function(s,r,o,c,p,_,S,P){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===c&&(c=[]),void 0===p&&(p=null),void 0===_&&(_="F"),void 0===S&&(S=null),void 0===P&&(P=null),this.path=s,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=_,this.startAt=S,this.endAt=P,this.p=null,this.T=null};function Sn(s,r,o,c,p,_,S,P){return new Ht(s,r,o,c,p,_,S,P)}function Ln(s){return new Ht(s)}function ur(s){return!_n(s.limit)&&"F"===s.limitType}function nr(s){return!_n(s.limit)&&"L"===s.limitType}function Lr(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function zn(s){for(var r=0,o=s.filters;r<o.length;r++){var c=o[r];if(c.g())return c.field}return null}function Hi(s){return null!==s.collectionGroup}function Wr(s){var r=je(s);if(null===r.p){r.p=[];var o=zn(r),c=Lr(r);if(null!==o&&null===c)o.isKeyField()||r.p.push(new Te(o)),r.p.push(new Te(rt.keyField(),"asc"));else{for(var p=!1,_=0,S=r.explicitOrderBy;_<S.length;_++){var P=S[_];r.p.push(P),P.field.isKeyField()&&(p=!0)}if(!p){var Q=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.p.push(new Te(rt.keyField(),Q))}}}return r.p}function Sr(s){var r=je(s);if(!r.T)if("F"===r.limitType)r.T=ln(r.path,r.collectionGroup,Wr(r),r.filters,r.limit,r.startAt,r.endAt);else{for(var o=[],c=0,p=Wr(r);c<p.length;c++){var _=p[c];o.push(new Te(_.field,"desc"===_.dir?"asc":"desc"))}var P=r.endAt?new gt(r.endAt.position,!r.endAt.before):null,Q=r.startAt?new gt(r.startAt.position,!r.startAt.before):null;r.T=ln(r.path,r.collectionGroup,o,r.filters,r.limit,P,Q)}return r.T}function li(s,r,o){return new Ht(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,o,s.startAt,s.endAt)}function Gi(s,r){return ht(Sr(s),Sr(r))&&s.limitType===r.limitType}function rr(s){return wt(Sr(s))+"|lt:"+s.limitType}function ri(s){return"Query(target="+(o=(r=Sr(s)).path.canonicalString(),null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=", filters: ["+r.filters.map(function(c){return(p=c).field.canonicalString()+" "+p.op+" "+Gn(p.value);var p}).join(", ")+"]"),_n(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=", orderBy: ["+r.orderBy.map(function(c){return(p=c).field.canonicalString()+" ("+p.dir+")";var p}).join(", ")+"]"),r.startAt&&(o+=", startAt: "+Se(r.startAt)),r.endAt&&(o+=", endAt: "+Se(r.endAt)),"Target("+o+"); limitType=")+s.limitType+")";var r,o}function Oi(s,r){return r.isFoundDocument()&&(p=(c=r).key.path,null!==(o=s).collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):vt.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p))&&function(o,c){for(var p=0,_=o.explicitOrderBy;p<_.length;p++){var S=_[p];if(!S.field.isKeyField()&&null===c.data.field(S.field))return!1}return!0}(s,r)&&function(o,c){for(var p=0,_=o.filters;p<_.length;p++)if(!_[p].matches(c))return!1;return!0}(s,r)&&function(o,c){return!(o.startAt&&!yt(o.startAt,Wr(o),c)||o.endAt&&yt(o.endAt,Wr(o),c))}(s,r);var o,c,p}function to(s){return function(r,o){for(var c=!1,p=0,_=Wr(s);p<_.length;p++){var S=_[p],P=Pi(S,r,o);if(0!==P)return P;c=c||S.field.isKeyField()}return 0}}function Pi(s,r,o){var p,S,P,Q,c=s.field.isKeyField()?vt.comparator(r.key,o.key):(S=o,P=r.data.field(p=s.field),Q=S.data.field(p),null!==P&&null!==Q?jt(P,Q):De());switch(s.dir){case"asc":return c;case"desc":return-1*c;default:return De()}}function Ri(s,r){if(s.I){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$n(r)?"-0":r}}function So(s){return{integerValue:""+s}}function Ui(s,r){return vn(r)?So(r):Ri(s,r)}var qi=function(){this._=void 0};function Do(s,r,o){return s instanceof sr?(_={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(c=o).seconds,nanos:c.nanoseconds}}}},(p=r)&&(_.fields.__previous_value__=p),{mapValue:_}):s instanceof Vn?fi(s,r):s instanceof ao?Xr(s,r):function(c,p){var _=on(c,p),S=Br(_)+Br(c.A);return In(_)&&In(c.A)?So(S):Ri(c.R,S)}(s,r);var c,p,_}function Ki(s,r,o){return s instanceof Vn?fi(s,r):s instanceof ao?Xr(s,r):o}function on(s,r){return s instanceof $r?In(o=r)||(c=o)&&"doubleValue"in c?r:{integerValue:0}:null;var c,o}var sr=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r}(qi),Vn=function(s){function r(o){var c=this;return(c=s.call(this)||this).elements=o,c}return(0,E.__extends)(r,s),r}(qi);function fi(s,r){for(var o=xi(r),c=function(S){o.some(function(P){return Rt(P,S)})||o.push(S)},p=0,_=s.elements;p<_.length;p++)c(_[p]);return{arrayValue:{values:o}}}var ao=function(s){function r(o){var c=this;return(c=s.call(this)||this).elements=o,c}return(0,E.__extends)(r,s),r}(qi);function Xr(s,r){for(var o=xi(r),c=function(S){o=o.filter(function(P){return!Rt(P,S)})},p=0,_=s.elements;p<_.length;p++)c(_[p]);return{arrayValue:{values:o}}}var $r=function(s){function r(o,c){var p=this;return(p=s.call(this)||this).R=o,p.A=c,p}return(0,E.__extends)(r,s),r}(qi);function Br(s){return yn(s.integerValue||s.doubleValue)}function xi(s){return Ct(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}var Yi=function(s,r){this.field=s,this.transform=r},Xn=function(s,r){this.version=s,this.transformResults=r},Ti=function(){function s(r,o){this.updateTime=r,this.exists=o}return s.none=function(){return new s},s.exists=function(r){return new s(void 0,r)},s.updateTime=function(r){return new s(r)},Object.defineProperty(s.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)},s}();function Kn(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}var pr=function(){};function Qn(s,r,o){var c,p,_,S,P;s instanceof lr?(p=r,_=o,S=(c=s).value.clone(),P=ir(c.fieldTransforms,p,_.transformResults),S.setAll(P),p.convertToFoundDocument(_.version,S).setHasCommittedMutations()):s instanceof Fn?function(c,p,_){if(Kn(c.precondition,p)){var S=ir(c.fieldTransforms,p,_.transformResults),P=p.data;P.setAll(zr(c)),P.setAll(S),p.convertToFoundDocument(_.version,P).setHasCommittedMutations()}else p.convertToUnknownDocument(_.version)}(s,r,o):function(c,p,_){p.convertToNoDocument(_.version).setHasCommittedMutations()}(0,r,o)}function Rr(s,r,o){var p;s instanceof lr?function(c,p,_){if(Kn(c.precondition,p)){var S=c.value.clone(),P=ii(c.fieldTransforms,_,p);S.setAll(P),p.convertToFoundDocument(ei(p),S).setHasLocalMutations()}}(s,r,o):s instanceof Fn?function(c,p,_){if(Kn(c.precondition,p)){var S=ii(c.fieldTransforms,_,p),P=p.data;P.setAll(zr(c)),P.setAll(S),p.convertToFoundDocument(ei(p),P).setHasLocalMutations()}}(s,r,o):Kn(s.precondition,p=r)&&p.convertToNoDocument(bt.min())}function cr(s,r){for(var o=null,c=0,p=s.fieldTransforms;c<p.length;c++){var _=p[c],S=r.data.field(_.field),P=on(_.transform,S||null);null!=P&&(null==o&&(o=Tn.empty()),o.set(_.field,P))}return o||null}function Wi(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(o=s.fieldTransforms)&&void 0===c||o&&c&&at(o,c,function(p,_){return(S=p).field.isEqual((P=_).field)&&(me=P.transform,(Q=S.transform)instanceof Vn&&me instanceof Vn||Q instanceof ao&&me instanceof ao?at(Q.elements,me.elements,Rt):Q instanceof $r&&me instanceof $r?Rt(Q.A,me.A):Q instanceof sr&&me instanceof sr);var S,P,Q,me})))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var o,c}function ei(s){return s.isFoundDocument()?s.version:bt.min()}var lr=function(s){function r(o,c,p,_){void 0===_&&(_=[]);var S=this;return(S=s.call(this)||this).key=o,S.value=c,S.precondition=p,S.fieldTransforms=_,S.type=0,S}return(0,E.__extends)(r,s),r}(pr),Fn=function(s){function r(o,c,p,_,S){void 0===S&&(S=[]);var P=this;return(P=s.call(this)||this).key=o,P.data=c,P.fieldMask=p,P.precondition=_,P.fieldTransforms=S,P.type=1,P}return(0,E.__extends)(r,s),r}(pr);function zr(s){var r=new Map;return s.fieldMask.fields.forEach(function(o){if(!o.isEmpty()){var c=s.data.field(o);r.set(o,c)}}),r}function ir(s,r,o){var c=new Map;st(s.length===o.length);for(var p=0;p<o.length;p++){var _=s[p],S=_.transform,P=r.data.field(_.field);c.set(_.field,Ki(S,P,o[p]))}return c}function ii(s,r,o){for(var c=new Map,p=0,_=s;p<_.length;p++){var S=_[p],P=S.transform,Q=o.data.field(S.field);c.set(S.field,Do(P,Q,r))}return c}var Nr,er,Hr=function(s){function r(o,c){var p=this;return(p=s.call(this)||this).key=o,p.precondition=c,p.type=2,p.fieldTransforms=[],p}return(0,E.__extends)(r,s),r}(pr),mi=function(s){function r(o,c){var p=this;return(p=s.call(this)||this).key=o,p.precondition=c,p.type=3,p.fieldTransforms=[],p}return(0,E.__extends)(r,s),r}(pr),Po=function(s){this.count=s};function Kr(s){switch(s){case le.OK:return De();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return De()}}function Zi(s){if(void 0===s)return Re("GRPC error has no .code"),le.UNKNOWN;switch(s){case Nr.OK:return le.OK;case Nr.CANCELLED:return le.CANCELLED;case Nr.UNKNOWN:return le.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return le.INTERNAL;case Nr.UNAVAILABLE:return le.UNAVAILABLE;case Nr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Nr.NOT_FOUND:return le.NOT_FOUND;case Nr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Nr.ABORTED:return le.ABORTED;case Nr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Nr.DATA_LOSS:return le.DATA_LOSS;default:return De()}}(er=Nr||(Nr={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";var kr=function(){function s(r,o){this.comparator=r,this.root=o||vi.EMPTY}return s.prototype.insert=function(r,o){return new s(this.comparator,this.root.insert(r,o,this.comparator).copy(null,null,vi.BLACK,null,null))},s.prototype.remove=function(r){return new s(this.comparator,this.root.remove(r,this.comparator).copy(null,null,vi.BLACK,null,null))},s.prototype.get=function(r){for(var o=this.root;!o.isEmpty();){var c=this.comparator(r,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null},s.prototype.indexOf=function(r){for(var o=0,c=this.root;!c.isEmpty();){var p=this.comparator(r,c.key);if(0===p)return o+c.left.size;p<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1},s.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(s.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),s.prototype.minKey=function(){return this.root.minKey()},s.prototype.maxKey=function(){return this.root.maxKey()},s.prototype.inorderTraversal=function(r){return this.root.inorderTraversal(r)},s.prototype.forEach=function(r){this.inorderTraversal(function(o,c){return r(o,c),!1})},s.prototype.toString=function(){var r=[];return this.inorderTraversal(function(o,c){return r.push(o+":"+c),!1}),"{"+r.join(", ")+"}"},s.prototype.reverseTraversal=function(r){return this.root.reverseTraversal(r)},s.prototype.getIterator=function(){return new wo(this.root,null,this.comparator,!1)},s.prototype.getIteratorFrom=function(r){return new wo(this.root,r,this.comparator,!1)},s.prototype.getReverseIterator=function(){return new wo(this.root,null,this.comparator,!0)},s.prototype.getReverseIteratorFrom=function(r){return new wo(this.root,r,this.comparator,!0)},s}(),wo=function(){function s(r,o,c,p){this.isReverse=p,this.nodeStack=[];for(var _=1;!r.isEmpty();)if(_=o?c(r.key,o):1,p&&(_*=-1),_<0)r=this.isReverse?r.left:r.right;else{if(0===_){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}return s.prototype.getNext=function(){var r=this.nodeStack.pop(),o={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return o},s.prototype.hasNext=function(){return this.nodeStack.length>0},s.prototype.peek=function(){if(0===this.nodeStack.length)return null;var r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}},s}(),vi=function(){function s(r,o,c,p,_){this.key=r,this.value=o,this.color=null!=c?c:s.RED,this.left=null!=p?p:s.EMPTY,this.right=null!=_?_:s.EMPTY,this.size=this.left.size+1+this.right.size}return s.prototype.copy=function(r,o,c,p,_){return new s(null!=r?r:this.key,null!=o?o:this.value,null!=c?c:this.color,null!=p?p:this.left,null!=_?_:this.right)},s.prototype.isEmpty=function(){return!1},s.prototype.inorderTraversal=function(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)},s.prototype.reverseTraversal=function(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)},s.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},s.prototype.minKey=function(){return this.min().key},s.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},s.prototype.insert=function(r,o,c){var p=this,_=c(r,p.key);return(p=_<0?p.copy(null,null,null,p.left.insert(r,o,c),null):0===_?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(r,o,c))).fixUp()},s.prototype.removeMin=function(){if(this.left.isEmpty())return s.EMPTY;var r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),(r=r.copy(null,null,null,r.left.removeMin(),null)).fixUp()},s.prototype.remove=function(r,o){var c,p=this;if(o(r,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(r,o),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===o(r,p.key)){if(p.right.isEmpty())return s.EMPTY;c=p.right.min(),p=p.copy(c.key,c.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(r,o))}return p.fixUp()},s.prototype.isRed=function(){return this.color},s.prototype.fixUp=function(){var r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r},s.prototype.moveRedLeft=function(){var r=this.colorFlip();return r.right.left.isRed()&&(r=(r=(r=r.copy(null,null,null,null,r.right.rotateRight())).rotateLeft()).colorFlip()),r},s.prototype.moveRedRight=function(){var r=this.colorFlip();return r.left.left.isRed()&&(r=(r=r.rotateRight()).colorFlip()),r},s.prototype.rotateLeft=function(){var r=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)},s.prototype.rotateRight=function(){var r=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)},s.prototype.colorFlip=function(){var r=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,o)},s.prototype.checkMaxDepth=function(){var r=this.check();return Math.pow(2,r)<=this.size+1},s.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();var r=this.left.check();if(r!==this.right.check())throw De();return r+(this.isRed()?0:1)},s}();vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new(function(){function s(){this.size=0}return Object.defineProperty(s.prototype,"key",{get:function(){throw De()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){throw De()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){throw De()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){throw De()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){throw De()},enumerable:!1,configurable:!0}),s.prototype.copy=function(r,o,c,p,_){return this},s.prototype.insert=function(r,o,c){return new vi(r,o)},s.prototype.remove=function(r,o){return this},s.prototype.isEmpty=function(){return!0},s.prototype.inorderTraversal=function(r){return!1},s.prototype.reverseTraversal=function(r){return!1},s.prototype.minKey=function(){return null},s.prototype.maxKey=function(){return null},s.prototype.isRed=function(){return!1},s.prototype.checkMaxDepth=function(){return!0},s.prototype.check=function(){return 0},s}());var Mr=function(){function s(r){this.comparator=r,this.data=new kr(this.comparator)}return s.prototype.has=function(r){return null!==this.data.get(r)},s.prototype.first=function(){return this.data.minKey()},s.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(s.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),s.prototype.indexOf=function(r){return this.data.indexOf(r)},s.prototype.forEach=function(r){this.data.inorderTraversal(function(o,c){return r(o),!1})},s.prototype.forEachInRange=function(r,o){for(var c=this.data.getIteratorFrom(r[0]);c.hasNext();){var p=c.getNext();if(this.comparator(p.key,r[1])>=0)return;o(p.key)}},s.prototype.forEachWhile=function(r,o){var c;for(c=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return},s.prototype.firstAfterOrEqual=function(r){var o=this.data.getIteratorFrom(r);return o.hasNext()?o.getNext().key:null},s.prototype.getIterator=function(){return new Eo(this.data.getIterator())},s.prototype.getIteratorFrom=function(r){return new Eo(this.data.getIteratorFrom(r))},s.prototype.add=function(r){return this.copy(this.data.remove(r).insert(r,!0))},s.prototype.delete=function(r){return this.has(r)?this.copy(this.data.remove(r)):this},s.prototype.isEmpty=function(){return this.data.isEmpty()},s.prototype.unionWith=function(r){var o=this;return o.size<r.size&&(o=r,r=this),r.forEach(function(c){o=o.add(c)}),o},s.prototype.isEqual=function(r){if(!(r instanceof s)||this.size!==r.size)return!1;for(var o=this.data.getIterator(),c=r.data.getIterator();o.hasNext();){var p=o.getNext().key,_=c.getNext().key;if(0!==this.comparator(p,_))return!1}return!0},s.prototype.toArray=function(){var r=[];return this.forEach(function(o){r.push(o)}),r},s.prototype.toString=function(){var r=[];return this.forEach(function(o){return r.push(o)}),"SortedSet("+r.toString()+")"},s.prototype.copy=function(r){var o=new s(this.comparator);return o.data=r,o},s}(),Eo=function(){function s(r){this.iter=r}return s.prototype.getNext=function(){return this.iter.getNext().key},s.prototype.hasNext=function(){return this.iter.hasNext()},s}(),qo=new kr(vt.comparator);function Yn(){return qo}var uo=new kr(vt.comparator);function Ni(){return uo}var ki=new kr(vt.comparator);function Ro(){return ki}var fr=new Mr(vt.comparator);function _r(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];for(var o=fr,c=0,p=s;c<p.length;c++){var _=p[c];o=o.add(_)}return o}var qn=new Mr(Ve);function Or(){return qn}var bo=function(){function s(r,o,c,p,_){this.snapshotVersion=r,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=p,this.resolvedLimboDocuments=_}return s.createSynthesizedRemoteEventForCurrentChange=function(r,o){var c=new Map;return c.set(r,ee.createSynthesizedTargetChangeForCurrentChange(r,o)),new s(bt.min(),c,Or(),Yn(),_r())},s}(),ee=function(){function s(r,o,c,p,_){this.resumeToken=r,this.current=o,this.addedDocuments=c,this.modifiedDocuments=p,this.removedDocuments=_}return s.createSynthesizedTargetChangeForCurrentChange=function(r,o){return new s(lt.EMPTY_BYTE_STRING,o,_r(),_r(),_r())},s}(),W=function(s,r,o,c){this.v=s,this.removedTargetIds=r,this.key=o,this.P=c},Ie=function(s,r){this.targetId=s,this.V=r},Ge=function(s,r,o,c){void 0===o&&(o=lt.EMPTY_BYTE_STRING),void 0===c&&(c=null),this.state=s,this.targetIds=r,this.resumeToken=o,this.cause=c},dt=function(){function s(){this.S=0,this.D=pn(),this.C=lt.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(s.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),s.prototype.O=function(r){r.approximateByteSize()>0&&(this.k=!0,this.C=r)},s.prototype.M=function(){var r=_r(),o=_r(),c=_r();return this.D.forEach(function(p,_){switch(_){case 0:r=r.add(p);break;case 2:o=o.add(p);break;case 1:c=c.add(p);break;default:De()}}),new ee(this.C,this.N,r,o,c)},s.prototype.L=function(){this.k=!1,this.D=pn()},s.prototype.B=function(r,o){this.k=!0,this.D=this.D.insert(r,o)},s.prototype.q=function(r){this.k=!0,this.D=this.D.remove(r)},s.prototype.U=function(){this.S+=1},s.prototype.K=function(){this.S-=1},s.prototype.j=function(){this.k=!0,this.N=!0},s}(),xt=function(){function s(r){this.W=r,this.G=new Map,this.H=Yn(),this.J=an(),this.Y=new Mr(Ve)}return s.prototype.X=function(r){for(var o=0,c=r.v;o<c.length;o++){var p=c[o];r.P&&r.P.isFoundDocument()?this.Z(p,r.P):this.tt(p,r.key,r.P)}for(var _=0,S=r.removedTargetIds;_<S.length;_++)this.tt(p=S[_],r.key,r.P)},s.prototype.et=function(r){var o=this;this.forEachTarget(r,function(c){var p=o.nt(c);switch(r.state){case 0:o.st(c)&&p.O(r.resumeToken);break;case 1:p.K(),p.F||p.L(),p.O(r.resumeToken);break;case 2:p.K(),p.F||o.removeTarget(c);break;case 3:o.st(c)&&(p.j(),p.O(r.resumeToken));break;case 4:o.st(c)&&(o.it(c),p.O(r.resumeToken));break;default:De()}})},s.prototype.forEachTarget=function(r,o){var c=this;r.targetIds.length>0?r.targetIds.forEach(o):this.G.forEach(function(p,_){c.st(_)&&o(_)})},s.prototype.rt=function(r){var o=r.targetId,c=r.V.count,p=this.ot(o);if(p){var _=p.target;if(Yt(_))if(0===c){var S=new vt(_.path);this.tt(o,S,Bn.newNoDocument(S,bt.min()))}else st(1===c);else this.ct(o)!==c&&(this.it(o),this.Y=this.Y.add(o))}},s.prototype.ut=function(r){var o=this,c=new Map;this.G.forEach(function(S,P){var Q=o.ot(P);if(Q){if(S.current&&Yt(Q.target)){var me=new vt(Q.target.path);null!==o.H.get(me)||o.at(P,me)||o.tt(P,me,Bn.newNoDocument(me,r))}S.$&&(c.set(P,S.M()),S.L())}});var p=_r();this.J.forEach(function(S,P){var Q=!0;P.forEachWhile(function(me){var Ce=o.ot(me);return!Ce||2===Ce.purpose||(Q=!1,!1)}),Q&&(p=p.add(S))});var _=new bo(r,c,this.Y,this.H,p);return this.H=Yn(),this.J=an(),this.Y=new Mr(Ve),_},s.prototype.Z=function(r,o){if(this.st(r)){var c=this.at(r,o.key)?2:0;this.nt(r).B(o.key,c),this.H=this.H.insert(o.key,o),this.J=this.J.insert(o.key,this.ht(o.key).add(r))}},s.prototype.tt=function(r,o,c){if(this.st(r)){var p=this.nt(r);this.at(r,o)?p.B(o,1):p.q(o),this.J=this.J.insert(o,this.ht(o).delete(r)),c&&(this.H=this.H.insert(o,c))}},s.prototype.removeTarget=function(r){this.G.delete(r)},s.prototype.ct=function(r){var o=this.nt(r).M();return this.W.getRemoteKeysForTarget(r).size+o.addedDocuments.size-o.removedDocuments.size},s.prototype.U=function(r){this.nt(r).U()},s.prototype.nt=function(r){var o=this.G.get(r);return o||(o=new dt,this.G.set(r,o)),o},s.prototype.ht=function(r){var o=this.J.get(r);return o||(o=new Mr(Ve),this.J=this.J.insert(r,o)),o},s.prototype.st=function(r){var o=null!==this.ot(r);return o||k("WatchChangeAggregator","Detected inactive target",r),o},s.prototype.ot=function(r){var o=this.G.get(r);return o&&o.F?null:this.W.lt(r)},s.prototype.it=function(r){var o=this;this.G.set(r,new dt),this.W.getRemoteKeysForTarget(r).forEach(function(c){o.tt(r,c,null)})},s.prototype.at=function(r,o){return this.W.getRemoteKeysForTarget(r).has(o)},s}();function an(){return new kr(vt.comparator)}function pn(){return new kr(vt.comparator)}var Z={asc:"ASCENDING",desc:"DESCENDING"},z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F=function(s,r){this.databaseId=s,this.I=r};function ge(s,r){return s.I?new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+r.nanoseconds).slice(-9)+"Z":{seconds:""+r.seconds,nanos:r.nanoseconds}}function ne(s,r){return s.I?r.toBase64():r.toUint8Array()}function ye(s,r){return ge(s,r.toTimestamp())}function re(s){return st(!!s),bt.fromTimestamp((o=Ut(s),new It(o.seconds,o.nanos)));var o}function Le(s,r){return(o=s,new $e(["projects",o.projectId,"databases",o.database])).child("documents").child(r).canonicalString();var o}function St(s){var r=$e.fromString(s);return st(Fi(r)),r}function rn(s,r){return Le(s.databaseId,r.path)}function On(s,r){var o=St(r);if(o.get(1)!==s.databaseId.projectId)throw new fe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+s.databaseId.projectId);if(o.get(3)!==s.databaseId.database)throw new fe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+s.databaseId.database);return new vt(K(o))}function br(s,r){return Le(s.databaseId,r)}function Dr(s){var r=St(s);return 4===r.length?$e.emptyPath():K(r)}function no(s){return new $e(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function K(s){return st(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function de(s,r,o){return{name:rn(s,r),fields:o.value.mapValue.fields}}function Y(s,r,o){var c=On(s,r.name),p=re(r.updateTime),_=new Tn({mapValue:{fields:r.fields}}),S=Bn.newFoundDocument(c,p,_);return o&&S.setHasCommittedMutations(),o?S.setHasCommittedMutations():S}function pe(s,r){var o,p;if(r instanceof lr)o={update:de(s,r.key,r.value)};else if(r instanceof Hr)o={delete:rn(s,r.key)};else if(r instanceof Fn)o={update:de(s,r.key,r.data),updateMask:yi(r.fieldMask)};else{if(!(r instanceof mi))return De();o={verify:rn(s,r.key)}}return r.fieldTransforms.length>0&&(o.updateTransforms=r.fieldTransforms.map(function(c){return function(p,_){var S=_.transform;if(S instanceof sr)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Vn)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof ao)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof $r)return{fieldPath:_.field.canonicalString(),increment:S.A};throw De()}(0,c)})),r.precondition.isNone||(o.currentDocument=void 0!==(p=r.precondition).updateTime?{updateTime:ye(s,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:De()),o}function ot(s,r){var me,o=r.currentDocument?void 0!==(me=r.currentDocument).updateTime?Ti.updateTime(re(me.updateTime)):void 0!==me.exists?Ti.exists(me.exists):Ti.none():Ti.none(),c=r.updateTransforms?r.updateTransforms.map(function(me){return function(Ce,Ke){var it=null;"setToServerValue"in Ke?(st("REQUEST_TIME"===Ke.setToServerValue),it=new sr):"appendMissingElements"in Ke?it=new Vn(Ke.appendMissingElements.values||[]):"removeAllFromArray"in Ke?it=new ao(Ke.removeAllFromArray.values||[]):"increment"in Ke?it=new $r(Ce,Ke.increment):De();var Kt=rt.fromServerFormat(Ke.fieldPath);return new Yi(Kt,it)}(s,me)}):[];if(r.update){var p=On(s,r.update.name),_=new Tn({mapValue:{fields:r.update.fields}});if(r.updateMask){var S=function(me){return new _t((me.fieldPaths||[]).map(function(Ke){return rt.fromServerFormat(Ke)}))}(r.updateMask);return new Fn(p,_,S,o,c)}return new lr(p,_,o,c)}if(r.delete){var P=On(s,r.delete);return new Hr(P,o)}if(r.verify){var Q=On(s,r.verify);return new mi(Q,o)}return De()}function Ft(s,r){return{documents:[br(s,r.path)]}}function gn(s,r){var o={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(o.parent=br(s,c),o.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(o.parent=br(s,c.popLast()),o.structuredQuery.from=[{collectionId:c.lastSegment()}]);var p=function(P){if(0!==P.length){var Q=P.map(function(me){return function(Ce){if("=="===Ce.op){if(qe(Ce.value))return{unaryFilter:{field:si(Ce.field),op:"IS_NAN"}};if(He(Ce.value))return{unaryFilter:{field:si(Ce.field),op:"IS_NULL"}}}else if("!="===Ce.op){if(qe(Ce.value))return{unaryFilter:{field:si(Ce.field),op:"IS_NOT_NAN"}};if(He(Ce.value))return{unaryFilter:{field:si(Ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:si(Ce.field),op:xr(Ce.op),value:Ce.value}}}(me)});return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}}(r.filters);p&&(o.structuredQuery.where=p);var _=function(P){if(0!==P.length)return P.map(function(Q){return{field:si((me=Q).field),direction:Pr(me.dir)};var me})}(r.orderBy);_&&(o.structuredQuery.orderBy=_);var Q,S=(Q=r.limit,s.I||_n(Q)?Q:{value:Q});return null!==S&&(o.structuredQuery.limit=S),r.startAt&&(o.structuredQuery.startAt=ai(r.startAt)),r.endAt&&(o.structuredQuery.endAt=ai(r.endAt)),o}function Dn(s){var r=Dr(s.parent),o=s.structuredQuery,c=o.from?o.from.length:0,p=null;if(c>0){st(1===c);var _=o.from[0];_.allDescendants?p=_.collectionId:r=r.child(_.collectionId)}var S=[];o.where&&(S=Jn(o.where));var P=[];o.orderBy&&(P=o.orderBy.map(function(Ke){return new Te(Qr((it=Ke).field),function(kt){switch(kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(it.direction));var it}));var Ke,it,Q=null;o.limit&&(Q=_n(it="object"==typeof(Ke=o.limit)?Ke.value:Ke)?null:it);var me=null;o.startAt&&(me=oi(o.startAt));var Ce=null;return o.endAt&&(Ce=oi(o.endAt)),Sn(r,p,P,S,Q,"F",me,Ce)}function Jn(s){return s?void 0!==s.unaryFilter?[ro(s)]:void 0!==s.fieldFilter?[ls(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(function(r){return Jn(r)}).reduce(function(r,o){return r.concat(o)}):De():[]}function ai(s){return{before:s.before,values:s.position}}function oi(s){return new gt(s.values||[],!!s.before)}function Pr(s){return Z[s]}function xr(s){return z[s]}function si(s){return{fieldPath:s.canonicalString()}}function Qr(s){return rt.fromServerFormat(s.fieldPath)}function ls(s){return Bt.create(Qr(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return De()}}(s.fieldFilter.op),s.fieldFilter.value)}function ro(s){switch(s.unaryFilter.op){case"IS_NAN":var r=Qr(s.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":var o=Qr(s.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var c=Qr(s.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var p=Qr(s.unaryFilter.field);return Bt.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return De()}}function yi(s){var r=[];return s.fields.forEach(function(o){return r.push(o.canonicalString())}),{fieldPaths:r}}function Fi(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Er(s){for(var r="",o=0;o<s.length;o++)r.length>0&&(r=ko(r)),r=di(s.get(o),r);return ko(r)}function di(s,r){for(var o=r,c=s.length,p=0;p<c;p++){var _=s.charAt(p);switch(_){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=_}}return o}function ko(s){return s+"\x01\x01"}function Fo(s){var r=s.length;if(st(r>=2),2===r)return st("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),$e.emptyPath();for(var o=r-2,c=[],p="",_=0;_<r;){var S=s.indexOf("\x01",_);switch((S<0||S>o)&&De(),s.charAt(S+1)){case"\x01":var P=s.substring(_,S),Q=void 0;0===p.length?Q=P:(Q=p+=P,p=""),c.push(Q);break;case"\x10":p+=s.substring(_,S),p+="\0";break;case"\x11":p+=s.substring(_,S+1);break;default:De()}_=S+2}return new $e(c)}var co=function(s,r){this.seconds=s,this.nanoseconds=r},Co=function(s,r,o){this.ownerId=s,this.allowTabSynchronization=r,this.leaseTimestampMs=o};Co.store="owner",Co.key="owner";var ti=function(s,r,o){this.userId=s,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o};ti.store="mutationQueues",ti.keyPath="userId";var Vr=function(s,r,o,c,p){this.userId=s,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=p};Vr.store="mutations",Vr.keyPath="batchId",Vr.userMutationsIndex="userMutationsIndex",Vr.userMutationsKeyPath=["userId","batchId"];var vr=function(){function s(){}return s.prefixForUser=function(r){return[r]},s.prefixForPath=function(r,o){return[r,Er(o)]},s.key=function(r,o,c){return[r,Er(o),c]},s}();vr.store="documentMutations",vr.PLACEHOLDER=new vr;var ua=function(s,r){this.path=s,this.readTime=r},hr=function(s,r){this.path=s,this.version=r},ji=function(s,r,o,c,p,_){this.unknownDocument=s,this.noDocument=r,this.document=o,this.hasCommittedMutations=c,this.readTime=p,this.parentPath=_};ji.store="remoteDocuments",ji.readTimeIndex="readTimeIndex",ji.readTimeIndexPath="readTime",ji.collectionReadTimeIndex="collectionReadTimeIndex",ji.collectionReadTimeIndexPath=["parentPath","readTime"];var ss=function(s){this.byteSize=s};ss.store="remoteDocumentGlobal",ss.key="remoteDocumentGlobalKey";var Ii=function(s,r,o,c,p,_,S){this.targetId=s,this.canonicalId=r,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=_,this.query=S};Ii.store="targets",Ii.keyPath="targetId",Ii.queryTargetsIndexName="queryTargetsIndex",Ii.queryTargetsKeyPath=["canonicalId","targetId"];var To=function(s,r,o){this.targetId=s,this.path=r,this.sequenceNumber=o};To.store="targetDocuments",To.keyPath=["targetId","path"],To.documentTargetsIndex="documentTargetsIndex",To.documentTargetsKeyPath=["path","targetId"];var eo=function(s,r,o,c){this.highestTargetId=s,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=c};eo.key="targetGlobalKey",eo.store="targetGlobal";var js=function(s,r){this.collectionId=s,this.parent=r};js.store="collectionParents",js.keyPath=["collectionId","parent"];var lo=function(s,r,o,c){this.clientId=s,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=c};lo.store="clientMetadata",lo.keyPath="clientId";var Jt=function(s,r,o){this.bundleId=s,this.createTime=r,this.version=o};Jt.store="bundles",Jt.keyPath="bundleId";var Cr=function(s,r,o){this.name=s,this.readTime=r,this.bundledQuery=o};Cr.store="namedQueries",Cr.keyPath="name";var ea=(0,E.__spreadArray)((0,E.__spreadArray)([],(0,E.__spreadArray)((0,E.__spreadArray)([],(0,E.__spreadArray)((0,E.__spreadArray)([],(0,E.__spreadArray)((0,E.__spreadArray)([],[ti.store,Vr.store,vr.store,ji.store,Ii.store,Co.store,eo.store,To.store]),[lo.store])),[ss.store])),[js.store])),[Jt.store,Cr.store]),Ai="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qo=function(){function s(){this.onCommittedListeners=[]}return s.prototype.addOnCommittedListener=function(r){this.onCommittedListeners.push(r)},s.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(r){return r()})},s}(),Bi=function(){var s=this;this.promise=new Promise(function(r,o){s.resolve=r,s.reject=o})},sn=function(){function s(r){var o=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(function(c){o.isDone=!0,o.result=c,o.nextCallback&&o.nextCallback(c)},function(c){o.isDone=!0,o.error=c,o.catchCallback&&o.catchCallback(c)})}return s.prototype.catch=function(r){return this.next(void 0,r)},s.prototype.next=function(r,o){var c=this;return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(r,this.result):new s(function(p,_){c.nextCallback=function(S){c.wrapSuccess(r,S).next(p,_)},c.catchCallback=function(S){c.wrapFailure(o,S).next(p,_)}})},s.prototype.toPromise=function(){var r=this;return new Promise(function(o,c){r.next(o,c)})},s.prototype.wrapUserFunction=function(r){try{var o=r();return o instanceof s?o:s.resolve(o)}catch(c){return s.reject(c)}},s.prototype.wrapSuccess=function(r,o){return r?this.wrapUserFunction(function(){return r(o)}):s.resolve(o)},s.prototype.wrapFailure=function(r,o){return r?this.wrapUserFunction(function(){return r(o)}):s.reject(o)},s.resolve=function(r){return new s(function(o,c){o(r)})},s.reject=function(r){return new s(function(o,c){c(r)})},s.waitFor=function(r){return new s(function(o,c){var p=0,_=0,S=!1;r.forEach(function(P){++p,P.next(function(){++_,S&&_===p&&o()},function(Q){return c(Q)})}),S=!0,_===p&&o()})},s.or=function(r){for(var o=s.resolve(!1),c=function(S){o=o.next(function(P){return P?s.resolve(P):S()})},p=0,_=r;p<_.length;p++)c(_[p]);return o},s.forEach=function(r,o){var c=this,p=[];return r.forEach(function(_,S){p.push(o.call(c,_,S))}),this.waitFor(p)},s}(),ta=function(){function s(r,o){var c=this;this.action=r,this.transaction=o,this.aborted=!1,this.ft=new Bi,this.transaction.oncomplete=function(){c.ft.resolve()},this.transaction.onabort=function(){o.error?c.ft.reject(new go(r,o.error)):c.ft.resolve()},this.transaction.onerror=function(p){var _=fs(p.target.error);c.ft.reject(new go(r,_))}}return s.open=function(r,o,c,p){try{return new s(o,r.transaction(p,c))}catch(_){throw new go(o,_)}},Object.defineProperty(s.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),s.prototype.abort=function(r){r&&this.ft.reject(r),this.aborted||(k("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},s.prototype.store=function(r){var o=this.transaction.objectStore(r);return new as(o)},s}(),_i=function(){function s(r,o,c){this.name=r,this.version=o,this.wt=c,12.2===s._t((0,b.getUA)())&&Re("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s.delete=function(r){return k("SimpleDb","Removing database:",r),Gr(window.indexedDB.deleteDatabase(r)).toPromise()},s.yt=function(){if("undefined"==typeof indexedDB)return!1;if(s.gt())return!0;var r=(0,b.getUA)(),o=s._t(r),c=0<o&&o<10,p=s.Et(r),_=0<p&&p<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||_)},s.gt=function(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Tt)},s.It=function(r,o){return r.store(o)},s._t=function(r){var o=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)},s.Et=function(r){var o=r.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)},s.prototype.At=function(r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c=this;return(0,E.__generator)(this,function(p){switch(p.label){case 0:return this.db?[3,2]:(k("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(_,S){var P=indexedDB.open(c.name,c.version);P.onsuccess=function(Q){_(Q.target.result)},P.onblocked=function(){S(new go(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},P.onerror=function(Q){var me=Q.target.error;S("VersionError"===me.name?new fe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new go(r,me))},P.onupgradeneeded=function(Q){k("SimpleDb",'Database "'+c.name+'" requires upgrade from version:',Q.oldVersion),c.wt.Rt(Q.target.result,P.transaction,Q.oldVersion,c.version).next(function(){k("SimpleDb","Database upgrade to version "+c.version+" complete")})}})]);case 1:o.db=p.sent(),p.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(_){return c.bt(_)}),this.db)]}})})},s.prototype.vt=function(r){this.bt=r,this.db&&(this.db.onversionchange=function(o){return r(o)})},s.prototype.runTransaction=function(r,o,c,p){return(0,E.__awaiter)(this,void 0,void 0,function(){var _,S,P,Q,me;return(0,E.__generator)(this,function(Ce){switch(Ce.label){case 0:_="readonly"===o,S=0,P=function(){var Ke,it,kt,Pt,Kt;return(0,E.__generator)(this,function(Nn){switch(Nn.label){case 0:++S,Nn.label=1;case 1:return Nn.trys.push([1,4,,5]),[4,Q.At(r)];case 2:return Q.db=Nn.sent(),Ke=ta.open(Q.db,r,_?"readonly":"readwrite",c),it=p(Ke).catch(function(jn){return Ke.abort(jn),sn.reject(jn)}).toPromise(),kt={},it.catch(function(){}),[4,Ke.dt];case 3:return[2,(kt.value=(Nn.sent(),it),kt)];case 4:return k("SimpleDb","Transaction failed with error:",(Pt=Nn.sent()).message,"Retrying:",Kt="FirebaseError"!==Pt.name&&S<3),Q.close(),Kt?[3,5]:[2,{value:Promise.reject(Pt)}];case 5:return[2]}})},Q=this,Ce.label=1;case 1:return[5,P()];case 2:if("object"==typeof(me=Ce.sent()))return[2,me.value];Ce.label=3;case 3:return[3,1];case 4:return[2]}})})},s.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},s}(),Jo=function(){function s(r){this.Pt=r,this.Vt=!1,this.St=null}return Object.defineProperty(s.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cursor",{set:function(r){this.Pt=r},enumerable:!1,configurable:!0}),s.prototype.done=function(){this.Vt=!0},s.prototype.Ct=function(r){this.St=r},s.prototype.delete=function(){return Gr(this.Pt.delete())},s}(),go=function(s){function r(o,c){var p=this;return(p=s.call(this,le.UNAVAILABLE,"IndexedDB transaction '"+o+"' failed: "+c)||this).name="IndexedDbTransactionError",p}return(0,E.__extends)(r,s),r}(fe);function Wo(s){return"IndexedDbTransactionError"===s.name}var as=function(){function s(r){this.store=r}return s.prototype.put=function(r,o){var c;return void 0!==o?(k("SimpleDb","PUT",this.store.name,r,o),c=this.store.put(o,r)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),Gr(c)},s.prototype.add=function(r){return k("SimpleDb","ADD",this.store.name,r,r),Gr(this.store.add(r))},s.prototype.get=function(r){var o=this;return Gr(this.store.get(r)).next(function(c){return void 0===c&&(c=null),k("SimpleDb","GET",o.store.name,r,c),c})},s.prototype.delete=function(r){return k("SimpleDb","DELETE",this.store.name,r),Gr(this.store.delete(r))},s.prototype.count=function(){return k("SimpleDb","COUNT",this.store.name),Gr(this.store.count())},s.prototype.Nt=function(r,o){var c=this.cursor(this.options(r,o)),p=[];return this.xt(c,function(_,S){p.push(S)}).next(function(){return p})},s.prototype.kt=function(r,o){k("SimpleDb","DELETE ALL",this.store.name);var c=this.options(r,o);c.Ft=!1;var p=this.cursor(c);return this.xt(p,function(_,S,P){return P.delete()})},s.prototype.$t=function(r,o){var c;o?c=r:(c={},o=r);var p=this.cursor(c);return this.xt(p,o)},s.prototype.Ot=function(r){var o=this.cursor({});return new sn(function(c,p){o.onerror=function(_){var S=fs(_.target.error);p(S)},o.onsuccess=function(_){var S=_.target.result;S?r(S.primaryKey,S.value).next(function(P){P?S.continue():c()}):c()}})},s.prototype.xt=function(r,o){var c=[];return new sn(function(p,_){r.onerror=function(S){_(S.target.error)},r.onsuccess=function(S){var P=S.target.result;if(P){var Q=new Jo(P),me=o(P.primaryKey,P.value,Q);if(me instanceof sn){var Ce=me.catch(function(Ke){return Q.done(),sn.reject(Ke)});c.push(Ce)}Q.isDone?p():null===Q.Dt?P.continue():P.continue(Q.Dt)}else p()}}).next(function(){return sn.waitFor(c)})},s.prototype.options=function(r,o){var c;return void 0!==r&&("string"==typeof r?c=r:o=r),{index:c,range:o}},s.prototype.cursor=function(r){var o="next";if(r.reverse&&(o="prev"),r.index){var c=this.store.index(r.index);return r.Ft?c.openKeyCursor(r.range,o):c.openCursor(r.range,o)}return this.store.openCursor(r.range,o)},s}();function Gr(s){return new sn(function(r,o){s.onsuccess=function(c){r(c.target.result)},s.onerror=function(c){var p=fs(c.target.error);o(p)}})}var Xo=!1;function fs(s){var r=_i._t((0,b.getUA)());if(r>=12.2&&r<13){var o="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(o)>=0){var c=new fe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xo||(Xo=!0,setTimeout(function(){throw c},0)),c}}return s}var $o=function(s){function r(o,c){var p=this;return(p=s.call(this)||this).Mt=o,p.currentSequenceNumber=c,p}return(0,E.__extends)(r,s),r}(Qo);function io(s,r){var o=je(s);return _i.It(o.Mt,r)}var Bs=function(){function s(r,o,c,p){this.batchId=r,this.localWriteTime=o,this.baseMutations=c,this.mutations=p}return s.prototype.applyToRemoteDocument=function(r,o){for(var c=o.mutationResults,p=0;p<this.mutations.length;p++){var _=this.mutations[p];_.key.isEqual(r.key)&&Qn(_,r,c[p])}},s.prototype.applyToLocalView=function(r){for(var o=0,c=this.baseMutations;o<c.length;o++)(S=c[o]).key.isEqual(r.key)&&Rr(S,r,this.localWriteTime);for(var p=0,_=this.mutations;p<_.length;p++){var S;(S=_[p]).key.isEqual(r.key)&&Rr(S,r,this.localWriteTime)}},s.prototype.applyToLocalDocumentSet=function(r){var o=this;this.mutations.forEach(function(c){var p=r.get(c.key),_=p;o.applyToLocalView(_),p.isValidDocument()||_.convertToNoDocument(bt.min())})},s.prototype.keys=function(){return this.mutations.reduce(function(r,o){return r.add(o.key)},_r())},s.prototype.isEqual=function(r){return this.batchId===r.batchId&&at(this.mutations,r.mutations,function(o,c){return Wi(o,c)})&&at(this.baseMutations,r.baseMutations,function(o,c){return Wi(o,c)})},s}(),ca=function(){function s(r,o,c,p){this.batch=r,this.commitVersion=o,this.mutationResults=c,this.docVersions=p}return s.from=function(r,o,c){st(r.mutations.length===c.length);for(var p=Ro(),_=r.mutations,S=0;S<_.length;S++)p=p.insert(_[S].key,c[S].version);return new s(r,o,c,p)},s}(),es=function(){function s(r,o,c,p,_,S,P){void 0===_&&(_=bt.min()),void 0===S&&(S=bt.min()),void 0===P&&(P=lt.EMPTY_BYTE_STRING),this.target=r,this.targetId=o,this.purpose=c,this.sequenceNumber=p,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=P}return s.prototype.withSequenceNumber=function(r){return new s(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},s.prototype.withResumeToken=function(r,o){return new s(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,r)},s.prototype.withLastLimboFreeSnapshotVersion=function(r){return new s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)},s}(),fo=function(s){this.Lt=s};function na(s,r){if(r.document)return Y(s.Lt,r.document,!!r.hasCommittedMutations);if(r.noDocument){var o=vt.fromSegments(r.noDocument.path),c=wi(r.noDocument.readTime),p=Bn.newNoDocument(o,c);return r.hasCommittedMutations?p.setHasCommittedMutations():p}if(r.unknownDocument){var _=vt.fromSegments(r.unknownDocument.path);return c=wi(r.unknownDocument.version),Bn.newUnknownDocument(_,c)}return De()}function Vo(s,r,o){var Ke,it,c=vs(o),p=r.key.path.popLast().toArray();if(r.isFoundDocument()){var _={name:rn(Ke=s.Lt,(it=r).key),fields:it.data.value.mapValue.fields,updateTime:ge(Ke,it.version.toTimestamp())},S=r.hasCommittedMutations;return new ji(null,null,_,S,c,p)}if(r.isNoDocument()){var P=r.key.path.toArray(),Q=xs(r.version);return S=r.hasCommittedMutations,new ji(null,new ua(P,Q),null,S,c,p)}if(r.isUnknownDocument()){var me=r.key.path.toArray(),Ce=xs(r.version);return new ji(new hr(me,Ce),null,null,!0,c,p)}return De()}function vs(s){var r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function Rs(s){var r=new It(s[0],s[1]);return bt.fromTimestamp(r)}function xs(s){var r=s.toTimestamp();return new co(r.seconds,r.nanoseconds)}function wi(s){var r=new It(s.seconds,s.nanoseconds);return bt.fromTimestamp(r)}function mo(s,r){for(var o=(r.baseMutations||[]).map(function(Q){return ot(s.Lt,Q)}),c=0;c<r.mutations.length-1;++c)c+1<r.mutations.length&&void 0!==r.mutations[c+1].transform&&(r.mutations[c].updateTransforms=r.mutations[c+1].transform.fieldTransforms,r.mutations.splice(c+1,1),++c);var S=r.mutations.map(function(Q){return ot(s.Lt,Q)}),P=It.fromMillis(r.localWriteTimeMs);return new Bs(r.batchId,P,o,S)}function Ns(s){var r,o,c=wi(s.readTime),p=void 0!==s.lastLimboFreeSnapshotVersion?wi(s.lastLimboFreeSnapshotVersion):bt.min();return void 0!==s.query.documents?(st(1===(o=s.query).documents.length),r=Sr(Ln(Dr(o.documents[0])))):r=Sr(Dn(s.query)),new es(r,s.targetId,0,s.lastListenSequenceNumber,c,p,lt.fromBase64String(s.resumeToken))}function ys(s,r){var o,c=xs(r.snapshotVersion),p=xs(r.lastLimboFreeSnapshotVersion);o=Yt(r.target)?Ft(s.Lt,r.target):gn(s.Lt,r.target);var _=r.resumeToken.toBase64();return new Ii(r.targetId,wt(r.target),c,_,r.sequenceNumber,p,o)}function xo(s){var r=Dn({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?li(r,r.limit,"L"):r}var la=function(){function s(){}return s.prototype.getBundleMetadata=function(r,o){return ya(r).get(o).next(function(c){if(c)return{id:(p=c).bundleId,createTime:wi(p.createTime),version:p.version};var p})},s.prototype.saveBundleMetadata=function(r,o){return ya(r).put({bundleId:(c=o).id,createTime:xs(re(c.createTime)),version:c.version});var c},s.prototype.getNamedQuery=function(r,o){return vo(r).get(o).next(function(c){if(c)return{name:(p=c).name,query:xo(p.bundledQuery),readTime:wi(p.readTime)};var p})},s.prototype.saveNamedQuery=function(r,o){return vo(r).put({name:(c=o).name,readTime:xs(re(c.readTime)),bundledQuery:c.bundledQuery});var c},s}();function ya(s){return io(s,Jt.store)}function vo(s){return io(s,Cr.store)}var ds=function(){function s(){this.Bt=new Qi}return s.prototype.addToCollectionParentIndex=function(r,o){return this.Bt.add(o),sn.resolve()},s.prototype.getCollectionParents=function(r,o){return sn.resolve(this.Bt.getEntries(o))},s}(),Qi=function(){function s(){this.index={}}return s.prototype.add=function(r){var o=r.lastSegment(),c=r.popLast(),p=this.index[o]||new Mr($e.comparator),_=!p.has(c);return this.index[o]=p.add(c),_},s.prototype.has=function(r){var o=r.lastSegment(),c=r.popLast(),p=this.index[o];return p&&p.has(c)},s.prototype.getEntries=function(r){return(this.index[r]||new Mr($e.comparator)).toArray()},s}(),ts=function(){function s(){this.qt=new Qi}return s.prototype.addToCollectionParentIndex=function(r,o){var c=this;if(!this.qt.has(o)){var p=o.lastSegment(),_=o.popLast();r.addOnCommittedListener(function(){c.qt.add(o)});var S={collectionId:p,parent:Er(_)};return $i(r).put(S)}return sn.resolve()},s.prototype.getCollectionParents=function(r,o){var c=[],p=IDBKeyRange.bound([o,""],[At(o),""],!1,!0);return $i(r).Nt(p).next(function(_){for(var S=0,P=_;S<P.length;S++){var Q=P[S];if(Q.collectionId!==o)break;c.push(Fo(Q.parent))}return c})},s}();function $i(s){return io(s,js.store)}var Hs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hi=function(){function s(r,o,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=c}return s.withCacheSize=function(r){return new s(r,s.DEFAULT_COLLECTION_PERCENTILE,s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},s}();function Ms(s,r,o){var c=s.store(Vr.store),p=s.store(vr.store),_=[],S=IDBKeyRange.only(o.batchId),P=0,Q=c.$t({range:S},function(Pt,Kt,Nn){return P++,Nn.delete()});_.push(Q.next(function(){st(1===P)}));for(var me=[],Ce=0,Ke=o.mutations;Ce<Ke.length;Ce++){var it=Ke[Ce],kt=vr.key(r,it.key.path,o.batchId);_.push(p.delete(kt)),me.push(it.key)}return sn.waitFor(_).next(function(){return me})}function y(s){if(!s)return 0;var r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw De();r=s.noDocument}return JSON.stringify(r).length}hi.DEFAULT_COLLECTION_PERCENTILE=10,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hi.DEFAULT=new hi(41943040,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hi.DISABLED=new hi(-1,0,0);var U=function(){function s(r,o,c,p){this.userId=r,this.R=o,this.Ut=c,this.referenceDelegate=p,this.Kt={}}return s.Qt=function(r,o,c,p){return st(""!==r.uid),new s(r.isAuthenticated()?r.uid:"",o,c,p)},s.prototype.checkEmpty=function(r){var o=!0,c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _e(r).$t({index:Vr.userMutationsIndex,range:c},function(p,_,S){o=!1,S.done()}).next(function(){return o})},s.prototype.addMutationBatch=function(r,o,c,p){var _=this,S=A(r),P=_e(r);return P.add({}).next(function(Q){st("number"==typeof Q);for(var me=new Bs(Q,o,c,p),Ce=function(jn,mr,Tr){var Vi=Tr.baseMutations.map(function(yo){return pe(jn.Lt,yo)}),ci=Tr.mutations.map(function(yo){return pe(jn.Lt,yo)});return new Vr(mr,Tr.batchId,Tr.localWriteTime.toMillis(),Vi,ci)}(_.R,_.userId,me),Ke=[],it=new Mr(function(jn,mr){return Ve(jn.canonicalString(),mr.canonicalString())}),kt=0,Pt=p;kt<Pt.length;kt++){var Kt=Pt[kt],Nn=vr.key(_.userId,Kt.key.path,Q);it=it.add(Kt.key.path.popLast()),Ke.push(P.put(Ce)),Ke.push(S.put(Nn,vr.PLACEHOLDER))}return it.forEach(function(jn){Ke.push(_.Ut.addToCollectionParentIndex(r,jn))}),r.addOnCommittedListener(function(){_.Kt[Q]=me.keys()}),sn.waitFor(Ke).next(function(){return me})})},s.prototype.lookupMutationBatch=function(r,o){var c=this;return _e(r).get(o).next(function(p){return p?(st(p.userId===c.userId),mo(c.R,p)):null})},s.prototype.jt=function(r,o){var c=this;return this.Kt[o]?sn.resolve(this.Kt[o]):this.lookupMutationBatch(r,o).next(function(p){if(p){var _=p.keys();return c.Kt[o]=_,_}return null})},s.prototype.getNextMutationBatchAfterBatchId=function(r,o){var c=this,p=o+1,_=IDBKeyRange.lowerBound([this.userId,p]),S=null;return _e(r).$t({index:Vr.userMutationsIndex,range:_},function(P,Q,me){Q.userId===c.userId&&(st(Q.batchId>=p),S=mo(c.R,Q)),me.done()}).next(function(){return S})},s.prototype.getHighestUnacknowledgedBatchId=function(r){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),c=-1;return _e(r).$t({index:Vr.userMutationsIndex,range:o,reverse:!0},function(p,_,S){c=_.batchId,S.done()}).next(function(){return c})},s.prototype.getAllMutationBatches=function(r){var o=this,c=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _e(r).Nt(Vr.userMutationsIndex,c).next(function(p){return p.map(function(_){return mo(o.R,_)})})},s.prototype.getAllMutationBatchesAffectingDocumentKey=function(r,o){var c=this,p=vr.prefixForPath(this.userId,o.path),_=IDBKeyRange.lowerBound(p),S=[];return A(r).$t({range:_},function(P,Q,me){var Ce=P[0],it=P[2],kt=Fo(P[1]);if(Ce===c.userId&&o.path.isEqual(kt))return _e(r).get(it).next(function(Pt){if(!Pt)throw De();st(Pt.userId===c.userId),S.push(mo(c.R,Pt))});me.done()}).next(function(){return S})},s.prototype.getAllMutationBatchesAffectingDocumentKeys=function(r,o){var c=this,p=new Mr(Ve),_=[];return o.forEach(function(S){var P=vr.prefixForPath(c.userId,S.path),Q=IDBKeyRange.lowerBound(P),me=A(r).$t({range:Q},function(Ce,Ke,it){var kt=Ce[0],Kt=Ce[2],Nn=Fo(Ce[1]);kt===c.userId&&S.path.isEqual(Nn)?p=p.add(Kt):it.done()});_.push(me)}),sn.waitFor(_).next(function(){return c.Wt(r,p)})},s.prototype.getAllMutationBatchesAffectingQuery=function(r,o){var c=this,p=o.path,_=p.length+1,S=vr.prefixForPath(this.userId,p),P=IDBKeyRange.lowerBound(S),Q=new Mr(Ve);return A(r).$t({range:P},function(me,Ce,Ke){var it=me[0],Pt=me[2],Kt=Fo(me[1]);it===c.userId&&p.isPrefixOf(Kt)?Kt.length===_&&(Q=Q.add(Pt)):Ke.done()}).next(function(){return c.Wt(r,Q)})},s.prototype.Wt=function(r,o){var c=this,p=[],_=[];return o.forEach(function(S){_.push(_e(r).get(S).next(function(P){if(null===P)throw De();st(P.userId===c.userId),p.push(mo(c.R,P))}))}),sn.waitFor(_).next(function(){return p})},s.prototype.removeMutationBatch=function(r,o){var c=this;return Ms(r.Mt,this.userId,o).next(function(p){return r.addOnCommittedListener(function(){c.Gt(o.batchId)}),sn.forEach(p,function(_){return c.referenceDelegate.markPotentiallyOrphaned(r,_)})})},s.prototype.Gt=function(r){delete this.Kt[r]},s.prototype.performConsistencyCheck=function(r){var o=this;return this.checkEmpty(r).next(function(c){if(!c)return sn.resolve();var p=IDBKeyRange.lowerBound(vr.prefixForUser(o.userId)),_=[];return A(r).$t({range:p},function(S,P,Q){if(S[0]===o.userId){var me=Fo(S[1]);_.push(me)}else Q.done()}).next(function(){st(0===_.length)})})},s.prototype.containsKey=function(r,o){return X(r,this.userId,o)},s.prototype.zt=function(r){var o=this;return R(r).get(this.userId).next(function(c){return c||new ti(o.userId,-1,"")})},s}();function X(s,r,o){var c=vr.prefixForPath(r,o.path),p=c[1],_=IDBKeyRange.lowerBound(c),S=!1;return A(s).$t({range:_,Ft:!0},function(P,Q,me){P[0]===r&&P[1]===p&&(S=!0),me.done()}).next(function(){return S})}function _e(s){return io(s,Vr.store)}function A(s){return io(s,vr.store)}function R(s){return io(s,ti.store)}var te=function(){function s(r){this.Ht=r}return s.prototype.next=function(){return this.Ht+=2,this.Ht},s.Jt=function(){return new s(0)},s.Yt=function(){return new s(-1)},s}(),ze=function(){function s(r,o){this.referenceDelegate=r,this.R=o}return s.prototype.allocateTargetId=function(r){var o=this;return this.Xt(r).next(function(c){var p=new te(c.highestTargetId);return c.highestTargetId=p.next(),o.Zt(r,c).next(function(){return c.highestTargetId})})},s.prototype.getLastRemoteSnapshotVersion=function(r){return this.Xt(r).next(function(o){return bt.fromTimestamp(new It(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},s.prototype.getHighestSequenceNumber=function(r){return this.Xt(r).next(function(o){return o.highestListenSequenceNumber})},s.prototype.setTargetsMetadata=function(r,o,c){var p=this;return this.Xt(r).next(function(_){return _.highestListenSequenceNumber=o,c&&(_.lastRemoteSnapshotVersion=c.toTimestamp()),o>_.highestListenSequenceNumber&&(_.highestListenSequenceNumber=o),p.Zt(r,_)})},s.prototype.addTargetData=function(r,o){var c=this;return this.te(r,o).next(function(){return c.Xt(r).next(function(p){return p.targetCount+=1,c.ee(o,p),c.Zt(r,p)})})},s.prototype.updateTargetData=function(r,o){return this.te(r,o)},s.prototype.removeTargetData=function(r,o){var c=this;return this.removeMatchingKeysForTargetId(r,o.targetId).next(function(){return Vt(r).delete(o.targetId)}).next(function(){return c.Xt(r)}).next(function(p){return st(p.targetCount>0),p.targetCount-=1,c.Zt(r,p)})},s.prototype.removeTargets=function(r,o,c){var p=this,_=0,S=[];return Vt(r).$t(function(P,Q){var me=Ns(Q);me.sequenceNumber<=o&&null===c.get(me.targetId)&&(_++,S.push(p.removeTargetData(r,me)))}).next(function(){return sn.waitFor(S)}).next(function(){return _})},s.prototype.forEachTarget=function(r,o){return Vt(r).$t(function(c,p){var _=Ns(p);o(_)})},s.prototype.Xt=function(r){return Cn(r).get(eo.key).next(function(o){return st(null!==o),o})},s.prototype.Zt=function(r,o){return Cn(r).put(eo.key,o)},s.prototype.te=function(r,o){return Vt(r).put(ys(this.R,o))},s.prototype.ee=function(r,o){var c=!1;return r.targetId>o.highestTargetId&&(o.highestTargetId=r.targetId,c=!0),r.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=r.sequenceNumber,c=!0),c},s.prototype.getTargetCount=function(r){return this.Xt(r).next(function(o){return o.targetCount})},s.prototype.getTargetData=function(r,o){var c=wt(o),p=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]),_=null;return Vt(r).$t({range:p,index:Ii.queryTargetsIndexName},function(S,P,Q){var me=Ns(P);ht(o,me.target)&&(_=me,Q.done())}).next(function(){return _})},s.prototype.addMatchingKeys=function(r,o,c){var p=this,_=[],S=gr(r);return o.forEach(function(P){var Q=Er(P.path);_.push(S.put(new To(c,Q))),_.push(p.referenceDelegate.addReference(r,c,P))}),sn.waitFor(_)},s.prototype.removeMatchingKeys=function(r,o,c){var p=this,_=gr(r);return sn.forEach(o,function(S){var P=Er(S.path);return sn.waitFor([_.delete([c,P]),p.referenceDelegate.removeReference(r,c,S)])})},s.prototype.removeMatchingKeysForTargetId=function(r,o){var c=gr(r),p=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(p)},s.prototype.getMatchingKeysForTargetId=function(r,o){var c=IDBKeyRange.bound([o],[o+1],!1,!0),p=gr(r),_=_r();return p.$t({range:c,Ft:!0},function(S,P,Q){var me=Fo(S[1]),Ce=new vt(me);_=_.add(Ce)}).next(function(){return _})},s.prototype.containsKey=function(r,o){var c=Er(o.path),p=IDBKeyRange.bound([c],[At(c)],!1,!0),_=0;return gr(r).$t({index:To.documentTargetsIndex,Ft:!0,range:p},function(S,P,Q){0!==S[0]&&(_++,Q.done())}).next(function(){return _>0})},s.prototype.lt=function(r,o){return Vt(r).get(o).next(function(c){return c?Ns(c):null})},s}();function Vt(s){return io(s,Ii.store)}function Cn(s){return io(s,eo.store)}function gr(s){return io(s,To.store)}function bi(s){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){if(s.code!==le.FAILED_PRECONDITION||s.message!==Ai)throw s;return k("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Li(s,r){var c=s[1],_=r[1],S=Ve(s[0],r[0]);return 0===S?Ve(c,_):S}var Uo=function(){function s(r){this.ne=r,this.buffer=new Mr(Li),this.se=0}return s.prototype.ie=function(){return++this.se},s.prototype.re=function(r){var o=[r,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(o);else{var c=this.buffer.last();Li(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),s}(),us=function(){function s(r,o){this.garbageCollector=r,this.asyncQueue=o,this.oe=!1,this.ce=null}return s.prototype.start=function(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(r)},s.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(s.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),s.prototype.ue=function(r){var o=this,c=this.oe?3e5:6e4;k("LruGarbageCollector","Garbage collection scheduled in "+c+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,function(){return(0,E.__awaiter)(o,void 0,void 0,function(){var p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:this.ce=null,this.oe=!0,_.label=1;case 1:return _.trys.push([1,3,,7]),[4,r.collectGarbage(this.garbageCollector)];case 2:return _.sent(),[3,7];case 3:return Wo(p=_.sent())?(k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p),[3,6]):[3,4];case 4:return[4,bi(p)];case 5:_.sent(),_.label=6;case 6:return[3,7];case 7:return[4,this.ue(r)];case 8:return _.sent(),[2]}})})})},s}(),Cu=function(){function s(r,o){this.ae=r,this.params=o}return s.prototype.calculateTargetCount=function(r,o){return this.ae.he(r).next(function(c){return Math.floor(o/100*c)})},s.prototype.nthSequenceNumber=function(r,o){var c=this;if(0===o)return sn.resolve(Pe.o);var p=new Uo(o);return this.ae.forEachTarget(r,function(_){return p.re(_.sequenceNumber)}).next(function(){return c.ae.le(r,function(_){return p.re(_)})}).next(function(){return p.maxValue})},s.prototype.removeTargets=function(r,o,c){return this.ae.removeTargets(r,o,c)},s.prototype.removeOrphanedDocuments=function(r,o){return this.ae.removeOrphanedDocuments(r,o)},s.prototype.collect=function(r,o){var c=this;return-1===this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; disabled"),sn.resolve(Hs)):this.getCacheSize(r).next(function(p){return p<c.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; Cache size "+p+" is lower than threshold "+c.params.cacheSizeCollectionThreshold),Hs):c.fe(r,o)})},s.prototype.getCacheSize=function(r){return this.ae.getCacheSize(r)},s.prototype.fe=function(r,o){var c,p,_,S,P,Q,me,Ce=this,Ke=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(function(it){return it>Ce.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+Ce.params.maximumSequenceNumbersToCollect+" from "+it),p=Ce.params.maximumSequenceNumbersToCollect):p=it,S=Date.now(),Ce.nthSequenceNumber(r,p)}).next(function(it){return c=it,P=Date.now(),Ce.removeTargets(r,c,o)}).next(function(it){return _=it,Q=Date.now(),Ce.removeOrphanedDocuments(r,c)}).next(function(it){return me=Date.now(),Fe()<=j.LogLevel.DEBUG&&k("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-Ke)+"ms\n\tDetermined least recently used "+p+" in "+(P-S)+"ms\n\tRemoved "+_+" targets in "+(Q-P)+"ms\n\tRemoved "+it+" documents in "+(me-Q)+"ms\nTotal Duration: "+(me-Ke)+"ms"),sn.resolve({didRun:!0,sequenceNumbersCollected:p,targetsRemoved:_,documentsRemoved:it})})},s}(),_a=function(){function s(r,o){this.db=r,this.garbageCollector=new Cu(this,o)}return s.prototype.he=function(r){var o=this.de(r);return this.db.getTargetCache().getTargetCount(r).next(function(c){return o.next(function(p){return c+p})})},s.prototype.de=function(r){var o=0;return this.le(r,function(c){o++}).next(function(){return o})},s.prototype.forEachTarget=function(r,o){return this.db.getTargetCache().forEachTarget(r,o)},s.prototype.le=function(r,o){return this.we(r,function(c,p){return o(p)})},s.prototype.addReference=function(r,o,c){return zo(r,c)},s.prototype.removeReference=function(r,o,c){return zo(r,c)},s.prototype.removeTargets=function(r,o,c){return this.db.getTargetCache().removeTargets(r,o,c)},s.prototype.markPotentiallyOrphaned=function(r,o){return zo(r,o)},s.prototype._e=function(r,o){return p=o,_=!1,R(c=r).Ot(function(S){return X(c,S,p).next(function(P){return P&&(_=!0),sn.resolve(!P)})}).next(function(){return _});var c,p,_},s.prototype.removeOrphanedDocuments=function(r,o){var c=this,p=this.db.getRemoteDocumentCache().newChangeBuffer(),_=[],S=0;return this.we(r,function(P,Q){if(Q<=o){var me=c._e(r,P).next(function(Ce){if(!Ce)return S++,p.getEntry(r,P).next(function(){return p.removeEntry(P),gr(r).delete([0,Er(P.path)])})});_.push(me)}}).next(function(){return sn.waitFor(_)}).next(function(){return p.apply(r)}).next(function(){return S})},s.prototype.removeTarget=function(r,o){var c=o.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)},s.prototype.updateLimboDocument=function(r,o){return zo(r,o)},s.prototype.we=function(r,o){var c,p=gr(r),_=Pe.o;return p.$t({index:To.documentTargetsIndex},function(S,P){var me=P.path,Ce=P.sequenceNumber;0===S[0]?(_!==Pe.o&&o(new vt(Fo(c)),_),_=Ce,c=me):_=Pe.o}).next(function(){_!==Pe.o&&o(new vt(Fo(c)),_)})},s.prototype.getCacheSize=function(r){return this.db.getRemoteDocumentCache().getSize(r)},s}();function zo(s,r){return gr(s).put((c=s.currentSequenceNumber,new To(0,Er(r.path),c)));var c}var oo=function(){function s(r,o){this.mapKeyFn=r,this.equalsFn=o,this.inner={}}return s.prototype.get=function(r){var o=this.mapKeyFn(r),c=this.inner[o];if(void 0!==c)for(var p=0,_=c;p<_.length;p++){var S=_[p],Q=S[1];if(this.equalsFn(S[0],r))return Q}},s.prototype.has=function(r){return void 0!==this.get(r)},s.prototype.set=function(r,o){var c=this.mapKeyFn(r),p=this.inner[c];if(void 0!==p){for(var _=0;_<p.length;_++)if(this.equalsFn(p[_][0],r))return void(p[_]=[r,o]);p.push([r,o])}else this.inner[c]=[[r,o]]},s.prototype.delete=function(r){var o=this.mapKeyFn(r),c=this.inner[o];if(void 0===c)return!1;for(var p=0;p<c.length;p++)if(this.equalsFn(c[p][0],r))return 1===c.length?delete this.inner[o]:c.splice(p,1),!0;return!1},s.prototype.forEach=function(r){xn(this.inner,function(o,c){for(var p=0,_=c;p<_.length;p++){var S=_[p];r(S[0],S[1])}})},s.prototype.isEmpty=function(){return Wn(this.inner)},s}(),za=function(){function s(){this.changes=new oo(function(r){return r.toString()},function(r,o){return r.isEqual(o)}),this.changesApplied=!1}return s.prototype.getReadTime=function(r){var o=this.changes.get(r);return o?o.readTime:bt.min()},s.prototype.addEntry=function(r,o){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:o})},s.prototype.removeEntry=function(r,o){void 0===o&&(o=null),this.assertNotApplied(),this.changes.set(r,{document:Bn.newInvalidDocument(r),readTime:o})},s.prototype.getEntry=function(r,o){this.assertNotApplied();var c=this.changes.get(o);return void 0!==c?sn.resolve(c.document):this.getFromCache(r,o)},s.prototype.getEntries=function(r,o){return this.getAllFromCache(r,o)},s.prototype.apply=function(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)},s.prototype.assertNotApplied=function(){},s}(),fa=function(){function s(r,o){this.R=r,this.Ut=o}return s.prototype.addEntry=function(r,o,c){return hs(r).put(wa(o),c)},s.prototype.removeEntry=function(r,o){var c=hs(r),p=wa(o);return c.delete(p)},s.prototype.updateMetadata=function(r,o){var c=this;return this.getMetadata(r).next(function(p){return p.byteSize+=o,c.me(r,p)})},s.prototype.getEntry=function(r,o){var c=this;return hs(r).get(wa(o)).next(function(p){return c.ye(o,p)})},s.prototype.ge=function(r,o){var c=this;return hs(r).get(wa(o)).next(function(p){return{document:c.ye(o,p),size:y(p)}})},s.prototype.getEntries=function(r,o){var c=this,p=Yn();return this.pe(r,o,function(_,S){var P=c.ye(_,S);p=p.insert(_,P)}).next(function(){return p})},s.prototype.Ee=function(r,o){var c=this,p=Yn(),_=new kr(vt.comparator);return this.pe(r,o,function(S,P){var Q=c.ye(S,P);p=p.insert(S,Q),_=_.insert(S,y(P))}).next(function(){return{documents:p,Te:_}})},s.prototype.pe=function(r,o,c){if(o.isEmpty())return sn.resolve();var p=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),_=o.getIterator(),S=_.getNext();return hs(r).$t({range:p},function(P,Q,me){for(var Ce=vt.fromSegments(P);S&&vt.comparator(S,Ce)<0;)c(S,null),S=_.getNext();S&&S.isEqual(Ce)&&(c(S,Q),S=_.hasNext()?_.getNext():null),S?me.Ct(S.path.toArray()):me.done()}).next(function(){for(;S;)c(S,null),S=_.hasNext()?_.getNext():null})},s.prototype.getDocumentsMatchingQuery=function(r,o,c){var p=this,_=Yn(),S=o.path.length+1,P={};if(c.isEqual(bt.min())){var Q=o.path.toArray();P.range=IDBKeyRange.lowerBound(Q)}else{var me=o.path.toArray(),Ce=vs(c);P.range=IDBKeyRange.lowerBound([me,Ce],!0),P.index=ji.collectionReadTimeIndex}return hs(r).$t(P,function(Ke,it,kt){if(Ke.length===S){var Pt=na(p.R,it);o.path.isPrefixOf(Pt.key.path)?Oi(o,Pt)&&(_=_.insert(Pt.key,Pt)):kt.done()}}).next(function(){return _})},s.prototype.newChangeBuffer=function(r){return new Sa(this,!!r&&r.trackRemovals)},s.prototype.getSize=function(r){return this.getMetadata(r).next(function(o){return o.byteSize})},s.prototype.getMetadata=function(r){return da(r).get(ss.key).next(function(o){return st(!!o),o})},s.prototype.me=function(r,o){return da(r).put(ss.key,o)},s.prototype.ye=function(r,o){if(o){var c=na(this.R,o);if(!c.isNoDocument()||!c.version.isEqual(bt.min()))return c}return Bn.newInvalidDocument(r)},s}(),Sa=function(s){function r(o,c){var p=this;return(p=s.call(this)||this).Ie=o,p.trackRemovals=c,p.Ae=new oo(function(_){return _.toString()},function(_,S){return _.isEqual(S)}),p}return(0,E.__extends)(r,s),r.prototype.applyChanges=function(o){var c=this,p=[],_=0,S=new Mr(function(P,Q){return Ve(P.canonicalString(),Q.canonicalString())});return this.changes.forEach(function(P,Q){var me=c.Ae.get(P);if(Q.document.isValidDocument()){var Ce=Vo(c.Ie.R,Q.document,c.getReadTime(P));S=S.add(P.path.popLast());var Ke=y(Ce);_+=Ke-me,p.push(c.Ie.addEntry(o,P,Ce))}else if(_-=me,c.trackRemovals){var it=Vo(c.Ie.R,Bn.newNoDocument(P,bt.min()),c.getReadTime(P));p.push(c.Ie.addEntry(o,P,it))}else p.push(c.Ie.removeEntry(o,P))}),S.forEach(function(P){p.push(c.Ie.Ut.addToCollectionParentIndex(o,P))}),p.push(this.Ie.updateMetadata(o,_)),sn.waitFor(p)},r.prototype.getFromCache=function(o,c){var p=this;return this.Ie.ge(o,c).next(function(_){return p.Ae.set(c,_.size),_.document})},r.prototype.getAllFromCache=function(o,c){var p=this;return this.Ie.Ee(o,c).next(function(_){var S=_.documents;return _.Te.forEach(function(P,Q){p.Ae.set(P,Q)}),S})},r}(za);function da(s){return io(s,ss.store)}function hs(s){return io(s,ji.store)}function wa(s){return s.path.toArray()}var ho=function(){function s(r){this.R=r}return s.prototype.Rt=function(r,o,c,p){var _=this;st(c<p&&c>=0&&p<=11);var Q,S=new ta("createOrUpgrade",o);c<1&&p>=1&&(r.createObjectStore(Co.store),(Q=r).createObjectStore(ti.store,{keyPath:ti.keyPath}),Q.createObjectStore(Vr.store,{keyPath:Vr.keyPath,autoIncrement:!0}).createIndex(Vr.userMutationsIndex,Vr.userMutationsKeyPath,{unique:!0}),Q.createObjectStore(vr.store),ha(r),function(Q){Q.createObjectStore(ji.store)}(r));var P=sn.resolve();return c<3&&p>=3&&(0!==c&&(function(Q){Q.deleteObjectStore(To.store),Q.deleteObjectStore(Ii.store),Q.deleteObjectStore(eo.store)}(r),ha(r)),P=P.next(function(){return function(Q){var me=Q.store(eo.store),Ce=new eo(0,0,bt.min().toTimestamp(),0);return me.put(eo.key,Ce)}(S)})),c<4&&p>=4&&(0!==c&&(P=P.next(function(){return function(Q,me){return me.store(Vr.store).Nt().next(function(Ce){Q.deleteObjectStore(Vr.store),Q.createObjectStore(Vr.store,{keyPath:Vr.keyPath,autoIncrement:!0}).createIndex(Vr.userMutationsIndex,Vr.userMutationsKeyPath,{unique:!0});var Ke=me.store(Vr.store),it=Ce.map(function(kt){return Ke.put(kt)});return sn.waitFor(it)})}(r,S)})),P=P.next(function(){!function(Q){Q.createObjectStore(lo.store,{keyPath:lo.keyPath})}(r)})),c<5&&p>=5&&(P=P.next(function(){return _.Re(S)})),c<6&&p>=6&&(P=P.next(function(){return function(Q){Q.createObjectStore(ss.store)}(r),_.be(S)})),c<7&&p>=7&&(P=P.next(function(){return _.ve(S)})),c<8&&p>=8&&(P=P.next(function(){return _.Pe(r,S)})),c<9&&p>=9&&(P=P.next(function(){(function(Q){Q.objectStoreNames.contains("remoteDocumentChanges")&&Q.deleteObjectStore("remoteDocumentChanges")})(r),function(Q){var me=Q.objectStore(ji.store);me.createIndex(ji.readTimeIndex,ji.readTimeIndexPath,{unique:!1}),me.createIndex(ji.collectionReadTimeIndex,ji.collectionReadTimeIndexPath,{unique:!1})}(o)})),c<10&&p>=10&&(P=P.next(function(){return _.Ve(S)})),c<11&&p>=11&&(P=P.next(function(){(function(Q){Q.createObjectStore(Jt.store,{keyPath:Jt.keyPath})})(r),function(Q){Q.createObjectStore(Cr.store,{keyPath:Cr.keyPath})}(r)})),P},s.prototype.be=function(r){var o=0;return r.store(ji.store).$t(function(c,p){o+=y(p)}).next(function(){var c=new ss(o);return r.store(ss.store).put(ss.key,c)})},s.prototype.Re=function(r){var o=this,c=r.store(ti.store),p=r.store(Vr.store);return c.Nt().next(function(_){return sn.forEach(_,function(S){var P=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return p.Nt(Vr.userMutationsIndex,P).next(function(Q){return sn.forEach(Q,function(me){st(me.userId===S.userId);var Ce=mo(o.R,me);return Ms(r,S.userId,Ce).next(function(){})})})})})},s.prototype.ve=function(r){var o=r.store(To.store),c=r.store(ji.store);return r.store(eo.store).get(eo.key).next(function(p){var _=[];return c.$t(function(S,P){var Q=new $e(S),me=[0,Er(Q)];_.push(o.get(me).next(function(Ce){return Ce?sn.resolve():o.put(new To(0,Er(Q),p.highestListenSequenceNumber))}))}).next(function(){return sn.waitFor(_)})})},s.prototype.Pe=function(r,o){r.createObjectStore(js.store,{keyPath:js.keyPath});var c=o.store(js.store),p=new Qi,_=function(S){if(p.add(S)){var P=S.lastSegment(),Q=S.popLast();return c.put({collectionId:P,parent:Er(Q)})}};return o.store(ji.store).$t({Ft:!0},function(S,P){var Q=new $e(S);return _(Q.popLast())}).next(function(){return o.store(vr.store).$t({Ft:!0},function(S,P){var me=Fo(S[1]);return _(me.popLast())})})},s.prototype.Ve=function(r){var o=this,c=r.store(Ii.store);return c.$t(function(p,_){var S=Ns(_),P=ys(o.R,S);return c.put(P)})},s}();function ha(s){s.createObjectStore(To.store,{keyPath:To.keyPath}).createIndex(To.documentTargetsIndex,To.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Ii.store,{keyPath:Ii.keyPath}).createIndex(Ii.queryTargetsIndexName,Ii.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(eo.store)}var _s="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tu=function(){function s(r,o,c,p,_,S,P,Q,me,Ce){if(this.allowTabSynchronization=r,this.persistenceKey=o,this.clientId=c,this.Se=_,this.window=S,this.document=P,this.De=me,this.Ce=Ce,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(Ke){return Promise.resolve()},!s.yt())throw new fe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _a(this,p),this.Le=o+"main",this.R=new fo(Q),this.Be=new _i(this.Le,11,new ho(this.R)),this.qe=new ze(this.referenceDelegate,this.R),this.Ut=new ts,this.Ue=new fa(this.R,this.Ut),this.Ke=new la,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===Ce&&Re("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s.prototype.start=function(){var r=this;return this.je().then(function(){if(!r.isPrimary&&!r.allowTabSynchronization)throw new fe(le.FAILED_PRECONDITION,_s);return r.We(),r.Ge(),r.ze(),r.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return r.qe.getHighestSequenceNumber(o)})}).then(function(o){r.Ne=new Pe(o,r.De)}).then(function(){r.xe=!0}).catch(function(o){return r.Be&&r.Be.close(),Promise.reject(o)})},s.prototype.He=function(r){var o=this;return this.Me=function(c){return(0,E.__awaiter)(o,void 0,void 0,function(){return(0,E.__generator)(this,function(p){return this.started?[2,r(c)]:[2]})})},r(this.isPrimary)},s.prototype.setDatabaseDeletedListener=function(r){var o=this;this.Be.vt(function(c){return(0,E.__awaiter)(o,void 0,void 0,function(){return(0,E.__generator)(this,function(p){switch(p.label){case 0:return null===c.newVersion?[4,r()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})})},s.prototype.setNetworkEnabled=function(r){var o=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Se.enqueueAndForget(function(){return(0,E.__awaiter)(o,void 0,void 0,function(){return(0,E.__generator)(this,function(c){switch(c.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})}))},s.prototype.je=function(){var r=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return ba(o).put(new lo(r.clientId,Date.now(),r.networkEnabled,r.inForeground)).next(function(){if(r.isPrimary)return r.Je(o).next(function(c){c||(r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}))})}).next(function(){return r.Ye(o)}).next(function(c){return r.isPrimary&&!c?r.Xe(o).next(function(){return!1}):!!c&&r.Ze(o).next(function(){return!0})})}).catch(function(o){if(Wo(o))return k("IndexedDbPersistence","Failed to extend owner lease: ",o),r.isPrimary;if(!r.allowTabSynchronization)throw o;return k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){r.isPrimary!==o&&r.Se.enqueueRetryable(function(){return r.Me(o)}),r.isPrimary=o})},s.prototype.Je=function(r){var o=this;return Da(r).get(Co.key).next(function(c){return sn.resolve(o.tn(c))})},s.prototype.en=function(r){return ba(r).delete(this.clientId)},s.prototype.nn=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o,c,_=this;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(P){var Q=io(P,lo.store);return Q.Nt().next(function(me){var Ce=_.rn(me,18e5),Ke=me.filter(function(it){return-1===Ce.indexOf(it)});return sn.forEach(Ke,function(it){return Q.delete(it.clientId)}).next(function(){return Ke})})}).catch(function(){return[]})]);case 1:if(r=S.sent(),this.Qe)for(o=0,c=r;o<c.length;o++)this.Qe.removeItem(this.on(c[o].clientId));S.label=2;case 2:return[2]}})})},s.prototype.ze=function(){var r=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return r.je().then(function(){return r.nn()}).then(function(){return r.ze()})})},s.prototype.tn=function(r){return!!r&&r.ownerId===this.clientId},s.prototype.Ye=function(r){var o=this;return this.Ce?sn.resolve(!0):Da(r).get(Co.key).next(function(c){if(null!==c&&o.sn(c.leaseTimestampMs,5e3)&&!o.cn(c.ownerId)){if(o.tn(c)&&o.networkEnabled)return!0;if(!o.tn(c)){if(!c.allowTabSynchronization)throw new fe(le.FAILED_PRECONDITION,_s);return!1}}return!(!o.networkEnabled||!o.inForeground)||ba(r).Nt().next(function(p){return void 0===o.rn(p,5e3).find(function(_){return!(o.clientId===_.clientId||!(!o.networkEnabled&&_.networkEnabled||!o.inForeground&&_.inForeground&&o.networkEnabled===_.networkEnabled))})})}).next(function(c){return o.isPrimary!==c&&k("IndexedDbPersistence","Client "+(c?"is":"is not")+" eligible for a primary lease."),c})},s.prototype.shutdown=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,E.__generator)(this,function(o){switch(o.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Co.store,lo.store],function(c){var p=new $o(c,Pe.o);return r.Xe(p).next(function(){return r.en(p)})})];case 1:return o.sent(),this.Be.close(),this.ln(),[2]}})})},s.prototype.rn=function(r,o){var c=this;return r.filter(function(p){return c.sn(p.updateTimeMs,o)&&!c.cn(p.clientId)})},s.prototype.fn=function(){var r=this;return this.runTransaction("getActiveClients","readonly",function(o){return ba(o).Nt().next(function(c){return r.rn(c,18e5).map(function(p){return p.clientId})})})},Object.defineProperty(s.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),s.prototype.getMutationQueue=function(r){return U.Qt(r,this.R,this.Ut,this.referenceDelegate)},s.prototype.getTargetCache=function(){return this.qe},s.prototype.getRemoteDocumentCache=function(){return this.Ue},s.prototype.getIndexManager=function(){return this.Ut},s.prototype.getBundleCache=function(){return this.Ke},s.prototype.runTransaction=function(r,o,c){var _,p=this;return k("IndexedDbPersistence","Starting transaction:",r),this.Be.runTransaction(r,"readonly"===o?"readonly":"readwrite",ea,function(P){return _=new $o(P,p.Ne?p.Ne.next():Pe.o),"readwrite-primary"===o?p.Je(_).next(function(Q){return!!Q||p.Ye(_)}).next(function(Q){if(!Q)throw Re("Failed to obtain primary lease for action '"+r+"'."),p.isPrimary=!1,p.Se.enqueueRetryable(function(){return p.Me(!1)}),new fe(le.FAILED_PRECONDITION,Ai);return c(_)}).next(function(Q){return p.Ze(_).next(function(){return Q})}):p.dn(_).next(function(){return c(_)})}).then(function(P){return _.raiseOnCommittedEvent(),P})},s.prototype.dn=function(r){var o=this;return Da(r).get(Co.key).next(function(c){if(null!==c&&o.sn(c.leaseTimestampMs,5e3)&&!o.cn(c.ownerId)&&!o.tn(c)&&!(o.Ce||o.allowTabSynchronization&&c.allowTabSynchronization))throw new fe(le.FAILED_PRECONDITION,_s)})},s.prototype.Ze=function(r){var o=new Co(this.clientId,this.allowTabSynchronization,Date.now());return Da(r).put(Co.key,o)},s.yt=function(){return _i.yt()},s.prototype.Xe=function(r){var o=this,c=Da(r);return c.get(Co.key).next(function(p){return o.tn(p)?(k("IndexedDbPersistence","Releasing primary lease."),c.delete(Co.key)):sn.resolve()})},s.prototype.sn=function(r,o){var c=Date.now();return!(r<c-o||r>c&&(Re("Detected an update time that is in the future: "+r+" > "+c),1))},s.prototype.We=function(){var r=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){r.Se.enqueueAndForget(function(){return r.inForeground="visible"===r.document.visibilityState,r.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},s.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},s.prototype.Ge=function(){var r,o=this;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.ke=function(){o.un(),(0,b.isSafari)()&&navigator.appVersion.match("Version/14")&&o.Se.enterRestrictedMode(!0),o.Se.enqueueAndForget(function(){return o.shutdown()})},this.window.addEventListener("pagehide",this.ke))},s.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},s.prototype.cn=function(r){var o;try{var c=null!==(null===(o=this.Qe)||void 0===o?void 0:o.getItem(this.on(r)));return k("IndexedDbPersistence","Client '"+r+"' "+(c?"is":"is not")+" zombied in LocalStorage"),c}catch(p){return Re("IndexedDbPersistence","Failed to get zombied client id.",p),!1}},s.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(r){Re("Failed to set zombie client id.",r)}},s.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(r){}},s.prototype.on=function(r){return"firestore_zombie_"+this.persistenceKey+"_"+r},s}();function Da(s){return io(s,Co.store)}function ba(s){return io(s,lo.store)}function V(s,r){var o=s.projectId;return s.isDefaultDatabase||(o+="."+s.database),"firestore/"+r+"/"+o+"/"}var x=function(s,r){this.progress=s,this.wn=r},D=function(){function s(r,o,c){this.Ue=r,this._n=o,this.Ut=c}return s.prototype.mn=function(r,o){var c=this;return this._n.getAllMutationBatchesAffectingDocumentKey(r,o).next(function(p){return c.yn(r,o,p)})},s.prototype.yn=function(r,o,c){return this.Ue.getEntry(r,o).next(function(p){for(var _=0,S=c;_<S.length;_++)S[_].applyToLocalView(p);return p})},s.prototype.gn=function(r,o){r.forEach(function(c,p){for(var _=0,S=o;_<S.length;_++)S[_].applyToLocalView(p)})},s.prototype.pn=function(r,o){var c=this;return this.Ue.getEntries(r,o).next(function(p){return c.En(r,p).next(function(){return p})})},s.prototype.En=function(r,o){var c=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(r,o).next(function(p){return c.gn(o,p)})},s.prototype.getDocumentsMatchingQuery=function(r,o,c){return vt.isDocumentKey((p=o).path)&&null===p.collectionGroup&&0===p.filters.length?this.Tn(r,o.path):Hi(o)?this.In(r,o,c):this.An(r,o,c);var p},s.prototype.Tn=function(r,o){return this.mn(r,new vt(o)).next(function(c){var p=Ni();return c.isFoundDocument()&&(p=p.insert(c.key,c)),p})},s.prototype.In=function(r,o,c){var p=this,_=o.collectionGroup,S=Ni();return this.Ut.getCollectionParents(r,_).next(function(P){return sn.forEach(P,function(Q){var Ce,Ke,me=(Ce=o,Ke=Q.child(_),new Ht(Ke,null,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt));return p.An(r,me,c).next(function(Ce){Ce.forEach(function(Ke,it){S=S.insert(Ke,it)})})}).next(function(){return S})})},s.prototype.An=function(r,o,c){var p,_,S=this;return this.Ue.getDocumentsMatchingQuery(r,o,c).next(function(P){return p=P,S._n.getAllMutationBatchesAffectingQuery(r,o)}).next(function(P){return S.Rn(r,_=P,p).next(function(Q){p=Q;for(var me=0,Ce=_;me<Ce.length;me++)for(var Ke=Ce[me],it=0,kt=Ke.mutations;it<kt.length;it++){var Pt=kt[it],Kt=Pt.key,Nn=p.get(Kt);null==Nn&&(Nn=Bn.newInvalidDocument(Kt),p=p.insert(Kt,Nn)),Rr(Pt,Nn,Ke.localWriteTime),Nn.isFoundDocument()||(p=p.remove(Kt))}})}).next(function(){return p.forEach(function(P,Q){Oi(o,Q)||(p=p.remove(P))}),p})},s.prototype.Rn=function(r,o,c){for(var p=_r(),_=0,S=o;_<S.length;_++)for(var P=0,Q=S[_].mutations;P<Q.length;P++){var me=Q[P];me instanceof Fn&&null===c.get(me.key)&&(p=p.add(me.key))}var Ce=c;return this.Ue.getEntries(r,p).next(function(Ke){return Ke.forEach(function(it,kt){kt.isFoundDocument()&&(Ce=Ce.insert(it,kt))}),Ce})},s}(),$=function(){function s(r,o,c,p){this.targetId=r,this.fromCache=o,this.bn=c,this.vn=p}return s.Pn=function(r,o){for(var c=_r(),p=_r(),_=0,S=o.docChanges;_<S.length;_++){var P=S[_];switch(P.type){case 0:c=c.add(P.doc.key);break;case 1:p=p.add(P.doc.key)}}return new s(r,o.fromCache,c,p)},s}(),oe=function(){function s(){}return s.prototype.Vn=function(r){this.Sn=r},s.prototype.getDocumentsMatchingQuery=function(r,o,c,p){var S,_=this;return 0===(S=o).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.explicitOrderBy.length||1===S.explicitOrderBy.length&&S.explicitOrderBy[0].field.isKeyField())||c.isEqual(bt.min())?this.Dn(r,o):this.Sn.pn(r,p).next(function(S){var P=_.Cn(o,S);return(ur(o)||nr(o))&&_.Nn(o.limitType,P,p,c)?_.Dn(r,o):(Fe()<=j.LogLevel.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),ri(o)),_.Sn.getDocumentsMatchingQuery(r,o,c).next(function(Q){return P.forEach(function(me){Q=Q.insert(me.key,me)}),Q}))})},s.prototype.Cn=function(r,o){var c=new Mr(to(r));return o.forEach(function(p,_){Oi(r,_)&&(c=c.add(_))}),c},s.prototype.Nn=function(r,o,c,p){if(c.size!==o.size)return!0;var _="F"===r?o.last():o.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(p)>0)},s.prototype.Dn=function(r,o){return Fe()<=j.LogLevel.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",ri(o)),this.Sn.getDocumentsMatchingQuery(r,o,bt.min())},s}(),we=function(){function s(r,o,c,p){this.persistence=r,this.xn=o,this.R=p,this.kn=new kr(Ve),this.Fn=new oo(function(_){return wt(_)},ht),this.$n=bt.min(),this._n=r.getMutationQueue(c),this.On=r.getRemoteDocumentCache(),this.qe=r.getTargetCache(),this.Mn=new D(this.On,this._n,this.persistence.getIndexManager()),this.Ke=r.getBundleCache(),this.xn.Vn(this.Mn)}return s.prototype.collectGarbage=function(r){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(c){return r.collect(c,o.kn)})},s}();function We(s,r,o,c){return new we(s,r,o,c)}function ut(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p,_;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return o=je(s),c=o._n,p=o.Mn,[4,o.persistence.runTransaction("Handle user change","readonly",function(P){var Q;return o._n.getAllMutationBatches(P).next(function(me){return Q=me,c=o.persistence.getMutationQueue(r),p=new D(o.On,c,o.persistence.getIndexManager()),c.getAllMutationBatches(P)}).next(function(me){for(var Ce=[],Ke=[],it=_r(),kt=0,Pt=Q;kt<Pt.length;kt++){var Kt=Pt[kt];Ce.push(Kt.batchId);for(var Nn=0,jn=Kt.mutations;Nn<jn.length;Nn++)it=it.add(jn[Nn].key)}for(var Tr=0,Vi=me;Tr<Vi.length;Tr++){var ci=Vi[Tr];Ke.push(ci.batchId);for(var yo=0,Vs=ci.mutations;yo<Vs.length;yo++)it=it.add(Vs[yo].key)}return p.pn(P,it).next(function(gf){return{Ln:gf,removedBatchIds:Ce,addedBatchIds:Ke}})})})];case 1:return _=S.sent(),[2,(o._n=c,o.Mn=p,o.xn.Vn(o.Mn),_)]}})})}function $t(s,r){var o=je(s);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var S,P,Q,me,Ce,Ke,it,p=r.batch.keys(),_=o.On.newChangeBuffer({trackRemovals:!0});return(S=o,P=c,Q=r,me=_,Ce=Q.batch,Ke=Ce.keys(),it=sn.resolve(),Ke.forEach(function(kt){it=it.next(function(){return me.getEntry(P,kt)}).next(function(Pt){var Kt=Q.docVersions.get(kt);st(null!==Kt),Pt.version.compareTo(Kt)<0&&(Ce.applyToRemoteDocument(Pt,Q),Pt.isValidDocument()&&me.addEntry(Pt,Q.commitVersion))})}),it.next(function(){return S._n.removeMutationBatch(P,Ce)})).next(function(){return _.apply(c)}).next(function(){return o._n.performConsistencyCheck(c)}).next(function(){return o.Mn.pn(c,p)})})}function Hn(s){var r=je(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",function(o){return r.qe.getLastRemoteSnapshotVersion(o)})}function Xt(s,r){var o=je(s),c=r.snapshotVersion,p=o.kn;return o.persistence.runTransaction("Apply remote event","readwrite-primary",function(_){var S=o.On.newChangeBuffer({trackRemovals:!0});p=o.kn;var P=[];r.targetChanges.forEach(function(Ce,Ke){var Kt,Nn,jn,it=p.get(Ke);if(it){P.push(o.qe.removeMatchingKeys(_,Ce.removedDocuments,Ke).next(function(){return o.qe.addMatchingKeys(_,Ce.addedDocuments,Ke)}));var kt=Ce.resumeToken;if(kt.approximateByteSize()>0){var Pt=it.withResumeToken(kt,c).withSequenceNumber(_.currentSequenceNumber);p=p.insert(Ke,Pt),Kt=it,jn=Ce,st((Nn=Pt).resumeToken.approximateByteSize()>0),(0===Kt.resumeToken.approximateByteSize()||Nn.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||jn.addedDocuments.size+jn.modifiedDocuments.size+jn.removedDocuments.size>0)&&P.push(o.qe.updateTargetData(_,Pt))}}});var Q=Yn();if(r.documentUpdates.forEach(function(Ce,Ke){r.resolvedLimboDocuments.has(Ce)&&P.push(o.persistence.referenceDelegate.updateLimboDocument(_,Ce))}),P.push(Zn(_,S,r.documentUpdates,c,void 0).next(function(Ce){Q=Ce})),!c.isEqual(bt.min())){var me=o.qe.getLastRemoteSnapshotVersion(_).next(function(Ce){return o.qe.setTargetsMetadata(_,_.currentSequenceNumber,c)});P.push(me)}return sn.waitFor(P).next(function(){return S.apply(_)}).next(function(){return o.Mn.En(_,Q)}).next(function(){return Q})}).then(function(_){return o.kn=p,_})}function Zn(s,r,o,c,p){var _=_r();return o.forEach(function(S){return _=_.add(S)}),r.getEntries(s,_).next(function(S){var P=Yn();return o.forEach(function(Q,me){var Ce=S.get(Q),Ke=(null==p?void 0:p.get(Q))||c;me.isNoDocument()&&me.version.isEqual(bt.min())?(r.removeEntry(Q,Ke),P=P.insert(Q,me)):!Ce.isValidDocument()||me.version.compareTo(Ce.version)>0||0===me.version.compareTo(Ce.version)&&Ce.hasPendingWrites?(r.addEntry(me,Ke),P=P.insert(Q,me)):k("LocalStore","Ignoring outdated watch update for ",Q,". Current version:",Ce.version," Watch version:",me.version)}),P})}function pi(s,r){var o=je(s);return o.persistence.runTransaction("Get next mutation batch","readonly",function(c){return void 0===r&&(r=-1),o._n.getNextMutationBatchAfterBatchId(c,r)})}function Ei(s,r){var o=je(s);return o.persistence.runTransaction("Allocate target","readwrite",function(c){var p;return o.qe.getTargetData(c,r).next(function(_){return _?sn.resolve(p=_):o.qe.allocateTargetId(c).next(function(S){return p=new es(r,S,0,c.currentSequenceNumber),o.qe.addTargetData(c,p).next(function(){return p})})})}).then(function(c){var p=o.kn.get(c.targetId);return(null===p||c.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(o.kn=o.kn.insert(c.targetId,c),o.Fn.set(r,c.targetId)),c})}function Os(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_,S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:c=je(s),p=c.kn.get(r),_=o?"readwrite":"readwrite-primary",P.label=1;case 1:return P.trys.push([1,4,,5]),o?[3,3]:[4,c.persistence.runTransaction("Release target",_,function(Q){return c.persistence.referenceDelegate.removeTarget(Q,p)})];case 2:P.sent(),P.label=3;case 3:return[3,5];case 4:if(!Wo(S=P.sent()))throw S;return k("LocalStore","Failed to update sequence numbers for target "+r+": "+S),[3,5];case 5:return c.kn=c.kn.remove(r),c.Fn.delete(p.target),[2]}})})}function Gs(s,r,o){var c=je(s),p=bt.min(),_=_r();return c.persistence.runTransaction("Execute query","readonly",function(S){return(P=c,Q=S,me=Sr(r),Ce=je(P),Ke=Ce.Fn.get(me),void 0!==Ke?sn.resolve(Ce.kn.get(Ke)):Ce.qe.getTargetData(Q,me)).next(function(P){if(P)return p=P.lastLimboFreeSnapshotVersion,c.qe.getMatchingKeysForTargetId(S,P.targetId).next(function(Q){_=Q})}).next(function(){return c.xn.getDocumentsMatchingQuery(S,r,o?p:bt.min(),o?_:_r())}).next(function(P){return{documents:P,Bn:_}});var P,Q,me,Ce,Ke})}function ws(s,r){var o=je(s),c=je(o.qe),p=o.kn.get(r);return p?Promise.resolve(p.target):o.persistence.runTransaction("Get target data","readonly",function(_){return c.lt(_,r).next(function(S){return S?S.target:null})})}function ra(s){var r=je(s);return r.persistence.runTransaction("Get new document changes","readonly",function(o){return p=o,_=r.$n,S=je(r.On),P=Yn(),Q=vs(_),me=hs(p),Ce=IDBKeyRange.lowerBound(Q,!0),me.$t({index:ji.readTimeIndex,range:Ce},function(Ke,it){var kt=na(S.R,it);P=P.insert(kt.key,kt),Q=it.readTime}).next(function(){return{wn:P,readTime:Rs(Q)}});var p,_,S,P,Q,me,Ce}).then(function(o){var c=o.wn;return r.$n=o.readTime,c})}function Qc(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r;return(0,E.__generator)(this,function(o){return[2,(r=je(s)).persistence.runTransaction("Synchronize last document change read time","readonly",function(c){return _=hs(c),S=bt.min(),_.$t({index:ji.readTimeIndex,reverse:!0},function(P,Q,me){Q.readTime&&(S=Rs(Q.readTime)),me.done()}).next(function(){return S});var _,S}).then(function(c){r.$n=c})]})})}function ka(s,r,o,c){return(0,E.__awaiter)(this,void 0,void 0,function(){var p,_,S,P,Q,me,Ce,Ke,it,kt;return(0,E.__generator)(this,function(Pt){switch(Pt.label){case 0:for(p=je(s),_=_r(),S=Yn(),P=Ro(),Q=0,me=o;Q<me.length;Q++)Ke=r.qn((Ce=me[Q]).metadata.name),Ce.document&&(_=_.add(Ke)),S=S.insert(Ke,r.Un(Ce)),P=P.insert(Ke,r.Kn(Ce.metadata.readTime));return it=p.On.newChangeBuffer({trackRemovals:!0}),[4,Ei(p,(Kt=c,Sr(Ln($e.fromString("__bundle__/docs/"+Kt)))))];case 1:return kt=Pt.sent(),[2,p.persistence.runTransaction("Apply bundle documents","readwrite",function(Kt){return Zn(Kt,it,S,bt.min(),P).next(function(Nn){return it.apply(Kt),Nn}).next(function(Nn){return p.qe.removeMatchingKeysForTargetId(Kt,kt.targetId).next(function(){return p.qe.addMatchingKeys(Kt,_,kt.targetId)}).next(function(){return p.Mn.En(Kt,Nn)}).next(function(){return Nn})})})]}var Kt})})}function Bu(s,r,o){return void 0===o&&(o=_r()),(0,E.__awaiter)(this,void 0,void 0,function(){var c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return[4,Ei(s,Sr(xo(r.bundledQuery)))];case 1:return c=_.sent(),[2,(p=je(s)).persistence.runTransaction("Save named query","readwrite",function(S){var P=re(r.readTime);if(c.snapshotVersion.compareTo(P)>=0)return p.Ke.saveNamedQuery(S,r);var Q=c.withResumeToken(lt.EMPTY_BYTE_STRING,P);return p.kn=p.kn.insert(Q.targetId,Q),p.qe.updateTargetData(S,Q).next(function(){return p.qe.removeMatchingKeysForTargetId(S,c.targetId)}).next(function(){return p.qe.addMatchingKeys(S,o,c.targetId)}).next(function(){return p.Ke.saveNamedQuery(S,r)})})]}})})}var Ka=function(){function s(r){this.R=r,this.Qn=new Map,this.jn=new Map}return s.prototype.getBundleMetadata=function(r,o){return sn.resolve(this.Qn.get(o))},s.prototype.saveBundleMetadata=function(r,o){var c;return this.Qn.set(o.id,{id:(c=o).id,version:c.version,createTime:re(c.createTime)}),sn.resolve()},s.prototype.getNamedQuery=function(r,o){return sn.resolve(this.jn.get(o))},s.prototype.saveNamedQuery=function(r,o){return this.jn.set(o.name,{name:(c=o).name,query:xo(c.bundledQuery),readTime:re(c.readTime)}),sn.resolve();var c},s}(),Ya=function(){function s(){this.Wn=new Mr(ns.Gn),this.zn=new Mr(ns.Hn)}return s.prototype.isEmpty=function(){return this.Wn.isEmpty()},s.prototype.addReference=function(r,o){var c=new ns(r,o);this.Wn=this.Wn.add(c),this.zn=this.zn.add(c)},s.prototype.Jn=function(r,o){var c=this;r.forEach(function(p){return c.addReference(p,o)})},s.prototype.removeReference=function(r,o){this.Yn(new ns(r,o))},s.prototype.Xn=function(r,o){var c=this;r.forEach(function(p){return c.removeReference(p,o)})},s.prototype.Zn=function(r){var o=this,c=new vt(new $e([])),p=new ns(c,r),_=new ns(c,r+1),S=[];return this.zn.forEachInRange([p,_],function(P){o.Yn(P),S.push(P.key)}),S},s.prototype.ts=function(){var r=this;this.Wn.forEach(function(o){return r.Yn(o)})},s.prototype.Yn=function(r){this.Wn=this.Wn.delete(r),this.zn=this.zn.delete(r)},s.prototype.es=function(r){var o=new vt(new $e([])),c=new ns(o,r),p=new ns(o,r+1),_=_r();return this.zn.forEachInRange([c,p],function(S){_=_.add(S.key)}),_},s.prototype.containsKey=function(r){var o=new ns(r,0),c=this.Wn.firstAfterOrEqual(o);return null!==c&&r.isEqual(c.key)},s}(),ns=function(){function s(r,o){this.key=r,this.ns=o}return s.Gn=function(r,o){return vt.comparator(r.key,o.key)||Ve(r.ns,o.ns)},s.Hn=function(r,o){return Ve(r.ns,o.ns)||vt.comparator(r.key,o.key)},s}(),Hu=function(){function s(r,o){this.Ut=r,this.referenceDelegate=o,this._n=[],this.ss=1,this.rs=new Mr(ns.Gn)}return s.prototype.checkEmpty=function(r){return sn.resolve(0===this._n.length)},s.prototype.addMutationBatch=function(r,o,c,p){var _=this.ss;this.ss++;var S=new Bs(_,o,c,p);this._n.push(S);for(var P=0,Q=p;P<Q.length;P++){var me=Q[P];this.rs=this.rs.add(new ns(me.key,_)),this.Ut.addToCollectionParentIndex(r,me.key.path.popLast())}return sn.resolve(S)},s.prototype.lookupMutationBatch=function(r,o){return sn.resolve(this.os(o))},s.prototype.getNextMutationBatchAfterBatchId=function(r,o){var p=this.cs(o+1),_=p<0?0:p;return sn.resolve(this._n.length>_?this._n[_]:null)},s.prototype.getHighestUnacknowledgedBatchId=function(){return sn.resolve(0===this._n.length?-1:this.ss-1)},s.prototype.getAllMutationBatches=function(r){return sn.resolve(this._n.slice())},s.prototype.getAllMutationBatchesAffectingDocumentKey=function(r,o){var c=this,p=new ns(o,0),_=new ns(o,Number.POSITIVE_INFINITY),S=[];return this.rs.forEachInRange([p,_],function(P){var Q=c.os(P.ns);S.push(Q)}),sn.resolve(S)},s.prototype.getAllMutationBatchesAffectingDocumentKeys=function(r,o){var c=this,p=new Mr(Ve);return o.forEach(function(_){var S=new ns(_,0),P=new ns(_,Number.POSITIVE_INFINITY);c.rs.forEachInRange([S,P],function(Q){p=p.add(Q.ns)})}),sn.resolve(this.us(p))},s.prototype.getAllMutationBatchesAffectingQuery=function(r,o){var c=o.path,p=c.length+1,_=c;vt.isDocumentKey(_)||(_=_.child(""));var S=new ns(new vt(_),0),P=new Mr(Ve);return this.rs.forEachWhile(function(Q){var me=Q.key.path;return!!c.isPrefixOf(me)&&(me.length===p&&(P=P.add(Q.ns)),!0)},S),sn.resolve(this.us(P))},s.prototype.us=function(r){var o=this,c=[];return r.forEach(function(p){var _=o.os(p);null!==_&&c.push(_)}),c},s.prototype.removeMutationBatch=function(r,o){var c=this;st(0===this.hs(o.batchId,"removed")),this._n.shift();var p=this.rs;return sn.forEach(o.mutations,function(_){var S=new ns(_.key,o.batchId);return p=p.delete(S),c.referenceDelegate.markPotentiallyOrphaned(r,_.key)}).next(function(){c.rs=p})},s.prototype.Gt=function(r){},s.prototype.containsKey=function(r,o){var c=new ns(o,0),p=this.rs.firstAfterOrEqual(c);return sn.resolve(o.isEqual(p&&p.key))},s.prototype.performConsistencyCheck=function(r){return sn.resolve()},s.prototype.hs=function(r,o){return this.cs(r)},s.prototype.cs=function(r){return 0===this._n.length?0:r-this._n[0].batchId},s.prototype.os=function(r){var o=this.cs(r);return o<0||o>=this._n.length?null:this._n[o]},s}(),jo=function(){function s(r,o){this.Ut=r,this.ls=o,this.docs=new kr(vt.comparator),this.size=0}return s.prototype.addEntry=function(r,o,c){var p=o.key,_=this.docs.get(p),S=_?_.size:0,P=this.ls(o);return this.docs=this.docs.insert(p,{document:o.clone(),size:P,readTime:c}),this.size+=P-S,this.Ut.addToCollectionParentIndex(r,p.path.popLast())},s.prototype.removeEntry=function(r){var o=this.docs.get(r);o&&(this.docs=this.docs.remove(r),this.size-=o.size)},s.prototype.getEntry=function(r,o){var c=this.docs.get(o);return sn.resolve(c?c.document.clone():Bn.newInvalidDocument(o))},s.prototype.getEntries=function(r,o){var c=this,p=Yn();return o.forEach(function(_){var S=c.docs.get(_);p=p.insert(_,S?S.document.clone():Bn.newInvalidDocument(_))}),sn.resolve(p)},s.prototype.getDocumentsMatchingQuery=function(r,o,c){for(var p=Yn(),_=new vt(o.path.child("")),S=this.docs.getIteratorFrom(_);S.hasNext();){var P=S.getNext(),me=P.value,Ce=me.document,Ke=me.readTime;if(!o.path.isPrefixOf(P.key.path))break;Ke.compareTo(c)<=0||Oi(o,Ce)&&(p=p.insert(Ce.key,Ce.clone()))}return sn.resolve(p)},s.prototype.fs=function(r,o){return sn.forEach(this.docs,function(c){return o(c)})},s.prototype.newChangeBuffer=function(r){return new ia(this)},s.prototype.getSize=function(r){return sn.resolve(this.size)},s}(),ia=function(s){function r(o){var c=this;return(c=s.call(this)||this).Ie=o,c}return(0,E.__extends)(r,s),r.prototype.applyChanges=function(o){var c=this,p=[];return this.changes.forEach(function(_,S){S.document.isValidDocument()?p.push(c.Ie.addEntry(o,S.document,c.getReadTime(_))):c.Ie.removeEntry(_)}),sn.waitFor(p)},r.prototype.getFromCache=function(o,c){return this.Ie.getEntry(o,c)},r.prototype.getAllFromCache=function(o,c){return this.Ie.getEntries(o,c)},r}(za),Iu=function(){function s(r){this.persistence=r,this.ds=new oo(function(o){return wt(o)},ht),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ws=0,this._s=new Ya,this.targetCount=0,this.ys=te.Jt()}return s.prototype.forEachTarget=function(r,o){return this.ds.forEach(function(c,p){return o(p)}),sn.resolve()},s.prototype.getLastRemoteSnapshotVersion=function(r){return sn.resolve(this.lastRemoteSnapshotVersion)},s.prototype.getHighestSequenceNumber=function(r){return sn.resolve(this.ws)},s.prototype.allocateTargetId=function(r){return this.highestTargetId=this.ys.next(),sn.resolve(this.highestTargetId)},s.prototype.setTargetsMetadata=function(r,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.ws&&(this.ws=o),sn.resolve()},s.prototype.te=function(r){this.ds.set(r.target,r);var o=r.targetId;o>this.highestTargetId&&(this.ys=new te(o),this.highestTargetId=o),r.sequenceNumber>this.ws&&(this.ws=r.sequenceNumber)},s.prototype.addTargetData=function(r,o){return this.te(o),this.targetCount+=1,sn.resolve()},s.prototype.updateTargetData=function(r,o){return this.te(o),sn.resolve()},s.prototype.removeTargetData=function(r,o){return this.ds.delete(o.target),this._s.Zn(o.targetId),this.targetCount-=1,sn.resolve()},s.prototype.removeTargets=function(r,o,c){var p=this,_=0,S=[];return this.ds.forEach(function(P,Q){Q.sequenceNumber<=o&&null===c.get(Q.targetId)&&(p.ds.delete(P),S.push(p.removeMatchingKeysForTargetId(r,Q.targetId)),_++)}),sn.waitFor(S).next(function(){return _})},s.prototype.getTargetCount=function(r){return sn.resolve(this.targetCount)},s.prototype.getTargetData=function(r,o){var c=this.ds.get(o)||null;return sn.resolve(c)},s.prototype.addMatchingKeys=function(r,o,c){return this._s.Jn(o,c),sn.resolve()},s.prototype.removeMatchingKeys=function(r,o,c){this._s.Xn(o,c);var p=this.persistence.referenceDelegate,_=[];return p&&o.forEach(function(S){_.push(p.markPotentiallyOrphaned(r,S))}),sn.waitFor(_)},s.prototype.removeMatchingKeysForTargetId=function(r,o){return this._s.Zn(o),sn.resolve()},s.prototype.getMatchingKeysForTargetId=function(r,o){var c=this._s.es(o);return sn.resolve(c)},s.prototype.containsKey=function(r,o){return sn.resolve(this._s.containsKey(o))},s}(),Za=function(){function s(r,o){var c=this;this.gs={},this.Ne=new Pe(0),this.xe=!1,this.xe=!0,this.referenceDelegate=r(this),this.qe=new Iu(this),this.Ut=new ds,this.Ue=new jo(this.Ut,function(S){return c.referenceDelegate.ps(S)}),this.R=new fo(o),this.Ke=new Ka(this.R)}return s.prototype.start=function(){return Promise.resolve()},s.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(s.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),s.prototype.setDatabaseDeletedListener=function(){},s.prototype.setNetworkEnabled=function(){},s.prototype.getIndexManager=function(){return this.Ut},s.prototype.getMutationQueue=function(r){var o=this.gs[r.toKey()];return o||(o=new Hu(this.Ut,this.referenceDelegate),this.gs[r.toKey()]=o),o},s.prototype.getTargetCache=function(){return this.qe},s.prototype.getRemoteDocumentCache=function(){return this.Ue},s.prototype.getBundleCache=function(){return this.Ke},s.prototype.runTransaction=function(r,o,c){var p=this;k("MemoryPersistence","Starting transaction:",r);var _=new lc(this.Ne.next());return this.referenceDelegate.Es(),c(_).next(function(S){return p.referenceDelegate.Ts(_).next(function(){return S})}).toPromise().then(function(S){return _.raiseOnCommittedEvent(),S})},s.prototype.Is=function(r,o){return sn.or(Object.values(this.gs).map(function(c){return function(){return c.containsKey(r,o)}}))},s}(),lc=function(s){function r(o){var c=this;return(c=s.call(this)||this).currentSequenceNumber=o,c}return(0,E.__extends)(r,s),r}(Qo),Fa=function(){function s(r){this.persistence=r,this.As=new Ya,this.Rs=null}return s.bs=function(r){return new s(r)},Object.defineProperty(s.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw De()},enumerable:!1,configurable:!0}),s.prototype.addReference=function(r,o,c){return this.As.addReference(c,o),this.vs.delete(c.toString()),sn.resolve()},s.prototype.removeReference=function(r,o,c){return this.As.removeReference(c,o),this.vs.add(c.toString()),sn.resolve()},s.prototype.markPotentiallyOrphaned=function(r,o){return this.vs.add(o.toString()),sn.resolve()},s.prototype.removeTarget=function(r,o){var c=this;this.As.Zn(o.targetId).forEach(function(_){return c.vs.add(_.toString())});var p=this.persistence.getTargetCache();return p.getMatchingKeysForTargetId(r,o.targetId).next(function(_){_.forEach(function(S){return c.vs.add(S.toString())})}).next(function(){return p.removeTargetData(r,o)})},s.prototype.Es=function(){this.Rs=new Set},s.prototype.Ts=function(r){var o=this,c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sn.forEach(this.vs,function(p){var _=vt.fromPath(p);return o.Ps(r,_).next(function(S){S||c.removeEntry(_)})}).next(function(){return o.Rs=null,c.apply(r)})},s.prototype.updateLimboDocument=function(r,o){var c=this;return this.Ps(r,o).next(function(p){p?c.vs.delete(o.toString()):c.vs.add(o.toString())})},s.prototype.ps=function(r){return 0},s.prototype.Ps=function(r,o){var c=this;return sn.or([function(){return sn.resolve(c.As.containsKey(o))},function(){return c.persistence.getTargetCache().containsKey(r,o)},function(){return c.persistence.Is(r,o)}])},s}(),Bo=function(){function s(r){this.uid=r}return s.prototype.isAuthenticated=function(){return null!=this.uid},s.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},s.prototype.isEqual=function(r){return r.uid===this.uid},s}();function fc(s,r){return"firestore_clients_"+s+"_"+r}function ef(s,r,o){var c="firestore_mutations_"+s+"_"+o;return r.isAuthenticated()&&(c+="_"+r.uid),c}function Jc(s,r){return"firestore_targets_"+s+"_"+r}Bo.UNAUTHENTICATED=new Bo(null),Bo.GOOGLE_CREDENTIALS=new Bo("google-credentials-uid"),Bo.FIRST_PARTY=new Bo("first-party-uid"),Bo.MOCK_USER=new Bo("mock-user");var Qa=function(){function s(r,o,c,p){this.user=r,this.batchId=o,this.state=c,this.error=p}return s.Vs=function(r,o,c){var p,_=JSON.parse(c),S="object"==typeof _&&-1!==["pending","acknowledged","rejected"].indexOf(_.state)&&(void 0===_.error||"object"==typeof _.error);return S&&_.error&&(S="string"==typeof _.error.message&&"string"==typeof _.error.code)&&(p=new fe(_.error.code,_.error.message)),S?new s(r,o,_.state,p):(Re("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+c),null)},s.prototype.Ss=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},s}(),Io=function(){function s(r,o,c){this.targetId=r,this.state=o,this.error=c}return s.Vs=function(r,o){var c,p=JSON.parse(o),_="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return _&&p.error&&(_="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(c=new fe(p.error.code,p.error.message)),_?new s(r,p.state,c):(Re("SharedClientState","Failed to parse target state for ID '"+r+"': "+o),null)},s.prototype.Ss=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},s}(),dc=function(){function s(r,o){this.clientId=r,this.activeTargetIds=o}return s.Vs=function(r,o){for(var c=JSON.parse(o),p="object"==typeof c&&c.activeTargetIds instanceof Array,_=Or(),S=0;p&&S<c.activeTargetIds.length;++S)p=vn(c.activeTargetIds[S]),_=_.add(c.activeTargetIds[S]);return p?new s(r,_):(Re("SharedClientState","Failed to parse client data for instance '"+r+"': "+o),null)},s}(),La=function(){function s(r,o){this.clientId=r,this.onlineState=o}return s.Vs=function(r){var o=JSON.parse(r);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new s(o.clientId,o.onlineState):(Re("SharedClientState","Failed to parse online state: "+r),null)},s}(),Gu=function(){function s(){this.activeTargetIds=Or()}return s.prototype.Ds=function(r){this.activeTargetIds=this.activeTargetIds.add(r)},s.prototype.Cs=function(r){this.activeTargetIds=this.activeTargetIds.delete(r)},s.prototype.Ss=function(){var r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)},s}(),qu=function(){function s(r,o,c,p,_){this.window=r,this.Se=o,this.persistenceKey=c,this.Ns=p,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new kr(Ve),this.started=!1,this.$s=[];var S=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Os=fc(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Gu),this.Ls=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(P){return"firestore_bundle_loaded_"+P}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return s.yt=function(r){return!(!r||!r.localStorage)},s.prototype.start=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o,c,p,_,S,P,Q,me,Ce,it=this;return(0,E.__generator)(this,function(kt){switch(kt.label){case 0:return[4,this.syncEngine.fn()];case 1:for(r=kt.sent(),o=0,c=r;o<c.length;o++)(p=c[o])!==this.Ns&&(_=this.getItem(fc(this.persistenceKey,p)))&&(S=dc.Vs(p,_))&&(this.Fs=this.Fs.insert(S.clientId,S));for(this.Qs(),(P=this.storage.getItem(this.Us))&&(Q=this.js(P))&&this.Ws(Q),me=0,Ce=this.$s;me<Ce.length;me++)this.ks(Ce[me]);return this.$s=[],this.window.addEventListener("pagehide",function(){return it.shutdown()}),this.started=!0,[2]}})})},s.prototype.writeSequenceNumber=function(r){this.setItem(this.Ms,JSON.stringify(r))},s.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},s.prototype.isActiveQueryTarget=function(r){var o=!1;return this.Fs.forEach(function(c,p){p.activeTargetIds.has(r)&&(o=!0)}),o},s.prototype.addPendingMutation=function(r){this.zs(r,"pending")},s.prototype.updateMutationState=function(r,o,c){this.zs(r,o,c),this.Hs(r)},s.prototype.addLocalQueryTarget=function(r){var o="not-current";if(this.isActiveQueryTarget(r)){var c=this.storage.getItem(Jc(this.persistenceKey,r));if(c){var p=Io.Vs(r,c);p&&(o=p.state)}}return this.Js.Ds(r),this.Qs(),o},s.prototype.removeLocalQueryTarget=function(r){this.Js.Cs(r),this.Qs()},s.prototype.isLocalQueryTarget=function(r){return this.Js.activeTargetIds.has(r)},s.prototype.clearQueryState=function(r){this.removeItem(Jc(this.persistenceKey,r))},s.prototype.updateQueryState=function(r,o,c){this.Ys(r,o,c)},s.prototype.handleUserChange=function(r,o,c){var p=this;o.forEach(function(_){p.Hs(_)}),this.currentUser=r,c.forEach(function(_){p.addPendingMutation(_)})},s.prototype.setOnlineState=function(r){this.Xs(r)},s.prototype.notifyBundleLoaded=function(){this.Zs()},s.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},s.prototype.getItem=function(r){var o=this.storage.getItem(r);return k("SharedClientState","READ",r,o),o},s.prototype.setItem=function(r,o){k("SharedClientState","SET",r,o),this.storage.setItem(r,o)},s.prototype.removeItem=function(r){k("SharedClientState","REMOVE",r),this.storage.removeItem(r)},s.prototype.ks=function(r){var o=this,c=r;if(c.storageArea===this.storage){if(k("SharedClientState","EVENT",c.key,c.newValue),c.key===this.Os)return void Re("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,E.__awaiter)(o,void 0,void 0,function(){var p,_,S,P,Q,me;return(0,E.__generator)(this,function(Ce){if(this.started){if(null!==c.key)if(this.Ls.test(c.key)){if(null==c.newValue)return p=this.ti(c.key),[2,this.ei(p,null)];if(_=this.ni(c.key,c.newValue))return[2,this.ei(_.clientId,_)]}else if(this.Bs.test(c.key)){if(null!==c.newValue&&(S=this.si(c.key,c.newValue)))return[2,this.ii(S)]}else if(this.qs.test(c.key)){if(null!==c.newValue&&(P=this.ri(c.key,c.newValue)))return[2,this.oi(P)]}else if(c.key===this.Us){if(null!==c.newValue&&(Q=this.js(c.newValue)))return[2,this.Ws(Q)]}else if(c.key===this.Ms)(me=function(Ke){var it=Pe.o;if(null!=Ke)try{var kt=JSON.parse(Ke);st("number"==typeof kt),it=kt}catch(Pt){Re("SharedClientState","Failed to read sequence number from WebStorage",Pt)}return it}(c.newValue))!==Pe.o&&this.sequenceNumberHandler(me);else if(c.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(c);return[2]})})})}},Object.defineProperty(s.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),s.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},s.prototype.zs=function(r,o,c){var p=new Qa(this.currentUser,r,o,c),_=ef(this.persistenceKey,this.currentUser,r);this.setItem(_,p.Ss())},s.prototype.Hs=function(r){var o=ef(this.persistenceKey,this.currentUser,r);this.removeItem(o)},s.prototype.Xs=function(r){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:r}))},s.prototype.Ys=function(r,o,c){var p=Jc(this.persistenceKey,r),_=new Io(r,o,c);this.setItem(p,_.Ss())},s.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},s.prototype.ti=function(r){var o=this.Ls.exec(r);return o?o[1]:null},s.prototype.ni=function(r,o){var c=this.ti(r);return dc.Vs(c,o)},s.prototype.si=function(r,o){var c=this.Bs.exec(r),p=Number(c[1]);return Qa.Vs(new Bo(void 0!==c[2]?c[2]:null),p,o)},s.prototype.ri=function(r,o){var c=this.qs.exec(r),p=Number(c[1]);return Io.Vs(p,o)},s.prototype.js=function(r){return La.Vs(r)},s.prototype.ii=function(r){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(o){return r.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(r.batchId,r.state,r.error)]:(k("SharedClientState","Ignoring mutation for non-active user "+r.user.uid),[2])})})},s.prototype.oi=function(r){return this.syncEngine.ai(r.targetId,r.state,r.error)},s.prototype.ei=function(r,o){var c=this,p=o?this.Fs.insert(r,o):this.Fs.remove(r),_=this.Gs(this.Fs),S=this.Gs(p),P=[],Q=[];return S.forEach(function(me){_.has(me)||P.push(me)}),_.forEach(function(me){S.has(me)||Q.push(me)}),this.syncEngine.hi(P,Q).then(function(){c.Fs=p})},s.prototype.Ws=function(r){this.Fs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)},s.prototype.Gs=function(r){var o=Or();return r.forEach(function(c,p){o=o.unionWith(p.activeTargetIds)}),o},s}(),tf=function(){function s(){this.li=new Gu,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return s.prototype.addPendingMutation=function(r){},s.prototype.updateMutationState=function(r,o,c){},s.prototype.addLocalQueryTarget=function(r){return this.li.Ds(r),this.fi[r]||"not-current"},s.prototype.updateQueryState=function(r,o,c){this.fi[r]=o},s.prototype.removeLocalQueryTarget=function(r){this.li.Cs(r)},s.prototype.isLocalQueryTarget=function(r){return this.li.activeTargetIds.has(r)},s.prototype.clearQueryState=function(r){delete this.fi[r]},s.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},s.prototype.isActiveQueryTarget=function(r){return this.li.activeTargetIds.has(r)},s.prototype.start=function(){return this.li=new Gu,Promise.resolve()},s.prototype.handleUserChange=function(r,o,c){},s.prototype.setOnlineState=function(r){},s.prototype.shutdown=function(){},s.prototype.writeSequenceNumber=function(r){},s.prototype.notifyBundleLoaded=function(){},s}(),nf=function(){function s(){}return s.prototype.di=function(r){},s.prototype.shutdown=function(){},s}(),rf=function(){function s(){var r=this;this.wi=function(){return r._i()},this.mi=function(){return r.yi()},this.gi=[],this.pi()}return s.prototype.di=function(r){this.gi.push(r)},s.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},s.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},s.prototype._i=function(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var r=0,o=this.gi;r<o.length;r++)(0,o[r])(0)},s.prototype.yi=function(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var r=0,o=this.gi;r<o.length;r++)(0,o[r])(1)},s.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},s}(),qs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xc=function(){function s(r){this.Ei=r.Ei,this.Ti=r.Ti}return s.prototype.Ii=function(r){this.Ai=r},s.prototype.Ri=function(r){this.bi=r},s.prototype.onMessage=function(r){this.vi=r},s.prototype.close=function(){this.Ti()},s.prototype.send=function(r){this.Ei(r)},s.prototype.Pi=function(){this.Ai()},s.prototype.Vi=function(r){this.bi(r)},s.prototype.Si=function(r){this.vi(r)},s}(),oa=function(s){function r(o){var c=this;return(c=s.call(this,o)||this).forceLongPolling=o.forceLongPolling,c.autoDetectLongPolling=o.autoDetectLongPolling,c.useFetchStreams=o.useFetchStreams,c}return(0,E.__extends)(r,s),r.prototype.Fi=function(o,c,p,_){return new Promise(function(S,P){var Q=new L.JJ;Q.listenOnce(L.tw.COMPLETE,function(){try{switch(Q.getLastErrorCode()){case L.jK.NO_ERROR:var Ce=Q.getResponseJson();k("Connection","XHR received:",JSON.stringify(Ce)),S(Ce);break;case L.jK.TIMEOUT:k("Connection",'RPC "'+o+'" timed out'),P(new fe(le.DEADLINE_EXCEEDED,"Request time out"));break;case L.jK.HTTP_ERROR:var Ke=Q.getStatus();if(k("Connection",'RPC "'+o+'" failed with status:',Ke,"response text:",Q.getResponseText()),Ke>0){var it=Q.getResponseJson().error;if(it&&it.status&&it.message){var kt=(Kt=it.status.toLowerCase().replace(/_/g,"-"),Object.values(le).indexOf(Kt)>=0?Kt:le.UNKNOWN);P(new fe(kt,it.message))}else P(new fe(le.UNKNOWN,"Server responded with status "+Q.getStatus()))}else P(new fe(le.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{k("Connection",'RPC "'+o+'" completed.')}var Kt});var me=JSON.stringify(_);Q.send(c,"POST",me,p,15)})},r.prototype.Oi=function(o,c){var p=[this.Di,"/","google.firestore.v1.Firestore","/",o,"/channel"],_=(0,L.UE)(),S=(0,L.FJ)(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new L.zI({})),this.ki(P.initMessageHeaders,c),(0,b.isMobileCordova)()||(0,b.isReactNative)()||(0,b.isElectron)()||(0,b.isIE)()||(0,b.isUWP)()||(0,b.isBrowserExtension)()||(P.httpHeadersOverwriteParam="$httpHeaders");var Q=p.join("");k("Connection","Creating WebChannel: "+Q,P);var me=_.createWebChannel(Q,P),Ce=!1,Ke=!1,it=new Xc({Ei:function(Pt){Ke?k("Connection","Not sending because WebChannel is closed:",Pt):(Ce||(k("Connection","Opening WebChannel transport."),me.open(),Ce=!0),k("Connection","WebChannel sending:",Pt),me.send(Pt))},Ti:function(){return me.close()}}),kt=function(Pt,Kt,Nn){Pt.listen(Kt,function(jn){try{Nn(jn)}catch(mr){setTimeout(function(){throw mr},0)}})};return kt(me,L.ii.EventType.OPEN,function(){Ke||k("Connection","WebChannel transport opened.")}),kt(me,L.ii.EventType.CLOSE,function(){Ke||(Ke=!0,k("Connection","WebChannel transport closed"),it.Vi())}),kt(me,L.ii.EventType.ERROR,function(Pt){Ke||(Ke=!0,Ye("Connection","WebChannel transport errored:",Pt),it.Vi(new fe(le.UNAVAILABLE,"The operation could not be completed")))}),kt(me,L.ii.EventType.MESSAGE,function(Pt){var Kt;if(!Ke){var Nn=Pt.data[0];st(!!Nn);var mr=Nn.error||(null===(Kt=Nn[0])||void 0===Kt?void 0:Kt.error);if(mr){k("Connection","WebChannel received error:",mr);var Tr=mr.status,Vi=function(yo){var Vs=Nr[yo];if(void 0!==Vs)return Zi(Vs)}(Tr),ci=mr.message;void 0===Vi&&(Vi=le.INTERNAL,ci="Unknown error status: "+Tr+" with message "+mr.message),Ke=!0,it.Vi(new fe(Vi,ci)),me.close()}else k("Connection","WebChannel received:",Nn),it.Si(Nn)}}),kt(S,L.ju.STAT_EVENT,function(Pt){Pt.stat===L.kN.PROXY?k("Connection","Detected buffering proxy"):Pt.stat===L.kN.NOPROXY&&k("Connection","Detected no buffering proxy")}),setTimeout(function(){it.Pi()},0),it},r}(function(){function s(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Di=(r.ssl?"https":"http")+"://"+r.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return s.prototype.Ni=function(r,o,c,p){var _=this.xi(r,o);k("RestConnection","Sending: ",_,c);var S={};return this.ki(S,p),this.Fi(r,_,S,c).then(function(P){return k("RestConnection","Received: ",P),P},function(P){throw Ye("RestConnection",r+" failed with error: ",P,"url: ",_,"request:",c),P})},s.prototype.$i=function(r,o,c,p){return this.Ni(r,o,c,p)},s.prototype.ki=function(r,o){if(r["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(var c in o.authHeaders)o.authHeaders.hasOwnProperty(c)&&(r[c]=o.authHeaders[c])},s.prototype.xi=function(r,o){return this.Di+"/v1/"+o+":"+qs[r]},s}());function Ja(){return"undefined"!=typeof window?window:null}function rs(){return"undefined"!=typeof document?document:null}function Wu(s){return new F(s,!0)}var el=function(){function s(r,o,c,p,_){void 0===c&&(c=1e3),void 0===p&&(p=1.5),void 0===_&&(_=6e4),this.Se=r,this.timerId=o,this.Mi=c,this.Li=p,this.Bi=_,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return s.prototype.reset=function(){this.qi=0},s.prototype.Qi=function(){this.qi=this.Bi},s.prototype.ji=function(r){var o=this;this.cancel();var c=Math.floor(this.qi+this.Wi()),p=Math.max(0,Date.now()-this.Ki),_=Math.max(0,c-p);_>0&&k("ExponentialBackoff","Backing off for "+_+" ms (base delay: "+this.qi+" ms, delay with jitter: "+c+" ms, last attempt: "+p+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,_,function(){return o.Ki=Date.now(),r()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},s.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},s.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},s.prototype.Wi=function(){return(Math.random()-.5)*this.qi},s}(),bs=function(){function s(r,o,c,p,_,S){this.Se=r,this.zi=c,this.Hi=p,this.Ji=_,this.listener=S,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new el(r,o)}return s.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},s.prototype.er=function(){return 2===this.state},s.prototype.start=function(){3!==this.state?this.auth():this.nr()},s.prototype.stop=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){switch(r.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},s.prototype.sr=function(){this.state=0,this.Zi.reset()},s.prototype.ir=function(){var r=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return r.rr()}))},s.prototype.cr=function(r){this.ur(),this.stream.send(r)},s.prototype.rr=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){return this.er()?[2,this.close(0)]:[2]})})},s.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},s.prototype.close=function(r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(c){switch(c.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==r?this.Zi.reset():o&&o.code===le.RESOURCE_EXHAUSTED?(Re(o.toString()),Re("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):o&&o.code===le.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=r,[4,this.listener.Ri(o)];case 1:return c.sent(),[2]}})})},s.prototype.ar=function(){},s.prototype.auth=function(){var r=this;this.state=1;var o=this.hr(this.Yi),c=this.Yi;this.Ji.getToken().then(function(p){r.Yi===c&&r.lr(p)},function(p){o(function(){var _=new fe(le.UNKNOWN,"Fetching auth token failed: "+p.message);return r.dr(_)})})},s.prototype.lr=function(r){var o=this,c=this.hr(this.Yi);this.stream=this.wr(r),this.stream.Ii(function(){c(function(){return o.state=2,o.listener.Ii()})}),this.stream.Ri(function(p){c(function(){return o.dr(p)})}),this.stream.onMessage(function(p){c(function(){return o.onMessage(p)})})},s.prototype.nr=function(){var r=this;this.state=4,this.Zi.ji(function(){return(0,E.__awaiter)(r,void 0,void 0,function(){return(0,E.__generator)(this,function(o){return this.state=0,this.start(),[2]})})})},s.prototype.dr=function(r){return k("PersistentStream","close with error: "+r),this.stream=null,this.close(3,r)},s.prototype.hr=function(r){var o=this;return function(c){o.Se.enqueueAndForget(function(){return o.Yi===r?c():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},s}(),Au=function(s){function r(o,c,p,_,S){var P=this;return(P=s.call(this,o,"listen_stream_connection_backoff","listen_stream_idle",c,p,S)||this).R=_,P}return(0,E.__extends)(r,s),r.prototype.wr=function(o){return this.Hi.Oi("Listen",o)},r.prototype.onMessage=function(o){this.Zi.reset();var c=function(_,S){var P,Nn;if("targetChange"in S){var Q="NO_CHANGE"===(Nn=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Nn?1:"REMOVE"===Nn?2:"CURRENT"===Nn?3:"RESET"===Nn?4:De(),me=S.targetChange.targetIds||[],Ce=function(Nn,jn){return Nn.I?(st(void 0===jn||"string"==typeof jn),lt.fromBase64String(jn||"")):(st(void 0===jn||jn instanceof Uint8Array),lt.fromUint8Array(jn||new Uint8Array))}(_,S.targetChange.resumeToken),Ke=(it=S.targetChange.cause)&&function(Nn){var jn=void 0===Nn.code?le.UNKNOWN:Zi(Nn.code);return new fe(jn,Nn.message||"")}(it);P=new Ge(Q,me,Ce,Ke||null)}else if("documentChange"in S){me=On(_,(Q=S.documentChange).document.name),Ce=re(Q.document.updateTime);var it=new Tn({mapValue:{fields:Q.document.fields}}),kt=(Ke=Bn.newFoundDocument(me,Ce,it),Q.targetIds||[]);P=new W(kt,Q.removedTargetIds||[],Ke.key,Ke)}else if("documentDelete"in S)me=On(_,(Q=S.documentDelete).document),Ce=Q.readTime?re(Q.readTime):bt.min(),it=Bn.newNoDocument(me,Ce),P=new W([],Ke=Q.removedTargetIds||[],it.key,it);else if("documentRemove"in S)me=On(_,(Q=S.documentRemove).document),P=new W([],Ce=Q.removedTargetIds||[],me,null);else{if(!("filter"in S))return De();var Kt=S.filter;me=new Po(Q=Kt.count||0),P=new Ie(Ce=Kt.targetId,me)}return P}(this.R,o),p=function(_){if(!("targetChange"in _))return bt.min();var S=_.targetChange;return S.targetIds&&S.targetIds.length?bt.min():S.readTime?re(S.readTime):bt.min()}(o);return this.listener._r(c,p)},r.prototype.mr=function(o){var _,S,P,Q,c={};c.database=no(this.R),c.addTarget=(_=this.R,(P=Yt(Q=(S=o).target)?{documents:Ft(_,Q)}:{query:gn(_,Q)}).targetId=S.targetId,S.resumeToken.approximateByteSize()>0?P.resumeToken=ne(_,S.resumeToken):S.snapshotVersion.compareTo(bt.min())>0&&(P.readTime=ge(_,S.snapshotVersion.toTimestamp())),P);var p=function(_,S){var P=function(Q,me){switch(me){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return De()}}(0,S.purpose);return null==P?null:{"goog-listen-tags":P}}(0,o);p&&(c.labels=p),this.cr(c)},r.prototype.yr=function(o){var c={};c.database=no(this.R),c.removeTarget=o,this.cr(c)},r}(bs),$u=function(s){function r(o,c,p,_,S){var P=this;return(P=s.call(this,o,"write_stream_connection_backoff","write_stream_idle",c,p,S)||this).R=_,P.gr=!1,P}return(0,E.__extends)(r,s),Object.defineProperty(r.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,s.prototype.start.call(this)},r.prototype.ar=function(){this.gr&&this.Er([])},r.prototype.wr=function(o){return this.Hi.Oi("Write",o)},r.prototype.onMessage=function(o){if(st(!!o.streamToken),this.lastStreamToken=o.streamToken,this.gr){this.Zi.reset();var c=(S=o.commitTime,(_=o.writeResults)&&_.length>0?(st(void 0!==S),_.map(function(P){return me=S,(Ce=re((Q=P).updateTime?Q.updateTime:me)).isEqual(bt.min())&&(Ce=re(me)),new Xn(Ce,Q.transformResults||[]);var Q,me,Ce})):[]),p=re(o.commitTime);return this.listener.Tr(p,c)}var _,S;return st(!o.writeResults||0===o.writeResults.length),this.gr=!0,this.listener.Ir()},r.prototype.Ar=function(){var o={};o.database=no(this.R),this.cr(o)},r.prototype.Er=function(o){var c=this,p={streamToken:this.lastStreamToken,writes:o.map(function(_){return pe(c.R,_)})};this.cr(p)},r}(bs),of=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).credentials=o,_.Hi=c,_.R=p,_.Rr=!1,_}return(0,E.__extends)(r,s),r.prototype.br=function(){if(this.Rr)throw new fe(le.FAILED_PRECONDITION,"The client has already been terminated.")},r.prototype.Ni=function(o,c,p){var _=this;return this.br(),this.credentials.getToken().then(function(S){return _.Hi.Ni(o,c,p,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===le.UNAUTHENTICATED&&_.credentials.invalidateToken(),S):new fe(le.UNKNOWN,S.toString())})},r.prototype.$i=function(o,c,p){var _=this;return this.br(),this.credentials.getToken().then(function(S){return _.Hi.$i(o,c,p,S)}).catch(function(S){throw"FirebaseError"===S.name?(S.code===le.UNAUTHENTICATED&&_.credentials.invalidateToken(),S):new fe(le.UNKNOWN,S.toString())})},r.prototype.terminate=function(){this.Rr=!0},r}(function(){}),hc=function(){function s(r,o){this.asyncQueue=r,this.onlineStateHandler=o,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return s.prototype.Sr=function(){var r=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return r.Pr=null,r.Cr("Backend didn't respond within 10 seconds."),r.Dr("Offline"),Promise.resolve()}))},s.prototype.Nr=function(r){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+r.toString()),this.Dr("Offline")))},s.prototype.set=function(r){this.kr(),this.vr=0,"Online"===r&&(this.Vr=!1),this.Dr(r)},s.prototype.Dr=function(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))},s.prototype.Cr=function(r){var o="Could not reach Cloud Firestore backend. "+r+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Re(o),this.Vr=!1):k("OnlineStateTracker",o)},s.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},s}(),ps=function(s,r,o,c,p){var _=this;this.localStore=s,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=p,this.Lr.di(function(S){o.enqueueAndForget(function(){return(0,E.__awaiter)(_,void 0,void 0,function(){return(0,E.__generator)(this,function(P){switch(P.label){case 0:return Va(this)?(k("RemoteStore","Restarting streams for network reachability change."),[4,function(Q){return(0,E.__awaiter)(this,void 0,void 0,function(){var me;return(0,E.__generator)(this,function(Ce){switch(Ce.label){case 0:return(me=je(Q)).Or.add(4),[4,gs(me)];case 1:return Ce.sent(),me.Br.set("Unknown"),me.Or.delete(4),[4,sa(me)];case 2:return Ce.sent(),[2]}})})}(this)]):[3,2];case 1:P.sent(),P.label=2;case 2:return[2]}})})})}),this.Br=new hc(o,c)};function sa(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:if(!Va(s))return[3,4];r=0,o=s.Mr,c.label=1;case 1:return r<o.length?[4,(0,o[r])(!0)]:[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function gs(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:r=0,o=s.Mr,c.label=1;case 1:return r<o.length?[4,(0,o[r])(!1)]:[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function Ra(s,r){var o=je(s);o.$r.has(r.targetId)||(o.$r.set(r.targetId,r),pc(o)?Xa(o):$s(o).er()&&xa(o,r))}function Ps(s,r){var o=je(s),c=$s(o);o.$r.delete(r),c.er()&&fu(o,r),0===o.$r.size&&(c.er()?c.ir():Va(o)&&o.Br.set("Unknown"))}function xa(s,r){s.qr.U(r.targetId),$s(s).mr(r)}function fu(s,r){s.qr.U(r),$s(s).yr(r)}function Xa(s){s.qr=new xt({getRemoteKeysForTarget:function(r){return s.remoteSyncer.getRemoteKeysForTarget(r)},lt:function(r){return s.$r.get(r)||null}}),$s(s).start(),s.Br.Sr()}function pc(s){return Va(s)&&!$s(s).tr()&&s.$r.size>0}function Va(s){return 0===je(s).Or.size}function du(s){s.qr=void 0}function Ws(s){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){return s.$r.forEach(function(o,c){xa(s,o)}),[2]})})}function eu(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(o){return du(s),pc(s)?(s.Br.Nr(r),Xa(s)):s.Br.set("Unknown"),[2]})})}function Su(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_;return(0,E.__generator)(this,function(S){switch(S.label){case 0:if(s.Br.set("Online"),!(r instanceof Ge&&2===r.state&&r.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(P,Q){return(0,E.__awaiter)(this,void 0,void 0,function(){var me,Ce,Ke,it;return(0,E.__generator)(this,function(kt){switch(kt.label){case 0:me=Q.cause,Ce=0,Ke=Q.targetIds,kt.label=1;case 1:return Ce<Ke.length?P.$r.has(it=Ke[Ce])?[4,P.remoteSyncer.rejectListen(it,me)]:[3,3]:[3,5];case 2:kt.sent(),P.$r.delete(it),P.qr.removeTarget(it),kt.label=3;case 3:kt.label=4;case 4:return Ce++,[3,1];case 5:return[2]}})})}(s,r)];case 2:return S.sent(),[3,5];case 3:return c=S.sent(),k("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),[4,zu(s,c)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(r instanceof W?s.qr.X(r):r instanceof Ie?s.qr.rt(r):s.qr.et(r),o.isEqual(bt.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,Hn(s.localStore)];case 8:return p=S.sent(),o.compareTo(p)>=0?[4,(P=s,Q=o,me=P.qr.ut(Q),me.targetChanges.forEach(function(Ce,Ke){if(Ce.resumeToken.approximateByteSize()>0){var it=P.$r.get(Ke);it&&P.$r.set(Ke,it.withResumeToken(Ce.resumeToken,Q))}}),me.targetMismatches.forEach(function(Ce){var Ke=P.$r.get(Ce);if(Ke){P.$r.set(Ce,Ke.withResumeToken(lt.EMPTY_BYTE_STRING,Ke.snapshotVersion)),fu(P,Ce);var it=new es(Ke.target,Ce,1,Ke.sequenceNumber);xa(P,it)}}),P.remoteSyncer.applyRemoteEvent(me))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return k("RemoteStore","Failed to raise snapshot:",_=S.sent()),[4,zu(s,_)];case 12:return S.sent(),[3,13];case 13:return[2]}var P,Q,me})})}function zu(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c=this;return(0,E.__generator)(this,function(p){switch(p.label){case 0:if(!Wo(r))throw r;return s.Or.add(1),[4,gs(s)];case 1:return p.sent(),s.Br.set("Offline"),o||(o=function(){return Hn(s.localStore)}),s.asyncQueue.enqueueRetryable(function(){return(0,E.__awaiter)(c,void 0,void 0,function(){return(0,E.__generator)(this,function(_){switch(_.label){case 0:return k("RemoteStore","Retrying IndexedDB access"),[4,o()];case 1:return _.sent(),s.Or.delete(1),[4,sa(s)];case 2:return _.sent(),[2]}})})}),[2]}})})}function Dc(s,r){return r().catch(function(o){return zu(s,o,r)})}function hu(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o,c,p,_;return(0,E.__generator)(this,function(S){switch(S.label){case 0:r=je(s),o=is(r),c=r.Fr.length>0?r.Fr[r.Fr.length-1].batchId:-1,S.label=1;case 1:if(!(Va(P=r)&&P.Fr.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,pi(r.localStore,c)];case 3:return null===(p=S.sent())?(0===r.Fr.length&&o.ir(),[3,7]):(c=p.batchId,function(P,Q){P.Fr.push(Q);var me=is(P);me.er()&&me.pr&&me.Er(Q.mutations)}(r,p),[3,6]);case 4:return _=S.sent(),[4,zu(r,_)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return Ua(r)&&tl(r),[2]}var P})})}function Ua(s){return Va(s)&&!is(s).tr()&&s.Fr.length>0}function tl(s){is(s).start()}function Rc(s){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){return is(s).Ar(),[2]})})}function xl(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o,c;return(0,E.__generator)(this,function(_){for(r=is(s),o=0,c=s.Fr;o<c.length;o++)r.Er(c[o].mutations);return[2]})})}function Ku(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return c=s.Fr.shift(),p=ca.from(c,r,o),[4,Dc(s,function(){return s.remoteSyncer.applySuccessfulWrite(p)})];case 1:return _.sent(),[4,hu(s)];case 2:return _.sent(),[2]}})})}function Du(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(o){switch(o.label){case 0:return r&&is(s).pr?[4,function(c,p){return(0,E.__awaiter)(this,void 0,void 0,function(){var _,S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:return Kr(S=p.code)&&S!==le.ABORTED?(_=c.Fr.shift(),is(c).sr(),[4,Dc(c,function(){return c.remoteSyncer.rejectFailedWrite(_.batchId,p)})]):[3,3];case 1:return P.sent(),[4,hu(c)];case 2:P.sent(),P.label=3;case 3:return[2]}})})}(s,r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Ua(s)&&tl(s),[2]}})})}function Na(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:return o=je(s),r?(o.Or.delete(2),[4,sa(o)]):[3,2];case 1:return c.sent(),[3,5];case 2:return r?[3,4]:(o.Or.add(2),[4,gs(o)]);case 3:c.sent(),o.Br.set("Unknown"),c.label=4;case 4:c.label=5;case 5:return[2]}})})}function $s(s){var o,c,p,_,r=this;return s.Ur||(s.Ur=(o=s.datastore,c=s.asyncQueue,p={Ii:Ws.bind(null,s),Ri:eu.bind(null,s),_r:Su.bind(null,s)},(_=je(o)).br(),new Au(c,_.Hi,_.credentials,_.R,p)),s.Mr.push(function(o){return(0,E.__awaiter)(r,void 0,void 0,function(){return(0,E.__generator)(this,function(c){switch(c.label){case 0:return o?(s.Ur.sr(),pc(s)?Xa(s):s.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,s.Ur.stop()];case 2:c.sent(),du(s),c.label=3;case 3:return[2]}})})})),s.Ur}function is(s){var o,c,p,_,r=this;return s.Kr||(s.Kr=(o=s.datastore,c=s.asyncQueue,p={Ii:Rc.bind(null,s),Ri:Du.bind(null,s),Ir:xl.bind(null,s),Tr:Ku.bind(null,s)},(_=je(o)).br(),new $u(c,_.Hi,_.credentials,_.R,p)),s.Mr.push(function(o){return(0,E.__awaiter)(r,void 0,void 0,function(){return(0,E.__generator)(this,function(c){switch(c.label){case 0:return o?(s.Kr.sr(),[4,hu(s)]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,s.Kr.stop()];case 3:c.sent(),s.Fr.length>0&&(k("RemoteStore","Stopping write stream with "+s.Fr.length+" pending writes"),s.Fr=[]),c.label=4;case 4:return[2]}})})})),s.Kr}var Ma=function(){function s(r,o,c,p,_){this.asyncQueue=r,this.timerId=o,this.targetTimeMs=c,this.op=p,this.removalCallback=_,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(S){})}return s.createAndSchedule=function(r,o,c,p,_){var S=new s(r,o,Date.now()+c,p,_);return S.start(c),S},s.prototype.start=function(r){var o=this;this.timerHandle=setTimeout(function(){return o.handleDelayElapsed()},r)},s.prototype.skipDelay=function(){return this.handleDelayElapsed()},s.prototype.cancel=function(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(le.CANCELLED,"Operation cancelled"+(r?": "+r:""))))},s.prototype.handleDelayElapsed=function(){var r=this;this.asyncQueue.enqueueAndForget(function(){return null!==r.timerHandle?(r.clearTimeout(),r.op().then(function(o){return r.deferred.resolve(o)})):Promise.resolve()})},s.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},s}();function Ho(s,r){if(Re("AsyncQueue",r+": "+s),Wo(s))return new fe(le.UNAVAILABLE,r+": "+s);throw s}var ja=function(){function s(r){this.comparator=r?function(o,c){return r(o,c)||vt.comparator(o.key,c.key)}:function(o,c){return vt.comparator(o.key,c.key)},this.keyedMap=Ni(),this.sortedSet=new kr(this.comparator)}return s.emptySet=function(r){return new s(r.comparator)},s.prototype.has=function(r){return null!=this.keyedMap.get(r)},s.prototype.get=function(r){return this.keyedMap.get(r)},s.prototype.first=function(){return this.sortedSet.minKey()},s.prototype.last=function(){return this.sortedSet.maxKey()},s.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},s.prototype.indexOf=function(r){var o=this.keyedMap.get(r);return o?this.sortedSet.indexOf(o):-1},Object.defineProperty(s.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(r){this.sortedSet.inorderTraversal(function(o,c){return r(o),!1})},s.prototype.add=function(r){var o=this.delete(r.key);return o.copy(o.keyedMap.insert(r.key,r),o.sortedSet.insert(r,null))},s.prototype.delete=function(r){var o=this.get(r);return o?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(o)):this},s.prototype.isEqual=function(r){if(!(r instanceof s)||this.size!==r.size)return!1;for(var o=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();o.hasNext();){var p=o.getNext().key,_=c.getNext().key;if(!p.isEqual(_))return!1}return!0},s.prototype.toString=function(){var r=[];return this.forEach(function(o){r.push(o.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"},s.prototype.copy=function(r,o){var c=new s;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=o,c},s}(),gc=function(){function s(){this.Qr=new kr(vt.comparator)}return s.prototype.track=function(r){var o=r.doc.key,c=this.Qr.get(o);c?0!==r.type&&3===c.type?this.Qr=this.Qr.insert(o,r):3===r.type&&1!==c.type?this.Qr=this.Qr.insert(o,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Qr=this.Qr.insert(o,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Qr=this.Qr.insert(o,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Qr=this.Qr.remove(o):1===r.type&&2===c.type?this.Qr=this.Qr.insert(o,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Qr=this.Qr.insert(o,{type:2,doc:r.doc}):De():this.Qr=this.Qr.insert(o,r)},s.prototype.jr=function(){var r=[];return this.Qr.inorderTraversal(function(o,c){r.push(c)}),r},s}(),M=function(){function s(r,o,c,p,_,S,P,Q){this.query=r,this.docs=o,this.oldDocs=c,this.docChanges=p,this.mutatedKeys=_,this.fromCache=S,this.syncStateChanged=P,this.excludesMetadataChanges=Q}return s.fromInitialDocuments=function(r,o,c,p){var _=[];return o.forEach(function(S){_.push({type:0,doc:S})}),new s(r,o,ja.emptySet(o),_,c,p,!0,!1)},Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Gi(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;var o=this.docChanges,c=r.docChanges;if(o.length!==c.length)return!1;for(var p=0;p<o.length;p++)if(o[p].type!==c[p].type||!o[p].doc.isEqual(c[p].doc))return!1;return!0},s}(),N=function(){this.Wr=void 0,this.listeners=[]},G=function(){this.queries=new oo(function(s){return rr(s)},Gi),this.onlineState="Unknown",this.Gr=new Set};function ae(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p,_,S,P,Q;return(0,E.__generator)(this,function(me){switch(me.label){case 0:if(o=je(s),p=!1,(_=o.queries.get(c=r.query))||(p=!0,_=new N),!p)return[3,4];me.label=1;case 1:return me.trys.push([1,3,,4]),S=_,[4,o.onListen(c)];case 2:return S.Wr=me.sent(),[3,4];case 3:return P=me.sent(),Q=Ho(P,"Initialization of query '"+ri(r.query)+"' failed"),[2,void r.onError(Q)];case 4:return o.queries.set(c,_),_.listeners.push(r),r.zr(o.onlineState),_.Wr&&r.Hr(_.Wr)&&ft(o),[2]}})})}function he(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p,_,S;return(0,E.__generator)(this,function(P){return o=je(s),p=!1,(_=o.queries.get(c=r.query))&&(S=_.listeners.indexOf(r))>=0&&(_.listeners.splice(S,1),p=0===_.listeners.length),p?[2,(o.queries.delete(c),o.onUnlisten(c))]:[2]})})}function Oe(s,r){for(var o=je(s),c=!1,p=0,_=r;p<_.length;p++){var S=_[p],Q=o.queries.get(S.query);if(Q){for(var me=0,Ce=Q.listeners;me<Ce.length;me++)Ce[me].Hr(S)&&(c=!0);Q.Wr=S}}c&&ft(o)}function ct(s,r,o){var c=je(s),p=c.queries.get(r);if(p)for(var _=0,S=p.listeners;_<S.length;_++)S[_].onError(o);c.queries.delete(r)}function ft(s){s.Gr.forEach(function(r){r.next()})}var Wt=function(){function s(r,o,c){this.query=r,this.Jr=o,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=c||{}}return s.prototype.Hr=function(r){if(!this.options.includeMetadataChanges){for(var o=[],c=0,p=r.docChanges;c<p.length;c++){var _=p[c];3!==_.type&&o.push(_)}r=new M(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}var S=!1;return this.Yr?this.Zr(r)&&(this.Jr.next(r),S=!0):this.eo(r,this.onlineState)&&(this.no(r),S=!0),this.Xr=r,S},s.prototype.onError=function(r){this.Jr.error(r)},s.prototype.zr=function(r){this.onlineState=r;var o=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,r)&&(this.no(this.Xr),o=!0),o},s.prototype.eo=function(r,o){return!r.fromCache||!(this.options.so&&"Offline"!==o||r.docs.isEmpty()&&"Offline"!==o)},s.prototype.Zr=function(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges},s.prototype.no=function(r){r=M.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.Yr=!0,this.Jr.next(r)},s}(),en=function(){function s(r,o){this.payload=r,this.byteLength=o}return s.prototype.io=function(){return"metadata"in this.payload},s}(),wn=function(){function s(r){this.R=r}return s.prototype.qn=function(r){return On(this.R,r)},s.prototype.Un=function(r){return r.metadata.exists?Y(this.R,r.document,!1):Bn.newNoDocument(this.qn(r.metadata.name),this.Kn(r.metadata.readTime))},s.prototype.Kn=function(r){return re(r)},s}(),ar=function(){function s(r,o,c){this.ro=r,this.localStore=o,this.R=c,this.queries=[],this.documents=[],this.progress=Ur(r)}return s.prototype.oo=function(r){this.progress.bytesLoaded+=r.byteLength;var o=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++o):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null},s.prototype.co=function(r){for(var o=new Map,c=new wn(this.R),p=0,_=r;p<_.length;p++){var S=_[p];if(S.metadata.queries)for(var P=c.qn(S.metadata.name),Q=0,me=S.metadata.queries;Q<me.length;Q++){var Ce=me[Q],Ke=(o.get(Ce)||_r()).add(P);o.set(Ce,Ke)}}return o},s.prototype.complete=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o,c,p,_;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return[4,ka(this.localStore,new wn(this.R),this.documents,this.ro.id)];case 1:r=S.sent(),o=this.co(this.documents),c=0,p=this.queries,S.label=2;case 2:return c<p.length?[4,Bu(this.localStore,_=p[c],o.get(_.name))]:[3,5];case 3:S.sent(),S.label=4;case 4:return c++,[3,2];case 5:return[2,(this.progress.taskState="Success",new x(Object.assign({},this.progress),r))]}})})},s}();function Ur(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}var Si=function(s){this.key=s},gi=function(s){this.key=s},Ao=function(){function s(r,o){this.query=r,this.uo=o,this.ao=null,this.current=!1,this.ho=_r(),this.mutatedKeys=_r(),this.lo=to(r),this.fo=new ja(this.lo)}return Object.defineProperty(s.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),s.prototype._o=function(r,o){var c=this,p=o?o.mo:new gc,_=o?o.fo:this.fo,S=o?o.mutatedKeys:this.mutatedKeys,P=_,Q=!1,me=ur(this.query)&&_.size===this.query.limit?_.last():null,Ce=nr(this.query)&&_.size===this.query.limit?_.first():null;if(r.inorderTraversal(function(it,kt){var Pt=_.get(it),Kt=Oi(c.query,kt)?kt:null,Nn=!!Pt&&c.mutatedKeys.has(Pt.key),jn=!!Kt&&(Kt.hasLocalMutations||c.mutatedKeys.has(Kt.key)&&Kt.hasCommittedMutations),mr=!1;Pt&&Kt?Pt.data.isEqual(Kt.data)?Nn!==jn&&(p.track({type:3,doc:Kt}),mr=!0):c.yo(Pt,Kt)||(p.track({type:2,doc:Kt}),mr=!0,(me&&c.lo(Kt,me)>0||Ce&&c.lo(Kt,Ce)<0)&&(Q=!0)):!Pt&&Kt?(p.track({type:0,doc:Kt}),mr=!0):Pt&&!Kt&&(p.track({type:1,doc:Pt}),mr=!0,(me||Ce)&&(Q=!0)),mr&&(Kt?(P=P.add(Kt),S=jn?S.add(it):S.delete(it)):(P=P.delete(it),S=S.delete(it)))}),ur(this.query)||nr(this.query))for(;P.size>this.query.limit;){var Ke=ur(this.query)?P.last():P.first();P=P.delete(Ke.key),S=S.delete(Ke.key),p.track({type:1,doc:Ke})}return{fo:P,mo:p,Nn:Q,mutatedKeys:S}},s.prototype.yo=function(r,o){return r.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations},s.prototype.applyChanges=function(r,o,c){var p=this,_=this.fo;this.fo=r.fo,this.mutatedKeys=r.mutatedKeys;var S=r.mo.jr();S.sort(function(Ce,Ke){return kt=Ke.type,(Pt=function(Kt){switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}})(Ce.type)-Pt(kt)||p.lo(Ce.doc,Ke.doc);var kt,Pt}),this.po(c);var P=o?this.Eo():[],Q=0===this.ho.size&&this.current?1:0,me=Q!==this.ao;return this.ao=Q,0!==S.length||me?{snapshot:new M(this.query,r.fo,_,S,r.mutatedKeys,0===Q,me,!1),To:P}:{To:P}},s.prototype.zr=function(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gc,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},s.prototype.Io=function(r){return!this.uo.has(r)&&!!this.fo.has(r)&&!this.fo.get(r).hasLocalMutations},s.prototype.po=function(r){var o=this;r&&(r.addedDocuments.forEach(function(c){return o.uo=o.uo.add(c)}),r.modifiedDocuments.forEach(function(c){}),r.removedDocuments.forEach(function(c){return o.uo=o.uo.delete(c)}),this.current=r.current)},s.prototype.Eo=function(){var r=this;if(!this.current)return[];var o=this.ho;this.ho=_r(),this.fo.forEach(function(p){r.Io(p.key)&&(r.ho=r.ho.add(p.key))});var c=[];return o.forEach(function(p){r.ho.has(p)||c.push(new gi(p))}),this.ho.forEach(function(p){o.has(p)||c.push(new Si(p))}),c},s.prototype.Ao=function(r){this.uo=r.Bn,this.ho=_r();var o=this._o(r.documents);return this.applyChanges(o,!0)},s.prototype.Ro=function(){return M.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},s}(),ks=function(s,r,o){this.query=s,this.targetId=r,this.view=o},po=function(s){this.key=s,this.bo=!1},pa=function(){function s(r,o,c,p,_,S){this.localStore=r,this.remoteStore=o,this.eventManager=c,this.sharedClientState=p,this.currentUser=_,this.maxConcurrentLimboResolutions=S,this.vo={},this.Po=new oo(function(P){return rr(P)},Gi),this.Vo=new Map,this.So=new Set,this.Do=new kr(vt.comparator),this.Co=new Map,this.No=new Ya,this.xo={},this.ko=new Map,this.Fo=te.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(s.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),s}();function ga(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,p,_,S,P;return(0,E.__generator)(this,function(Q){switch(Q.label){case 0:return o=nu(s),(_=o.Po.get(r))?(o.sharedClientState.addLocalQueryTarget(_.targetId),p=_.view.Ro(),[3,4]):[3,1];case 1:return[4,Ei(o.localStore,Sr(r))];case 2:return S=Q.sent(),P=o.sharedClientState.addLocalQueryTarget(S.targetId),[4,zs(o,r,S.targetId,"current"===P)];case 3:p=Q.sent(),o.isPrimaryClient&&Ra(o.remoteStore,S),Q.label=4;case 4:return[2,p]}})})}function zs(s,r,o,c){return(0,E.__awaiter)(this,void 0,void 0,function(){var p,_,S,P,Q,me;return(0,E.__generator)(this,function(Ce){switch(Ce.label){case 0:return s.Oo=function(Ke,it,kt){return function(Pt,Kt,Nn,jn){return(0,E.__awaiter)(this,void 0,void 0,function(){var mr,Tr,Vi;return(0,E.__generator)(this,function(ci){switch(ci.label){case 0:return(mr=Kt.view._o(Nn)).Nn?[4,Gs(Pt.localStore,Kt.query,!1).then(function(yo){return Kt.view._o(yo.documents,mr)})]:[3,2];case 1:mr=ci.sent(),ci.label=2;case 2:return Tr=jn&&jn.targetChanges.get(Kt.targetId),Vi=Kt.view.applyChanges(mr,Pt.isPrimaryClient,Tr),[2,(xc(Pt,Kt.targetId,Vi.To),Vi.snapshot)]}})})}(s,Ke,it,kt)},[4,Gs(s.localStore,r,!0)];case 1:return p=Ce.sent(),_=new Ao(r,p.Bn),S=_._o(p.documents),P=ee.createSynthesizedTargetChangeForCurrentChange(o,c&&"Offline"!==s.onlineState),Q=_.applyChanges(S,s.isPrimaryClient,P),xc(s,o,Q.To),me=new ks(r,o,_),[2,(s.Po.set(r,me),s.Vo.has(o)?s.Vo.get(o).push(r):s.Vo.set(o,[r]),Q.snapshot)]}})})}function Es(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return o=je(s),c=o.Po.get(r),(p=o.Vo.get(c.targetId)).length>1?[2,(o.Vo.set(c.targetId,p.filter(function(S){return!Gi(S,r)})),void o.Po.delete(r))]:o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)?[3,2]:[4,Os(o.localStore,c.targetId,!1).then(function(){o.sharedClientState.clearQueryState(c.targetId),Ps(o.remoteStore,c.targetId),mc(o,c.targetId)}).catch(bi)]):[3,3];case 1:_.sent(),_.label=2;case 2:return[3,5];case 3:return mc(o,c.targetId),[4,Os(o.localStore,c.targetId,!0)];case 4:_.sent(),_.label=5;case 5:return[2]}})})}function Yu(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_,S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:c=Pl(s),P.label=1;case 1:return P.trys.push([1,5,,6]),[4,(Q=c.localStore,me=r,Ke=je(Q),it=It.now(),kt=me.reduce(function(Pt,Kt){return Pt.add(Kt.key)},_r()),Ke.persistence.runTransaction("Locally write mutations","readwrite",function(Pt){return Ke.Mn.pn(Pt,kt).next(function(Kt){Ce=Kt;for(var Nn=[],jn=0,mr=me;jn<mr.length;jn++){var Tr=mr[jn],Vi=cr(Tr,Ce.get(Tr.key));null!=Vi&&Nn.push(new Fn(Tr.key,Vi,nn(Vi.value.mapValue),Ti.exists(!0)))}return Ke._n.addMutationBatch(Pt,it,Nn,me)})}).then(function(Pt){return Pt.applyToLocalDocumentSet(Ce),{batchId:Pt.batchId,changes:Ce}}))];case 2:return p=P.sent(),c.sharedClientState.addPendingMutation(p.batchId),function(Q,me,Ce){var Ke=Q.xo[Q.currentUser.toKey()];Ke||(Ke=new kr(Ve)),Ke=Ke.insert(me,Ce),Q.xo[Q.currentUser.toKey()]=Ke}(c,p.batchId,o),[4,tu(c,p.changes)];case 3:return P.sent(),[4,hu(c.remoteStore)];case 4:return P.sent(),[3,6];case 5:return _=P.sent(),S=Ho(_,"Failed to persist write"),o.reject(S),[3,6];case 6:return[2]}var Q,me,Ce,Ke,it,kt})})}function No(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c;return(0,E.__generator)(this,function(p){switch(p.label){case 0:o=je(s),p.label=1;case 1:return p.trys.push([1,4,,6]),[4,Xt(o.localStore,r)];case 2:return c=p.sent(),r.targetChanges.forEach(function(_,S){var P=o.Co.get(S);P&&(st(_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size<=1),_.addedDocuments.size>0?P.bo=!0:_.modifiedDocuments.size>0?st(P.bo):_.removedDocuments.size>0&&(st(P.bo),P.bo=!1))}),[4,tu(o,c,r)];case 3:return p.sent(),[3,6];case 4:return[4,bi(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}})})}function Zu(s,r,o){var c=je(s);if(c.isPrimaryClient&&0===o||!c.isPrimaryClient&&1===o){var p=[];c.Po.forEach(function(_,S){var P=S.view.zr(r);P.snapshot&&p.push(P.snapshot)}),function(_,S){var P=je(_);P.onlineState=S;var Q=!1;P.queries.forEach(function(me,Ce){for(var Ke=0,it=Ce.listeners;Ke<it.length;Ke++)it[Ke].zr(S)&&(Q=!0)}),Q&&ft(P)}(c.eventManager,r),p.length&&c.vo._r(p),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function sf(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_,S,P,Q;return(0,E.__generator)(this,function(me){switch(me.label){case 0:return(c=je(s)).sharedClientState.updateQueryState(r,"rejected",o),p=c.Co.get(r),(_=p&&p.key)?(S=(S=new kr(vt.comparator)).insert(_,Bn.newNoDocument(_,bt.min())),P=_r().add(_),Q=new bo(bt.min(),new Map,new Mr(Ve),S,P),[4,No(c,Q)]):[3,2];case 1:return me.sent(),c.Do=c.Do.remove(_),c.Co.delete(r),vc(c),[3,4];case 2:return[4,Os(c.localStore,r,!1).then(function(){return mc(c,r,o)}).catch(bi)];case 3:me.sent(),me.label=4;case 4:return[2]}})})}function af(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:o=je(s),c=r.batch.batchId,_.label=1;case 1:return _.trys.push([1,4,,6]),[4,$t(o.localStore,r)];case 2:return p=_.sent(),nl(o,c,null),Ea(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),[4,tu(o,p)];case 3:return _.sent(),[3,6];case 4:return[4,bi(_.sent())];case 5:return _.sent(),[3,6];case 6:return[2]}})})}function Cs(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:c=je(s),_.label=1;case 1:return _.trys.push([1,4,,6]),[4,(S=c.localStore,P=r,Q=je(S),Q.persistence.runTransaction("Reject batch","readwrite-primary",function(me){var Ce;return Q._n.lookupMutationBatch(me,P).next(function(Ke){return st(null!==Ke),Ce=Ke.keys(),Q._n.removeMutationBatch(me,Ke)}).next(function(){return Q._n.performConsistencyCheck(me)}).next(function(){return Q.Mn.pn(me,Ce)})}))];case 2:return p=_.sent(),nl(c,r,o),Ea(c,r),c.sharedClientState.updateMutationState(r,"rejected",o),[4,tu(c,p)];case 3:return _.sent(),[3,6];case 4:return[4,bi(_.sent())];case 5:return _.sent(),[3,6];case 6:return[2]}var S,P,Q})})}function Qu(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p,_,S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:Va((o=je(s)).remoteStore)||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,(Q=o.localStore,me=je(Q),me.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Ce){return me._n.getHighestUnacknowledgedBatchId(Ce)}))];case 2:return-1===(c=P.sent())?[2,void r.resolve()]:((p=o.ko.get(c)||[]).push(r),o.ko.set(c,p),[3,4]);case 3:return _=P.sent(),S=Ho(_,"Initialization of waitForPendingWrites() operation failed"),r.reject(S),[3,4];case 4:return[2]}var Q,me})})}function Ea(s,r){(s.ko.get(r)||[]).forEach(function(o){o.resolve()}),s.ko.delete(r)}function nl(s,r,o){var c=je(s),p=c.xo[c.currentUser.toKey()];if(p){var _=p.get(r);_&&(o?_.reject(o):_.resolve(),p=p.remove(r)),c.xo[c.currentUser.toKey()]=p}}function mc(s,r,o){void 0===o&&(o=null),s.sharedClientState.removeLocalQueryTarget(r);for(var c=0,p=s.Vo.get(r);c<p.length;c++){var _=p[c];s.Po.delete(_),o&&s.vo.Mo(_,o)}s.Vo.delete(r),s.isPrimaryClient&&s.No.Zn(r).forEach(function(S){s.No.containsKey(S)||rl(s,S)})}function rl(s,r){s.So.delete(r.path.canonicalString());var o=s.Do.get(r);null!==o&&(Ps(s.remoteStore,o),s.Do=s.Do.remove(r),s.Co.delete(o),vc(s))}function xc(s,r,o){for(var c=0,p=o;c<p.length;c++){var _=p[c];_ instanceof Si?(s.No.addReference(_.key,r),Nl(s,_)):_ instanceof gi?(k("SyncEngine","Document no longer in limbo: "+_.key),s.No.removeReference(_.key,r),s.No.containsKey(_.key)||rl(s,_.key)):De()}}function Nl(s,r){var o=r.key,c=o.path.canonicalString();s.Do.get(o)||s.So.has(c)||(k("SyncEngine","New document in limbo: "+o),s.So.add(c),vc(s))}function vc(s){for(;s.So.size>0&&s.Do.size<s.maxConcurrentLimboResolutions;){var r=s.So.values().next().value;s.So.delete(r);var o=new vt($e.fromString(r)),c=s.Fo.next();s.Co.set(c,new po(o)),s.Do=s.Do.insert(o,c),Ra(s.remoteStore,new es(Sr(Ln(o.path)),c,2,Pe.o))}}function tu(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_,S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:return c=je(s),p=[],_=[],S=[],c.Po.isEmpty()?[3,3]:(c.Po.forEach(function(Q,me){S.push(c.Oo(me,r,o).then(function(Ce){if(Ce){c.isPrimaryClient&&c.sharedClientState.updateQueryState(me.targetId,Ce.fromCache?"not-current":"current"),p.push(Ce);var Ke=$.Pn(me.targetId,Ce);_.push(Ke)}}))}),[4,Promise.all(S)]);case 1:return P.sent(),c.vo._r(p),[4,function(Q,me){return(0,E.__awaiter)(this,void 0,void 0,function(){var Ce,Ke,it,kt,Pt,Kt,Nn,mr;return(0,E.__generator)(this,function(Tr){switch(Tr.label){case 0:Ce=je(Q),Tr.label=1;case 1:return Tr.trys.push([1,3,,4]),[4,Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Vi){return sn.forEach(me,function(ci){return sn.forEach(ci.bn,function(yo){return Ce.persistence.referenceDelegate.addReference(Vi,ci.targetId,yo)}).next(function(){return sn.forEach(ci.vn,function(yo){return Ce.persistence.referenceDelegate.removeReference(Vi,ci.targetId,yo)})})})})];case 2:return Tr.sent(),[3,4];case 3:if(!Wo(Ke=Tr.sent()))throw Ke;return k("LocalStore","Failed to update sequence numbers: "+Ke),[3,4];case 4:for(it=0,kt=me;it<kt.length;it++)Kt=(Pt=kt[it]).targetId,Pt.fromCache||(Nn=Ce.kn.get(Kt),mr=Nn.withLastLimboFreeSnapshotVersion(Nn.snapshotVersion),Ce.kn=Ce.kn.insert(Kt,mr));return[2]}})})}(c.localStore,_)];case 2:P.sent(),P.label=3;case 3:return[2]}})})}function pu(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c;return(0,E.__generator)(this,function(p){switch(p.label){case 0:return(o=je(s)).currentUser.isEqual(r)?[3,3]:(k("SyncEngine","User change. New user:",r.toKey()),[4,ut(o.localStore,r)]);case 1:return c=p.sent(),o.currentUser=r,(_=o).ko.forEach(function(P){P.forEach(function(Q){Q.reject(new fe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ko.clear(),o.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),[4,tu(o,c.Ln)];case 2:p.sent(),p.label=3;case 3:return[2]}var _})})}function yc(s,r){var o=je(s),c=o.Co.get(r);if(c&&c.bo)return _r().add(c.key);var p=_r(),_=o.Vo.get(r);if(!_)return p;for(var S=0,P=_;S<P.length;S++){var me=o.Po.get(P[S]);p=p.unionWith(me.view.wo)}return p}function _c(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return[4,Gs((o=je(s)).localStore,r.query,!0)];case 1:return c=_.sent(),p=r.view.Ao(c),[2,(o.isPrimaryClient&&xc(o,r.targetId,p.To),p)]}})})}function il(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r;return(0,E.__generator)(this,function(o){return[2,ra((r=je(s)).localStore).then(function(c){return tu(r,c)})]})})}function Rf(s,r,o,c){return(0,E.__awaiter)(this,void 0,void 0,function(){var p,_;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return[4,(P=(p=je(s)).localStore,Q=r,me=je(P),Ce=je(me._n),me.persistence.runTransaction("Lookup mutation documents","readonly",function(Ke){return Ce.jt(Ke,Q).next(function(it){return it?me.Mn.pn(Ke,it):sn.resolve(null)})}))];case 1:return null===(_=S.sent())?[3,6]:"pending"!==o?[3,3]:[4,hu(p.remoteStore)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===o||"rejected"===o?(nl(p,r,c||null),Ea(p,r),function(P,Q){je(je(P)._n).Gt(Q)}(p.localStore,r)):De(),S.label=4;case 4:return[4,tu(p,_)];case 5:return S.sent(),[3,7];case 6:k("SyncEngine","Cannot apply mutation batch with id: "+r),S.label=7;case 7:return[2]}var P,Q,me,Ce})})}function Ml(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p,_,S,Q,me;return(0,E.__generator)(this,function(Ce){switch(Ce.label){case 0:return nu(o=je(s)),Pl(o),!0!==r||!0===o.$o?[3,3]:(c=o.sharedClientState.getAllActiveQueryTargets(),[4,gu(o,c.toArray())]);case 1:return p=Ce.sent(),o.$o=!0,[4,Na(o.remoteStore,!0)];case 2:for(Ce.sent(),_=0,S=p;_<S.length;_++)Ra(o.remoteStore,S[_]);return[3,7];case 3:return!1!==r||!1===o.$o?[3,7]:(Q=[],me=Promise.resolve(),o.Vo.forEach(function(Ke,it){o.sharedClientState.isLocalQueryTarget(it)?Q.push(it):me=me.then(function(){return mc(o,it),Os(o.localStore,it,!0)}),Ps(o.remoteStore,it)}),[4,me]);case 4:return Ce.sent(),[4,gu(o,Q)];case 5:return Ce.sent(),(it=je(o)).Co.forEach(function(kt,Pt){Ps(it.remoteStore,Pt)}),it.No.ts(),it.Co=new Map,it.Do=new kr(vt.comparator),o.$o=!1,[4,Na(o.remoteStore,!1)];case 6:Ce.sent(),Ce.label=7;case 7:return[2]}var it})})}function gu(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_,S,P,Q,me,Ce,Ke,it,Pt,Kt,Nn;return(0,E.__generator)(this,function(jn){switch(jn.label){case 0:c=je(s),p=[],_=[],S=0,P=r,jn.label=1;case 1:return S<P.length?(me=void 0,(Ce=c.Vo.get(Q=P[S]))&&0!==Ce.length?[4,Ei(c.localStore,Sr(Ce[0]))]:[3,7]):[3,13];case 2:me=jn.sent(),Ke=0,it=Ce,jn.label=3;case 3:return Ke<it.length?(Pt=c.Po.get(it[Ke]),[4,_c(c,Pt)]):[3,6];case 4:(Kt=jn.sent()).snapshot&&_.push(Kt.snapshot),jn.label=5;case 5:return Ke++,[3,3];case 6:return[3,11];case 7:return[4,ws(c.localStore,Q)];case 8:return Nn=jn.sent(),[4,Ei(c.localStore,Nn)];case 9:return me=jn.sent(),[4,zs(c,Ol(Nn),Q,!1)];case 10:jn.sent(),jn.label=11;case 11:p.push(me),jn.label=12;case 12:return S++,[3,1];case 13:return[2,(c.vo._r(_),p)]}})})}function Ol(s){return Sn(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Nc(s){var r=je(s);return je(je(r.localStore).persistence).fn()}function Mc(s,r,o,c){return(0,E.__awaiter)(this,void 0,void 0,function(){var p,_,S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:return(p=je(s)).$o?(k("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!p.Vo.has(r))return[3,8];switch(o){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ra(p.localStore)];case 3:return _=P.sent(),S=bo.createSynthesizedRemoteEventForCurrentChange(r,"current"===o),[4,tu(p,_,S)];case 4:return P.sent(),[3,8];case 5:return[4,Os(p.localStore,r,!0)];case 6:return P.sent(),mc(p,r,c),[3,8];case 7:De(),P.label=8;case 8:return[2]}})})}function uf(s,r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p,_,S,P,Q,me,Ce,Ke;return(0,E.__generator)(this,function(kt){switch(kt.label){case 0:if(!(c=nu(s)).$o)return[3,10];p=0,_=r,kt.label=1;case 1:return p<_.length?c.Vo.has(S=_[p])?(k("SyncEngine","Adding an already active target "+S),[3,5]):[4,ws(c.localStore,S)]:[3,6];case 2:return P=kt.sent(),[4,Ei(c.localStore,P)];case 3:return Q=kt.sent(),[4,zs(c,Ol(P),Q.targetId,!1)];case 4:kt.sent(),Ra(c.remoteStore,Q),kt.label=5;case 5:return p++,[3,1];case 6:me=function(Pt){return(0,E.__generator)(this,function(Kt){switch(Kt.label){case 0:return c.Vo.has(Pt)?[4,Os(c.localStore,Pt,!1).then(function(){Ps(c.remoteStore,Pt),mc(c,Pt)}).catch(bi)]:[3,2];case 1:Kt.sent(),Kt.label=2;case 2:return[2]}})},Ce=0,Ke=o,kt.label=7;case 7:return Ce<Ke.length?[5,me(Ke[Ce])]:[3,10];case 8:kt.sent(),kt.label=9;case 9:return Ce++,[3,7];case 10:return[2]}})})}function nu(s){var r=je(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=No.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=yc.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=sf.bind(null,r),r.vo._r=Oe.bind(null,r.eventManager),r.vo.Mo=ct.bind(null,r.eventManager),r}function Pl(s){var r=je(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=af.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=Cs.bind(null,r),r}function ld(s,r,o){var c=je(s);(function(p,_,S){return(0,E.__awaiter)(this,void 0,void 0,function(){var P,Q,me,Ce,Ke,it;return(0,E.__generator)(this,function(kt){switch(kt.label){case 0:return kt.trys.push([0,14,,15]),[4,_.getMetadata()];case 1:return P=kt.sent(),[4,(Pt=p.localStore,Kt=P,Nn=je(Pt),jn=re(Kt.createTime),Nn.persistence.runTransaction("hasNewerBundle","readonly",function(mr){return Nn.Ke.getBundleMetadata(mr,Kt.id)}).then(function(mr){return!!mr&&mr.createTime.compareTo(jn)>=0}))];case 2:return kt.sent()?[4,_.close()]:[3,4];case 3:return[2,(kt.sent(),void S._completeWith(function(Pt){return{taskState:"Success",documentsLoaded:Pt.totalDocuments,bytesLoaded:Pt.totalBytes,totalDocuments:Pt.totalDocuments,totalBytes:Pt.totalBytes}}(P)))];case 4:return S._updateProgress(Ur(P)),Q=new ar(P,p.localStore,_.R),[4,_.Lo()];case 5:me=kt.sent(),kt.label=6;case 6:return me?[4,Q.oo(me)]:[3,10];case 7:return(Ce=kt.sent())&&S._updateProgress(Ce),[4,_.Lo()];case 8:me=kt.sent(),kt.label=9;case 9:return[3,6];case 10:return[4,Q.complete()];case 11:return Ke=kt.sent(),[4,tu(p,Ke.wn,void 0)];case 12:return kt.sent(),[4,function(Pt,Kt){var Nn=je(Pt);return Nn.persistence.runTransaction("Save bundle","readwrite",function(jn){return Nn.Ke.saveBundleMetadata(jn,Kt)})}(p.localStore,P)];case 13:return kt.sent(),S._completeWith(Ke.progress),[3,15];case 14:return Ye("SyncEngine","Loading bundle failed with "+(it=kt.sent())),S._failWith(it),[3,15];case 15:return[2]}var Pt,Kt,Nn,jn})})})(c,r,o).then(function(){c.sharedClientState.notifyBundleLoaded()})}var cf=function(){function s(){this.synchronizeTabs=!1}return s.prototype.initialize=function(r){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(o){switch(o.label){case 0:return this.R=Wu(r.databaseInfo.databaseId),this.sharedClientState=this.Bo(r),this.persistence=this.qo(r),[4,this.persistence.start()];case 1:return o.sent(),this.gcScheduler=this.Uo(r),this.localStore=this.Ko(r),[2]}})})},s.prototype.Uo=function(r){return null},s.prototype.Ko=function(r){return We(this.persistence,new oe,r.initialUser,this.R)},s.prototype.qo=function(r){return new Za(Fa.bs,this.R)},s.prototype.Bo=function(r){return new tf},s.prototype.terminate=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){switch(r.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return r.sent(),[4,this.persistence.shutdown()];case 2:return r.sent(),[2]}})})},s}(),kl=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).Qo=o,_.cacheSizeBytes=c,_.forceOwnership=p,_.synchronizeTabs=!1,_}return(0,E.__extends)(r,s),r.prototype.initialize=function(o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c=this;return(0,E.__generator)(this,function(p){switch(p.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return p.sent(),[4,Qc(this.localStore)];case 2:return p.sent(),[4,this.Qo.initialize(this,o)];case 3:return p.sent(),[4,Pl(this.Qo.syncEngine)];case 4:return p.sent(),[4,hu(this.Qo.remoteStore)];case 5:return p.sent(),[4,this.persistence.He(function(){return c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()})];case 6:return p.sent(),[2]}})})},r.prototype.Ko=function(o){return We(this.persistence,new oe,o.initialUser,this.R)},r.prototype.Uo=function(o){return new us(this.persistence.referenceDelegate.garbageCollector,o.asyncQueue)},r.prototype.qo=function(o){var c=V(o.databaseInfo.databaseId,o.databaseInfo.persistenceKey),p=void 0!==this.cacheSizeBytes?hi.withCacheSize(this.cacheSizeBytes):hi.DEFAULT;return new Tu(this.synchronizeTabs,c,o.clientId,p,o.asyncQueue,Ja(),rs(),this.R,this.sharedClientState,!!this.forceOwnership)},r.prototype.Bo=function(o){return new tf},r}(cf),Oc=function(s){function r(o,c){var p=this;return(p=s.call(this,o,c,!1)||this).Qo=o,p.cacheSizeBytes=c,p.synchronizeTabs=!0,p}return(0,E.__extends)(r,s),r.prototype.initialize=function(o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c,p=this;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return _.sent(),c=this.Qo.syncEngine,this.sharedClientState instanceof qu?(this.sharedClientState.syncEngine={ui:Rf.bind(null,c),ai:Mc.bind(null,c),hi:uf.bind(null,c),fn:Nc.bind(null,c),ci:il.bind(null,c)},[4,this.sharedClientState.start()]):[3,3];case 2:_.sent(),_.label=3;case 3:return[4,this.persistence.He(function(S){return(0,E.__awaiter)(p,void 0,void 0,function(){return(0,E.__generator)(this,function(P){switch(P.label){case 0:return[4,Ml(this.Qo.syncEngine,S)];case 1:return P.sent(),this.gcScheduler&&(S&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):S||this.gcScheduler.stop()),[2]}})})})];case 4:return _.sent(),[2]}})})},r.prototype.Bo=function(o){var c=Ja();if(!qu.yt(c))throw new fe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var p=V(o.databaseInfo.databaseId,o.databaseInfo.persistenceKey);return new qu(c,o.asyncQueue,p,o.clientId,o.initialUser)},r}(kl),Ca=function(){function s(){}return s.prototype.initialize=function(r,o){return(0,E.__awaiter)(this,void 0,void 0,function(){var c=this;return(0,E.__generator)(this,function(p){switch(p.label){case 0:return this.localStore?[3,2]:(this.localStore=r.localStore,this.sharedClientState=r.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!r.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(_){return Zu(c.syncEngine,_,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pu.bind(null,this.syncEngine),[4,Na(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:p.sent(),p.label=2;case 2:return[2]}})})},s.prototype.createEventManager=function(r){return new G},s.prototype.createDatastore=function(r){var c=Wu(r.databaseInfo.databaseId),p=new oa(r.databaseInfo);return new of(r.credentials,p,c)},s.prototype.createRemoteStore=function(r){var o,c,p,_,S,P=this;return o=this.localStore,c=this.datastore,p=r.asyncQueue,_=function(Q){return Zu(P.syncEngine,Q,0)},S=rf.yt()?new rf:new nf,new ps(o,c,p,_,S)},s.prototype.createSyncEngine=function(r,o){return me=o,Ce=new pa(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions),me&&(Ce.$o=!0),Ce;var me,Ce},s.prototype.terminate=function(){return function(r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:return o=je(r),k("RemoteStore","RemoteStore shutting down."),o.Or.add(5),[4,gs(o)];case 1:return c.sent(),o.Lr.shutdown(),o.Br.set("Unknown"),[2]}})})}(this.remoteStore)},s}();function Fs(s,r){void 0===r&&(r=10240);var o=0;return{read:function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var c;return(0,E.__generator)(this,function(p){return o<s.byteLength?(c={value:s.slice(o,o+r),done:!1},[2,(o+=r,c)]):[2,{done:!0}]})})},cancel:function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(c){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ju=function(){function s(r){this.observer=r,this.muted=!1}return s.prototype.next=function(r){this.observer.next&&this.jo(this.observer.next,r)},s.prototype.error=function(r){this.observer.error?this.jo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)},s.prototype.Wo=function(){this.muted=!0},s.prototype.jo=function(r,o){var c=this;this.muted||setTimeout(function(){c.muted||r(o)},0)},s}(),Fl=function(){function s(r,o){var c=this;this.Go=r,this.R=o,this.metadata=new Bi,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(p){p&&p.io()?c.metadata.resolve(p.payload.metadata):c.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==p?void 0:p.payload)))},function(p){return c.metadata.reject(p)})}return s.prototype.close=function(){return this.Go.cancel()},s.prototype.getMetadata=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){return[2,this.metadata.promise]})})},s.prototype.Lo=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getMetadata()];case 1:return[2,(r.sent(),this.Ho())]}})})},s.prototype.Ho=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o,c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return[4,this.Jo()];case 1:return null===(r=_.sent())?[2,null]:(o=this.zo.decode(r),c=Number(o),isNaN(c)&&this.Yo("length string ("+o+") is not valid number"),[4,this.Xo(c)]);case 2:return p=_.sent(),[2,new en(JSON.parse(p),r.length+c)]}})})},s.prototype.Zo=function(){return this.buffer.findIndex(function(r){return r==="{".charCodeAt(0)})},s.prototype.Jo=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(c.sent())return[3,3];c.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((r=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),o=this.buffer.slice(0,r),[2,(this.buffer=this.buffer.slice(r),o)])}})})},s.prototype.Xo=function(r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:return this.buffer.length<r?[4,this.tc()]:[3,3];case 1:c.sent()&&this.Yo("Reached the end of bundle when more is expected."),c.label=2;case 2:return[3,0];case 3:return o=this.zo.decode(this.buffer.slice(0,r)),[2,(this.buffer=this.buffer.slice(r),o)]}})})},s.prototype.Yo=function(r){throw this.Go.cancel(),new Error("Invalid bundle format: "+r)},s.prototype.tc=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:return[4,this.Go.read()];case 1:return(r=c.sent()).done||((o=new Uint8Array(this.buffer.length+r.value.length)).set(this.buffer),o.set(r.value,this.buffer.length),this.buffer=o),[2,r.done]}})})},s}(),Xu=function(){function s(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return s.prototype.lookup=function(r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c=this;return(0,E.__generator)(this,function(p){switch(p.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new fe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(_,S){return(0,E.__awaiter)(this,void 0,void 0,function(){var P,Q,me,Ce,Ke,it;return(0,E.__generator)(this,function(kt){switch(kt.label){case 0:return P=je(_),Q=no(P.R)+"/documents",me={documents:S.map(function(Pt){return rn(P.R,Pt)})},[4,P.$i("BatchGetDocuments",Q,me)];case 1:return Ce=kt.sent(),Ke=new Map,Ce.forEach(function(Pt){var Nn,jn,Kt=(Nn=P.R,"found"in(jn=Pt)?function(mr,Tr){st(!!Tr.found);var Vi=On(mr,Tr.found.name),ci=re(Tr.found.updateTime),yo=new Tn({mapValue:{fields:Tr.found.fields}});return Bn.newFoundDocument(Vi,ci,yo)}(Nn,jn):"missing"in jn?function(mr,Tr){st(!!Tr.missing),st(!!Tr.readTime);var Vi=On(mr,Tr.missing),ci=re(Tr.readTime);return Bn.newNoDocument(Vi,ci)}(Nn,jn):De());Ke.set(Kt.key.toString(),Kt)}),it=[],[2,(S.forEach(function(Pt){var Kt=Ke.get(Pt.toString());st(!!Kt),it.push(Kt)}),it)]}})})}(this.datastore,r)];case 1:return[2,((o=p.sent()).forEach(function(_){return c.recordVersion(_)}),o)]}})})},s.prototype.set=function(r,o){this.write(o.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())},s.prototype.update=function(r,o){try{this.write(o.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())},s.prototype.delete=function(r){this.write(new Hr(r,this.precondition(r))),this.writtenDocs.add(r.toString())},s.prototype.commit=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o=this;return(0,E.__generator)(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return r=this.readVersions,this.mutations.forEach(function(p){r.delete(p.key.toString())}),r.forEach(function(p,_){var S=vt.fromPath(_);o.mutations.push(new mi(S,o.precondition(S)))}),[4,function(p,_){return(0,E.__awaiter)(this,void 0,void 0,function(){var S,P,Q;return(0,E.__generator)(this,function(me){switch(me.label){case 0:return S=je(p),P=no(S.R)+"/documents",Q={writes:_.map(function(Ce){return pe(S.R,Ce)})},[4,S.Ni("Commit",P,Q)];case 1:return me.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return c.sent(),this.committed=!0,[2]}})})},s.prototype.recordVersion=function(r){var o;if(r.isFoundDocument())o=r.version;else{if(!r.isNoDocument())throw De();o=bt.min()}var c=this.readVersions.get(r.key.toString());if(c){if(!o.isEqual(c))throw new fe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),o)},s.prototype.precondition=function(r){var o=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&o?Ti.updateTime(o):Ti.none()},s.prototype.preconditionForUpdate=function(r){var o=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&o){if(o.isEqual(bt.min()))throw new fe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ti.updateTime(o)}return Ti.exists(!0)},s.prototype.write=function(r){this.ensureCommitNotCalled(),this.mutations.push(r)},s.prototype.ensureCommitNotCalled=function(){},s}(),Ru=function(){function s(r,o,c,p){this.asyncQueue=r,this.datastore=o,this.updateFunction=c,this.deferred=p,this.ec=5,this.Zi=new el(this.asyncQueue,"transaction_retry")}return s.prototype.run=function(){this.ec-=1,this.nc()},s.prototype.nc=function(){var r=this;this.Zi.ji(function(){return(0,E.__awaiter)(r,void 0,void 0,function(){var o,c,p=this;return(0,E.__generator)(this,function(_){return o=new Xu(this.datastore),(c=this.sc(o))&&c.then(function(S){p.asyncQueue.enqueueAndForget(function(){return o.commit().then(function(){p.deferred.resolve(S)}).catch(function(P){p.ic(P)})})}).catch(function(S){p.ic(S)}),[2]})})})},s.prototype.sc=function(r){try{var o=this.updateFunction(r);return!_n(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(c){return this.deferred.reject(c),null}},s.prototype.ic=function(r){var o=this;this.ec>0&&this.rc(r)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return o.nc(),Promise.resolve()})):this.deferred.reject(r)},s.prototype.rc=function(r){if("FirebaseError"===r.name){var o=r.code;return"aborted"===o||"failed-precondition"===o||!Kr(o)}return!1},s}(),ol=function(){function s(r,o,c){var p=this;this.credentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=Bo.UNAUTHENTICATED,this.clientId=Me.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(o,function(_){return(0,E.__awaiter)(p,void 0,void 0,function(){return(0,E.__generator)(this,function(S){switch(S.label){case 0:return k("FirestoreClient","Received user=",_.uid),[4,this.credentialListener(_)];case 1:return S.sent(),this.user=_,[2]}})})})}return s.prototype.getConfiguration=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},s.prototype.setCredentialChangeListener=function(r){this.credentialListener=r},s.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new fe(le.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.terminate=function(){var r=this;this.asyncQueue.enterRestrictedMode();var o=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,E.__awaiter)(r,void 0,void 0,function(){var c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return _.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:_.sent(),_.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:_.sent(),_.label=4;case 4:return this.credentials.removeChangeListener(),o.resolve(),[3,6];case 5:return c=_.sent(),p=Ho(c,"Failed to shutdown persistence"),o.reject(p),[3,6];case 6:return[2]}})})}),o.promise},s}();function ec(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c,p=this;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return s.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider"),[4,s.getConfiguration()];case 1:return o=_.sent(),[4,r.initialize(o)];case 2:return _.sent(),c=o.initialUser,s.setCredentialChangeListener(function(S){return(0,E.__awaiter)(p,void 0,void 0,function(){return(0,E.__generator)(this,function(P){switch(P.label){case 0:return c.isEqual(S)?[3,2]:[4,ut(r.localStore,S)];case 1:P.sent(),c=S,P.label=2;case 2:return[2]}})})}),r.persistence.setDatabaseDeletedListener(function(){return s.terminate()}),s.offlineComponents=r,[2]}})})}function mu(s,r){return(0,E.__awaiter)(this,void 0,void 0,function(){var o,c;return(0,E.__generator)(this,function(p){switch(p.label){case 0:return s.asyncQueue.verifyOperationInProgress(),[4,Ll(s)];case 1:return o=p.sent(),k("FirestoreClient","Initializing OnlineComponentProvider"),[4,s.getConfiguration()];case 2:return c=p.sent(),[4,r.initialize(o,c)];case 3:return p.sent(),s.setCredentialChangeListener(function(_){return function(S,P){return(0,E.__awaiter)(this,void 0,void 0,function(){var Q,me;return(0,E.__generator)(this,function(Ce){switch(Ce.label){case 0:return(Q=je(S)).asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials"),me=Va(Q),Q.Or.add(3),[4,gs(Q)];case 1:return Ce.sent(),me&&Q.Br.set("Unknown"),[4,Q.remoteSyncer.handleCredentialChange(P)];case 2:return Ce.sent(),Q.Or.delete(3),[4,sa(Q)];case 3:return Ce.sent(),[2]}})})}(r.remoteStore,_)}),s.onlineComponents=r,[2]}})})}function Ll(s){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){switch(r.label){case 0:return s.offlineComponents?[3,2]:(k("FirestoreClient","Using default OfflineComponentProvider"),[4,ec(s,new cf)]);case 1:r.sent(),r.label=2;case 2:return[2,s.offlineComponents]}})})}function xu(s){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(r){switch(r.label){case 0:return s.onlineComponents?[3,2]:(k("FirestoreClient","Using default OnlineComponentProvider"),[4,mu(s,new Ca)]);case 1:r.sent(),r.label=2;case 2:return[2,s.onlineComponents]}})})}function xf(s){return Ll(s).then(function(r){return r.persistence})}function Vl(s){return Ll(s).then(function(r){return r.localStore})}function Nf(s){return xu(s).then(function(r){return r.remoteStore})}function Ul(s){return xu(s).then(function(r){return r.syncEngine})}function Ta(s){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,E.__generator)(this,function(c){switch(c.label){case 0:return[4,xu(s)];case 1:return r=c.sent(),[2,((o=r.eventManager).onListen=ga.bind(null,r.syncEngine),o.onUnlisten=Es.bind(null,r.syncEngine),o)]}})})}function Pc(s,r,o){var c=this;void 0===o&&(o={});var p=new Bi;return s.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(c,void 0,void 0,function(){var _;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return _=function(P,Q,me,Ce,Ke){var it=new Ju({next:function(Pt){Q.enqueueAndForget(function(){return he(P,kt)});var Kt=Pt.docs.has(me);!Kt&&Pt.fromCache?Ke.reject(new fe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):Kt&&Pt.fromCache&&Ce&&"server"===Ce.source?Ke.reject(new fe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ke.resolve(Pt)},error:function(Pt){return Ke.reject(Pt)}}),kt=new Wt(Ln(me.path),it,{includeMetadataChanges:!0,so:!0});return ae(P,kt)},[4,Ta(s)];case 1:return[2,_.apply(void 0,[S.sent(),s.asyncQueue,r,o,p])]}})})}),p.promise}function Ia(s,r,o){var c=this;void 0===o&&(o={});var p=new Bi;return s.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(c,void 0,void 0,function(){var _;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return _=function(P,Q,me,Ce,Ke){var it=new Ju({next:function(Pt){Q.enqueueAndForget(function(){return he(P,kt)}),Pt.fromCache&&"server"===Ce.source?Ke.reject(new fe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ke.resolve(Pt)},error:function(Pt){return Ke.reject(Pt)}}),kt=new Wt(me,it,{includeMetadataChanges:!0,so:!0});return ae(P,kt)},[4,Ta(s)];case 1:return[2,_.apply(void 0,[S.sent(),s.asyncQueue,r,o,p])]}})})}),p.promise}var tc=function(s,r,o,c,p,_,S,P){this.databaseId=s,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.useFetchStreams=P},kc=function(){function s(r,o){this.projectId=r,this.database=o||"(default)"}return Object.defineProperty(s.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return r instanceof s&&r.projectId===this.projectId&&r.database===this.database},s}(),Nu=new Map,Fc=function(s,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+s},Mf=function(){function s(){this.changeListener=null}return s.prototype.getToken=function(){return Promise.resolve(null)},s.prototype.invalidateToken=function(){},s.prototype.setChangeListener=function(r,o){this.changeListener=o,r.enqueueRetryable(function(){return o(Bo.UNAUTHENTICATED)})},s.prototype.removeChangeListener=function(){this.changeListener=null},s}(),Mu=function(){function s(r){this.token=r,this.changeListener=null}return s.prototype.getToken=function(){return Promise.resolve(this.token)},s.prototype.invalidateToken=function(){},s.prototype.setChangeListener=function(r,o){var c=this;this.changeListener=o,r.enqueueRetryable(function(){return o(c.token.user)})},s.prototype.removeChangeListener=function(){this.changeListener=null},s}(),wc=function(){function s(r){var o=this;this.currentUser=Bo.UNAUTHENTICATED,this.oc=new Bi,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){o.cc++,o.currentUser=o.ac(),o.oc.resolve(),o.changeListener&&o.asyncQueue.enqueueRetryable(function(){return o.changeListener(o.currentUser)})};var c=function(p){k("FirebaseCredentialsProvider","Auth detected"),o.auth=p,o.auth.addAuthTokenListener(o.uc)};r.onInit(function(p){return c(p)}),setTimeout(function(){if(!o.auth){var p=r.getImmediate({optional:!0});p?c(p):(k("FirebaseCredentialsProvider","Auth not yet detected"),o.oc.resolve())}},0)}return s.prototype.getToken=function(){var r=this,o=this.cc,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(function(p){return r.cc!==o?(k("FirebaseCredentialsProvider","getToken aborted due to token change."),r.getToken()):p?(st("string"==typeof p.accessToken),new Fc(p.accessToken,r.currentUser)):null}):Promise.resolve(null)},s.prototype.invalidateToken=function(){this.forceRefresh=!0},s.prototype.setChangeListener=function(r,o){var c=this;this.asyncQueue=r,this.asyncQueue.enqueueRetryable(function(){return(0,E.__awaiter)(c,void 0,void 0,function(){return(0,E.__generator)(this,function(p){switch(p.label){case 0:return[4,this.oc.promise];case 1:return p.sent(),[4,o(this.currentUser)];case 2:return p.sent(),this.changeListener=o,[2]}})})})},s.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},s.prototype.ac=function(){var r=this.auth&&this.auth.getUid();return st(null===r||"string"==typeof r),new Bo(r)},s}(),bc=function(){function s(r,o,c){this.hc=r,this.lc=o,this.fc=c,this.type="FirstParty",this.user=Bo.FIRST_PARTY}return Object.defineProperty(s.prototype,"authHeaders",{get:function(){var r={"X-Goog-AuthUser":this.lc},o=this.hc.auth.getAuthHeaderValueForFirstParty([]);return o&&(r.Authorization=o),this.fc&&(r["X-Goog-Iam-Authorization-Token"]=this.fc),r},enumerable:!1,configurable:!0}),s}(),Ks=function(){function s(r,o,c){this.hc=r,this.lc=o,this.fc=c}return s.prototype.getToken=function(){return Promise.resolve(new bc(this.hc,this.lc,this.fc))},s.prototype.setChangeListener=function(r,o){r.enqueueRetryable(function(){return o(Bo.FIRST_PARTY)})},s.prototype.removeChangeListener=function(){},s.prototype.invalidateToken=function(){},s}();function nc(s,r,o){if(!o)throw new fe(le.INVALID_ARGUMENT,"Function "+s+"() cannot be called with an empty "+r+".")}function ru(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new fe(le.INVALID_ARGUMENT,"Invalid options passed to function "+s+'(): You cannot specify both "merge" and "mergeFields".');return r}function sl(s,r,o,c){if(!0===r&&!0===c)throw new fe(le.INVALID_ARGUMENT,s+" and "+o+" cannot be used together.")}function Oa(s){if(!vt.isDocumentKey(s))throw new fe(le.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s+" has "+s.length+".")}function rc(s){if(vt.isDocumentKey(s))throw new fe(le.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+s+" has "+s.length+".")}function Ou(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=s.substring(0,20)+"..."),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";var r=function(o){if(o.constructor){var c=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(c&&c.length>1)return c[1]}return null}(s);return r?"a custom "+r+" object":"an object"}return"function"==typeof s?"a function":De()}function Ji(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new fe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var o=Ou(s);throw new fe(le.INVALID_ARGUMENT,"Expected type '"+r.name+"', but it was: "+o)}return s}function iu(s,r){if(r<=0)throw new fe(le.INVALID_ARGUMENT,"Function "+s+"() requires a positive number, but it was: "+r+".")}var al=function(){function s(r){var o;if(void 0===r.host){if(void 0!==r.ssl)throw new fe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(o=r.ssl)||void 0===o||o;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new fe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,sl("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}return s.prototype.isEqual=function(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams},s}(),ic=function(){function s(r,o){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new al({}),this._settingsFrozen=!1,r instanceof kc?(this._databaseId=r,this._credentials=new Mf):(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(c.options.projectId)}(r),this._credentials=new wc(o))}return Object.defineProperty(s.prototype,"app",{get:function(){if(!this._app)throw new fe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),s.prototype._setSettings=function(r){if(this._settingsFrozen)throw new fe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new al(r),void 0!==r.credentials&&(this._credentials=function(o){if(!o)return new Mf;switch(o.type){case"gapi":var c=o.client;return st(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Ks(c,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new fe(le.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))},s.prototype._getSettings=function(){return this._settings},s.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},s.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},s.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},s.prototype._terminate=function(){return(o=Nu.get(this))&&(k("ComponentProvider","Removing Datastore"),Nu.delete(this),o.terminate()),Promise.resolve();var o},s}(),Mo=function(){function s(r,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=r}return Object.defineProperty(s.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return new oc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(r){return new s(this.firestore,r,this._key)},s}(),Ts=function(){function s(r,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=r}return s.prototype.withConverter=function(r){return new s(this.firestore,r,this._query)},s}(),oc=function(s){function r(o,c,p){var _=this;return(_=s.call(this,o,c,Ln(p))||this)._path=p,_.type="collection",_}return(0,E.__extends)(r,s),Object.defineProperty(r.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){var o=this._path.popLast();return o.isEmpty()?null:new Mo(this.firestore,null,new vt(o))},enumerable:!1,configurable:!0}),r.prototype.withConverter=function(o){return new r(this.firestore,o,this._path)},r}(Ts);function Ko(s,r){for(var o,c=[],p=2;p<arguments.length;p++)c[p-2]=arguments[p];if(s=(0,b.getModularInstance)(s),nc("collection","path",r),s instanceof ic)return rc(o=$e.fromString.apply($e,(0,E.__spreadArray)([r],c))),new oc(s,null,o);if(!(s instanceof Mo||s instanceof oc))throw new fe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rc(o=$e.fromString.apply($e,(0,E.__spreadArray)([s.path],c)).child($e.fromString(r))),new oc(s.firestore,null,o)}function Lc(s,r){for(var o,c=[],p=2;p<arguments.length;p++)c[p-2]=arguments[p];if(s=(0,b.getModularInstance)(s),1===arguments.length&&(r=Me.u()),nc("doc","path",r),s instanceof ic)return Oa(o=$e.fromString.apply($e,(0,E.__spreadArray)([r],c))),new Mo(s,null,new vt(o));if(!(s instanceof Mo||s instanceof oc))throw new fe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oa(o=s._path.child($e.fromString.apply($e,(0,E.__spreadArray)([r],c)))),new Mo(s.firestore,s instanceof oc?s.converter:null,new vt(o))}function Vc(s,r){return s=(0,b.getModularInstance)(s),r=(0,b.getModularInstance)(r),(s instanceof Mo||s instanceof oc)&&(r instanceof Mo||r instanceof oc)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function ma(s,r){return s=(0,b.getModularInstance)(s),r=(0,b.getModularInstance)(r),s instanceof Ts&&r instanceof Ts&&s.firestore===r.firestore&&Gi(s._query,r._query)&&s.converter===r.converter}var sc=function(){function s(){var r=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new el(this,"async_queue_retry"),this.Ic=function(){var c=rs();c&&k("AsyncQueue","Visibility state changed to "+c.visibilityState),r.Zi.Gi()};var o=rs();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(s.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),s.prototype.enqueueAndForget=function(r){this.enqueue(r)},s.prototype.enqueueAndForgetEvenWhileRestricted=function(r){this.Ac(),this.Rc(r)},s.prototype.enterRestrictedMode=function(r){if(!this._c){this._c=!0,this.Ec=r||!1;var o=rs();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ic)}},s.prototype.enqueue=function(r){var o=this;if(this.Ac(),this._c)return new Promise(function(){});var c=new Bi;return this.Rc(function(){return o._c&&o.Ec?Promise.resolve():(r().then(c.resolve,c.reject),c.promise)}).then(function(){return c.promise})},s.prototype.enqueueRetryable=function(r){var o=this;this.enqueueAndForget(function(){return o.wc.push(r),o.bc()})},s.prototype.bc=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r,o=this;return(0,E.__generator)(this,function(c){switch(c.label){case 0:if(0===this.wc.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return c.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Wo(r=c.sent()))throw r;return k("AsyncQueue","Operation failed with retryable error: "+r),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return o.bc()}),c.label=5;case 5:return[2]}})})},s.prototype.Rc=function(r){var o=this,c=this.dc.then(function(){return o.gc=!0,r().catch(function(p){throw o.yc=p,o.gc=!1,Re("INTERNAL UNHANDLED ERROR: ",(S=(_=p).message||"",_.stack&&(S=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),S)),p;var _,S}).then(function(p){return o.gc=!1,p})});return this.dc=c,c},s.prototype.enqueueAfterDelay=function(r,o,c){var p=this;this.Ac(),this.Tc.indexOf(r)>-1&&(o=0);var _=Ma.createAndSchedule(this,r,o,c,function(S){return p.vc(S)});return this.mc.push(_),_},s.prototype.Ac=function(){this.yc&&De()},s.prototype.verifyOperationInProgress=function(){},s.prototype.Pc=function(){return(0,E.__awaiter)(this,void 0,void 0,function(){var r;return(0,E.__generator)(this,function(o){switch(o.label){case 0:return[4,r=this.dc];case 1:o.sent(),o.label=2;case 2:if(r!==this.dc)return[3,0];o.label=3;case 3:return[2]}})})},s.prototype.Vc=function(r){for(var o=0,c=this.mc;o<c.length;o++)if(c[o].timerId===r)return!0;return!1},s.prototype.Sc=function(r){var o=this;return this.Pc().then(function(){o.mc.sort(function(S,P){return S.targetTimeMs-P.targetTimeMs});for(var c=0,p=o.mc;c<p.length;c++){var _=p[c];if(_.skipDelay(),"all"!==r&&_.timerId===r)break}return o.Pc()})},s.prototype.Dc=function(r){this.Tc.push(r)},s.prototype.vc=function(r){var o=this.mc.indexOf(r);this.mc.splice(o,1)},s}();function Ls(s){return function(r,o){if("object"!=typeof r||null===r)return!1;for(var c=r,p=0,_=["next","error","complete"];p<_.length;p++){var S=_[p];if(S in c&&"function"==typeof c[S])return!0}return!1}(s)}var Of=function(){function s(){this._progressObserver={},this._taskCompletionResolver=new Bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return s.prototype.onProgress=function(r,o,c){this._progressObserver={next:r,error:o,complete:c}},s.prototype.catch=function(r){return this._taskCompletionResolver.promise.catch(r)},s.prototype.then=function(r,o){return this._taskCompletionResolver.promise.then(r,o)},s.prototype._completeWith=function(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)},s.prototype._failWith=function(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)},s.prototype._updateProgress=function(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)},s}(),Pf=-1,os=function(s){function r(o,c){var p=this;return(p=s.call(this,o,c)||this).type="firestore",p._queue=new sc,p._persistenceKey="name"in o?o.name:"[DEFAULT]",p}return(0,E.__extends)(r,s),r.prototype._terminate=function(){return this._firestoreClient||lf(this),this._firestoreClient.terminate()},r}(ic);function Is(s){return s._firestoreClient||lf(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function lf(s){var r,_,P,o=s._freezeSettings(),c=(_=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new tc(s._databaseId,_,s._persistenceKey,(P=o).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));s._firestoreClient=new ol(s._credentials,s._queue,c)}function Aa(s,r,o){var c=this,p=new Bi;return s.asyncQueue.enqueue(function(){return(0,E.__awaiter)(c,void 0,void 0,function(){var _;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),[4,ec(s,o)];case 1:return S.sent(),[4,mu(s,r)];case 2:return S.sent(),p.resolve(),[3,4];case 3:if(!("FirebaseError"===(P=_=S.sent()).name?P.code===le.FAILED_PRECONDITION||P.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&P instanceof DOMException)||22===P.code||20===P.code||11===P.code))throw _;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+_),p.reject(_),[3,4];case 4:return[2]}var P})})}).then(function(){return p.promise})}function Pu(s){if(s._initialized||s._terminated)throw new fe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ou=function(){function s(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];for(var c=0;c<r.length;++c)if(0===r[c].length)throw new fe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(r)}return s.prototype.isEqual=function(r){return this._internalPath.isEqual(r._internalPath)},s}(),ku=function(){function s(r){this._byteString=r}return s.fromBase64String=function(r){try{return new s(lt.fromBase64String(r))}catch(o){throw new fe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}},s.fromUint8Array=function(r){return new s(lt.fromUint8Array(r))},s.prototype.toBase64=function(){return this._byteString.toBase64()},s.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},s.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},s.prototype.isEqual=function(r){return this._byteString.isEqual(r._byteString)},s}(),Fu=function(s){this._methodName=s},Ec=function(){function s(r,o){if(!isFinite(r)||r<-90||r>90)throw new fe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(o)||o<-180||o>180)throw new fe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=r,this._long=o}return Object.defineProperty(s.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return this._lat===r._lat&&this._long===r._long},s.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},s.prototype._compareTo=function(r){return Ve(this._lat,r._lat)||Ve(this._long,r._long)},s}(),fd=/^__.*__$/,Vd=function(){function s(r,o,c){this.data=r,this.fieldMask=o,this.fieldTransforms=c}return s.prototype.toMutation=function(r,o){return null!==this.fieldMask?new Fn(r,this.data,this.fieldMask,o,this.fieldTransforms):new lr(r,this.data,o,this.fieldTransforms)},s}(),ul=function(){function s(r,o,c){this.data=r,this.fieldMask=o,this.fieldTransforms=c}return s.prototype.toMutation=function(r,o){return new Fn(r,this.data,this.fieldMask,o,this.fieldTransforms)},s}();function su(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}var ff=function(){function s(r,o,c,p,_,S){this.settings=r,this.databaseId=o,this.R=c,this.ignoreUndefinedProperties=p,void 0===_&&this.Cc(),this.fieldTransforms=_||[],this.fieldMask=S||[]}return Object.defineProperty(s.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),s.prototype.xc=function(r){return new s(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},s.prototype.kc=function(r){var o,c=null===(o=this.path)||void 0===o?void 0:o.child(r),p=this.xc({path:c,Fc:!1});return p.$c(r),p},s.prototype.Oc=function(r){var o,c=null===(o=this.path)||void 0===o?void 0:o.child(r),p=this.xc({path:c,Fc:!1});return p.Cc(),p},s.prototype.Mc=function(r){return this.xc({path:void 0,Fc:!0})},s.prototype.Lc=function(r){return hl(r,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},s.prototype.contains=function(r){return void 0!==this.fieldMask.find(function(o){return r.isPrefixOf(o)})||void 0!==this.fieldTransforms.find(function(o){return r.isPrefixOf(o.field)})},s.prototype.Cc=function(){if(this.path)for(var r=0;r<this.path.length;r++)this.$c(this.path.get(r))},s.prototype.$c=function(r){if(0===r.length)throw this.Lc("Document fields must not be empty");if(su(this.Nc)&&fd.test(r))throw this.Lc('Document fields cannot begin and end with "__"')},s}(),dd=function(){function s(r,o,c){this.databaseId=r,this.ignoreUndefinedProperties=o,this.R=c||Wu(r)}return s.prototype.Uc=function(r,o,c,p){return void 0===p&&(p=!1),new ff({Nc:r,methodName:o,qc:c,path:rt.emptyPath(),Fc:!1,Bc:p},this.databaseId,this.R,this.ignoreUndefinedProperties)},s}();function Ba(s){var r=s._freezeSettings(),o=Wu(s._databaseId);return new dd(s._databaseId,!!r.ignoreUndefinedProperties,o)}function Ys(s,r,o,c,p,_){void 0===_&&(_={});var S=s.Uc(_.merge||_.mergeFields?2:0,r,o,p);Cc("Data must be an object, but it was:",S,c);var P,Q,me=dl(c,S);if(_.merge)P=new _t(S.fieldMask),Q=S.fieldTransforms;else if(_.mergeFields){for(var Ce=[],Ke=0,it=_.mergeFields;Ke<it.length;Ke++){var kt=ms(r,it[Ke],o);if(!S.contains(kt))throw new fe(le.INVALID_ARGUMENT,"Field '"+kt+"' is specified in your field mask but missing from your input data.");Lf(Ce,kt)||Ce.push(kt)}P=new _t(Ce),Q=S.fieldTransforms.filter(function(Pt){return P.covers(Pt.field)})}else P=null,Q=S.fieldTransforms;return new Vd(new Tn(me),P,Q)}var cl=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype._toFieldTransform=function(o){if(2!==o.Nc)throw o.Lc(1===o.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return o.fieldMask.push(o.path),null},r.prototype.isEqual=function(o){return o instanceof r},r}(Fu);function kf(s,r,o){return new ff({Nc:3,qc:r.settings.qc,methodName:s._methodName,Fc:o},r.databaseId,r.R,r.ignoreUndefinedProperties)}var hd=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype._toFieldTransform=function(o){return new Yi(o.path,new sr)},r.prototype.isEqual=function(o){return o instanceof r},r}(Fu),pd=function(s){function r(o,c){var p=this;return(p=s.call(this,o)||this).Kc=c,p}return(0,E.__extends)(r,s),r.prototype._toFieldTransform=function(o){var c=kf(this,o,!0),p=this.Kc.map(function(S){return As(S,c)}),_=new Vn(p);return new Yi(o.path,_)},r.prototype.isEqual=function(o){return this===o},r}(Fu),ll=function(s){function r(o,c){var p=this;return(p=s.call(this,o)||this).Kc=c,p}return(0,E.__extends)(r,s),r.prototype._toFieldTransform=function(o){var c=kf(this,o,!0),p=this.Kc.map(function(S){return As(S,c)}),_=new ao(p);return new Yi(o.path,_)},r.prototype.isEqual=function(o){return this===o},r}(Fu),Ha=function(s){function r(o,c){var p=this;return(p=s.call(this,o)||this).Qc=c,p}return(0,E.__extends)(r,s),r.prototype._toFieldTransform=function(o){var c=new $r(o.R,Ui(o.R,this.Qc));return new Yi(o.path,c)},r.prototype.isEqual=function(o){return this===o},r}(Fu);function jl(s,r,o,c){var p=s.Uc(1,r,o);Cc("Data must be an object, but it was:",p,c);var _=[],S=Tn.empty();xn(c,function(Q,me){var Ce=df(r,Q,o);me=(0,b.getModularInstance)(me);var Ke=p.Oc(Ce);if(me instanceof cl)_.push(Ce);else{var it=As(me,Ke);null!=it&&(_.push(Ce),S.set(Ce,it))}});var P=new _t(_);return new ul(S,P,p.fieldTransforms)}function fl(s,r,o,c,p,_){var S=s.Uc(1,r,o),P=[ms(r,c,o)],Q=[p];if(_.length%2!=0)throw new fe(le.INVALID_ARGUMENT,"Function "+r+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var me=0;me<_.length;me+=2)P.push(ms(r,_[me])),Q.push(_[me+1]);for(var Ce=[],Ke=Tn.empty(),it=P.length-1;it>=0;--it)if(!Lf(Ce,P[it])){var kt=P[it],Pt=Q[it];Pt=(0,b.getModularInstance)(Pt);var Kt=S.Oc(kt);if(Pt instanceof cl)Ce.push(kt);else{var Nn=As(Pt,Kt);null!=Nn&&(Ce.push(kt),Ke.set(kt,Nn))}}var jn=new _t(Ce);return new ul(Ke,jn,S.fieldTransforms)}function Bl(s,r,o,c){return void 0===c&&(c=!1),As(o,s.Uc(c?4:3,r))}function As(s,r){if(ac(s=(0,b.getModularInstance)(s)))return Cc("Unsupported field value:",r,s),dl(s,r);if(s instanceof Fu)return function(o,c){if(!su(c.Nc))throw c.Lc(o._methodName+"() can only be used with update() and set()");if(!c.path)throw c.Lc(o._methodName+"() is not currently supported inside arrays");var p=o._toFieldTransform(c);p&&c.fieldTransforms.push(p)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.Fc&&4!==r.Nc)throw r.Lc("Nested arrays are not supported");return function(o,c){for(var p=[],_=0,S=0,P=o;S<P.length;S++){var Q=As(P[S],c.Mc(_));null==Q&&(Q={nullValue:"NULL_VALUE"}),p.push(Q),_++}return{arrayValue:{values:p}}}(s,r)}return function(o,c){if(null===(o=(0,b.getModularInstance)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ui(c.R,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){var p=It.fromDate(o);return{timestampValue:ge(c.R,p)}}if(o instanceof It)return p=new It(o.seconds,1e3*Math.floor(o.nanoseconds/1e3)),{timestampValue:ge(c.R,p)};if(o instanceof Ec)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ku)return{bytesValue:ne(c.R,o._byteString)};if(o instanceof Mo){var _=o.firestore._databaseId;if(!_.isEqual(p=c.databaseId))throw c.Lc("Document reference is for database "+_.projectId+"/"+_.database+" but should be for database "+p.projectId+"/"+p.database);return{referenceValue:Le(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c.Lc("Unsupported field value: "+Ou(o))}(s,r)}function dl(s,r){var o={};return Wn(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):xn(s,function(c,p){var _=As(p,r.kc(c));null!=_&&(o[c]=_)}),{mapValue:{fields:o}}}function ac(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof It||s instanceof Ec||s instanceof ku||s instanceof Mo||s instanceof Fu)}function Cc(s,r,o){if(!ac(o)||"object"!=typeof(p=o)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){var c=Ou(o);throw r.Lc("an object"===c?s+" a custom object":s+" "+c)}var p}function ms(s,r,o){if((r=(0,b.getModularInstance)(r))instanceof ou)return r._internalPath;if("string"==typeof r)return df(s,r);throw hl("Field path arguments must be of type string or FieldPath.",s,!1,void 0,o)}var Ff=new RegExp("[~\\*/\\[\\]]");function df(s,r,o){if(r.search(Ff)>=0)throw hl("Invalid field path ("+r+"). Paths must not contain '~', '*', '/', '[', or ']'",s,!1,void 0,o);try{return(new(ou.bind.apply(ou,(0,E.__spreadArray)([void 0],r.split(".")))))._internalPath}catch(c){throw hl("Invalid field path ("+r+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",s,!1,void 0,o)}}function hl(s,r,o,c,p){var _=c&&!c.isEmpty(),S=void 0!==p,P="Function "+r+"() called with invalid data";o&&(P+=" (via `toFirestore()`)");var Q="";return(_||S)&&(Q+=" (found",_&&(Q+=" in field "+c),S&&(Q+=" in document "+p),Q+=")"),new fe(le.INVALID_ARGUMENT,(P+=". ")+s+Q)}function Lf(s,r){return s.some(function(o){return o.isEqual(r)})}var Uc=function(){function s(r,o,c,p,_){this._firestore=r,this._userDataWriter=o,this._key=c,this._document=p,this._converter=_}return Object.defineProperty(s.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ref",{get:function(){return new Mo(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),s.prototype.exists=function(){return null!==this._document},s.prototype.data=function(){if(this._document){if(this._converter){var r=new gd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}},s.prototype.get=function(r){if(this._document){var o=this._document.data.field(pl("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o)}},s}(),gd=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype.data=function(){return s.prototype.data.call(this)},r}(Uc);function pl(s,r){return"string"==typeof r?df(s,r):r instanceof ou?r._internalPath:r._delegate._internalPath}var Tc=function(){function s(r,o){this.hasPendingWrites=r,this.fromCache=o}return s.prototype.isEqual=function(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache},s}(),Lu=function(s){function r(o,c,p,_,S,P){var Q=this;return(Q=s.call(this,o,c,p,_,P)||this)._firestore=o,Q._firestoreImpl=o,Q.metadata=S,Q}return(0,E.__extends)(r,s),r.prototype.exists=function(){return s.prototype.exists.call(this)},r.prototype.data=function(o){if(void 0===o&&(o={}),this._document){if(this._converter){var c=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,o)}return this._userDataWriter.convertValue(this._document.data.value,o.serverTimestamps)}},r.prototype.get=function(o,c){if(void 0===c&&(c={}),this._document){var p=this._document.data.field(pl("DocumentSnapshot.get",o));if(null!==p)return this._userDataWriter.convertValue(p,c.serverTimestamps)}},r}(Uc),Hl=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype.data=function(o){return void 0===o&&(o={}),s.prototype.data.call(this,o)},r}(Lu),Vu=function(){function s(r,o,c,p){this._firestore=r,this._userDataWriter=o,this._snapshot=p,this.metadata=new Tc(p.hasPendingWrites,p.fromCache),this.query=c}return Object.defineProperty(s.prototype,"docs",{get:function(){var r=[];return this.forEach(function(o){return r.push(o)}),r},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(r,o){var c=this;this._snapshot.docs.forEach(function(p){r.call(o,new Hl(c._firestore,c._userDataWriter,p.key,p,new Tc(c._snapshot.mutatedKeys.has(p.key),c._snapshot.fromCache),c.query.converter))})},s.prototype.docChanges=function(r){void 0===r&&(r={});var o=!!r.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new fe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(c,p){if(c._snapshot.oldDocs.isEmpty()){var _=0;return c._snapshot.docChanges.map(function(P){return{type:"added",doc:new Hl(c._firestore,c._userDataWriter,P.doc.key,P.doc,new Tc(c._snapshot.mutatedKeys.has(P.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}})}var S=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(function(P){return p||3!==P.type}).map(function(P){var Q=new Hl(c._firestore,c._userDataWriter,P.doc.key,P.doc,new Tc(c._snapshot.mutatedKeys.has(P.doc.key),c._snapshot.fromCache),c.query.converter),me=-1,Ce=-1;return 0!==P.type&&(me=S.indexOf(P.doc.key),S=S.delete(P.doc.key)),1!==P.type&&(Ce=(S=S.add(P.doc)).indexOf(P.doc.key)),{type:md(P.type),doc:Q,oldIndex:me,newIndex:Ce}})}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges},s}();function md(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}function Vf(s,r){return s instanceof Lu&&r instanceof Lu?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof Vu&&r instanceof Vu&&s._firestore===r._firestore&&ma(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function Uf(s){if(nr(s)&&0===s.explicitOrderBy.length)throw new fe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vu=function(){};function cs(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];for(var c=0,p=r;c<p.length;c++){var _=p[c];s=_._apply(s)}return s}var vd=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).jc=o,_.Wc=c,_.Gc=p,_.type="where",_}return(0,E.__extends)(r,s),r.prototype._apply=function(o){var _,P,c=Ba(o.firestore),p=function(_,S,P,Q,me,Ce,Ke){var it;if(me.isKeyField()){if("array-contains"===Ce||"array-contains-any"===Ce)throw new fe(le.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+Ce+"' queries on FieldPath.documentId().");if("in"===Ce||"not-in"===Ce){Bf(Ke,Ce);for(var kt=[],Pt=0,Kt=Ke;Pt<Kt.length;Pt++)kt.push(ql(Q,_,Kt[Pt]));it={arrayValue:{values:kt}}}else it=ql(Q,_,Ke)}else"in"!==Ce&&"not-in"!==Ce&&"array-contains-any"!==Ce||Bf(Ke,Ce),it=Bl(P,"where",Ke,"in"===Ce||"not-in"===Ce);var jn=Bt.create(me,Ce,it);return function(mr,Tr){if(Tr.g()){var Vi=zn(mr);if(null!==Vi&&!Vi.isEqual(Tr.field))throw new fe(le.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Vi.toString()+"' and '"+Tr.field.toString()+"'");var ci=Lr(mr);null!==ci&&hf(0,Tr.field,ci)}var yo=function(Vs,qf){for(var gf=0,Ud=Vs.filters;gf<Ud.length;gf++){var Wf=Ud[gf];if(qf.indexOf(Wf.op)>=0)return Wf.op}return null}(mr,function(Vs){switch(Vs){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tr.op));if(null!==yo)throw new fe(le.INVALID_ARGUMENT,yo===Tr.op?"Invalid query. You cannot use more than one '"+Tr.op.toString()+"' filter.":"Invalid query. You cannot use '"+Tr.op.toString()+"' filters with '"+yo.toString()+"' filters.")}(_,jn),jn}(o._query,0,c,o.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ts(o.firestore,o.converter,(P=(_=o._query).filters.concat([p]),new Ht(_.path,_.collectionGroup,_.explicitOrderBy.slice(),P,_.limit,_.limitType,_.startAt,_.endAt)))},r}(vu),jc=function(s){function r(o,c){var p=this;return(p=s.call(this)||this).jc=o,p.zc=c,p.type="orderBy",p}return(0,E.__extends)(r,s),r.prototype._apply=function(o){var p,S,c=function(p,_,S){if(null!==p.startAt)throw new fe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==p.endAt)throw new fe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var P=new Te(_,S);return function(Q,me){if(null===Lr(Q)){var Ce=zn(Q);null!==Ce&&hf(0,Ce,me.field)}}(p,P),P}(o._query,this.jc,this.zc);return new Ts(o.firestore,o.converter,(S=(p=o._query).explicitOrderBy.concat([c]),new Ht(p.path,p.collectionGroup,S,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)))},r}(vu),Bc=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).type=o,_.Hc=c,_.Jc=p,_}return(0,E.__extends)(r,s),r.prototype._apply=function(o){return new Ts(o.firestore,o.converter,li(o._query,this.Hc,this.Jc))},r}(vu),jf=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).type=o,_.Yc=c,_.Xc=p,_}return(0,E.__extends)(r,s),r.prototype._apply=function(o){var p,_,c=Gl(o,this.type,this.Yc,this.Xc);return new Ts(o.firestore,o.converter,(_=c,new Ht((p=o._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,_,p.endAt)))},r}(vu),Ga=function(s){function r(o,c,p){var _=this;return(_=s.call(this)||this).type=o,_.Yc=c,_.Xc=p,_}return(0,E.__extends)(r,s),r.prototype._apply=function(o){var p,_,c=Gl(o,this.type,this.Yc,this.Xc);return new Ts(o.firestore,o.converter,(_=c,new Ht((p=o._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,_)))},r}(vu);function Gl(s,r,o,c){if(o[0]=(0,b.getModularInstance)(o[0]),o[0]instanceof Uc)return function(_,S,P,Q,me){if(!Q)throw new fe(le.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+P+"().");for(var Ce=[],Ke=0,it=Wr(_);Ke<it.length;Ke++){var kt=it[Ke];if(kt.field.isKeyField())Ce.push(kn(S,Q.key));else{var Pt=Q.data.field(kt.field);if(fn(Pt))throw new fe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+kt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pt){var Kt=kt.field.canonicalString();throw new fe(le.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Kt+"' (used as the orderBy) does not exist.")}Ce.push(Pt)}}return new gt(Ce,me)}(s._query,s.firestore._databaseId,r,o[0]._document,c);var p=Ba(s.firestore);return function(_,S,P,Q,me,Ce){var Ke=_.explicitOrderBy;if(me.length>Ke.length)throw new fe(le.INVALID_ARGUMENT,"Too many arguments provided to "+Q+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var it=[],kt=0;kt<me.length;kt++){var Pt=me[kt];if(Ke[kt].field.isKeyField()){if("string"!=typeof Pt)throw new fe(le.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Q+"(), but got a "+typeof Pt);if(!Hi(_)&&-1!==Pt.indexOf("/"))throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Q+"() must be a plain document ID, but '"+Pt+"' contains a slash.");var Kt=_.path.child($e.fromString(Pt));if(!vt.isDocumentKey(Kt))throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Q+"() must result in a valid document path, but '"+Kt+"' is not because it contains an odd number of segments.");var Nn=new vt(Kt);it.push(kn(S,Nn))}else{var jn=Bl(P,Q,Pt);it.push(jn)}}return new gt(it,Ce)}(s._query,s.firestore._databaseId,p,r,o,c)}function ql(s,r,o){if("string"==typeof(o=(0,b.getModularInstance)(o))){if(""===o)throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hi(r)&&-1!==o.indexOf("/"))throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+o+"' contains a '/' character.");var c=r.path.child($e.fromString(o));if(!vt.isDocumentKey(c))throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+c+"' is not because it has an odd number of segments ("+c.length+").");return kn(s,new vt(c))}if(o instanceof Mo)return kn(s,o._key);throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ou(o)+".")}function Bf(s,r){if(!Array.isArray(s)||0===s.length)throw new fe(le.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+r.toString()+"' filters.");if(s.length>10)throw new fe(le.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters support a maximum of 10 elements in the value array.")}function hf(s,r,o){if(!o.isEqual(r))throw new fe(le.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+r.toString()+"' and so you must also use '"+r.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+o.toString()+"' instead.")}var Ic=function(){function s(){}return s.prototype.convertValue=function(r,o){switch(void 0===o&&(o="none"),Et(r)){case 0:return null;case 1:return r.booleanValue;case 2:return yn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,o);case 5:return r.stringValue;case 6:return this.convertBytes(un(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,o);case 10:return this.convertObject(r.mapValue,o);default:throw De()}},s.prototype.convertObject=function(r,o){var c=this,p={};return xn(r.fields,function(_,S){p[_]=c.convertValue(S,o)}),p},s.prototype.convertGeoPoint=function(r){return new Ec(yn(r.latitude),yn(r.longitude))},s.prototype.convertArray=function(r,o){var c=this;return(r.values||[]).map(function(p){return c.convertValue(p,o)})},s.prototype.convertServerTimestamp=function(r,o){switch(o){case"previous":var c=dn(r);return null==c?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(Zt(r));default:return null}},s.prototype.convertTimestamp=function(r){var o=Ut(r);return new It(o.seconds,o.nanos)},s.prototype.convertDocumentKey=function(r,o){var c=$e.fromString(r);st(Fi(c));var p=new kc(c.get(1),c.get(3)),_=new vt(c.popFirst(5));return p.isEqual(o)||Re("Document "+_+" contains a document reference within a different database ("+p.projectId+"/"+p.database+") which is not supported. It will be treated as a reference in the current database ("+o.projectId+"/"+o.database+") instead."),_},s}();function gl(s,r,o){return s?o&&(o.merge||o.mergeFields)?s.toFirestore(r,o):s.toFirestore(r):r}var Hf=function(s){function r(o){var c=this;return(c=s.call(this)||this).firestore=o,c}return(0,E.__extends)(r,s),r.prototype.convertBytes=function(o){return new ku(o)},r.prototype.convertReference=function(o){var c=this.convertDocumentKey(o,this.firestore._databaseId);return new Mo(this.firestore,null,c)},r}(Ic),Wl=function(){function s(r,o){this._firestore=r,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Ba(r)}return s.prototype.set=function(r,o,c){this._verifyNotCommitted();var p=yu(r,this._firestore),_=gl(p.converter,o,c),S=Ys(this._dataReader,"WriteBatch.set",p._key,_,null!==p.converter,c);return this._mutations.push(S.toMutation(p._key,Ti.none())),this},s.prototype.update=function(r,o,c){for(var p=[],_=3;_<arguments.length;_++)p[_-3]=arguments[_];this._verifyNotCommitted();var S,P=yu(r,this._firestore);return S="string"==typeof(o=(0,b.getModularInstance)(o))||o instanceof ou?fl(this._dataReader,"WriteBatch.update",P._key,o,c,p):jl(this._dataReader,"WriteBatch.update",P._key,o),this._mutations.push(S.toMutation(P._key,Ti.exists(!0))),this},s.prototype.delete=function(r){this._verifyNotCommitted();var o=yu(r,this._firestore);return this._mutations=this._mutations.concat(new Hr(o._key,Ti.none())),this},s.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},s.prototype._verifyNotCommitted=function(){if(this._committed)throw new fe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},s}();function yu(s,r){if((s=(0,b.getModularInstance)(s)).firestore!==r)throw new fe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}var uc=function(s){function r(o){var c=this;return(c=s.call(this)||this).firestore=o,c}return(0,E.__extends)(r,s),r.prototype.convertBytes=function(o){return new ku(o)},r.prototype.convertReference=function(o){var c=this.convertDocumentKey(o,this.firestore._databaseId);return new Mo(this.firestore,null,c)},r}(Ic);function yd(s,r,o){for(var c=[],p=3;p<arguments.length;p++)c[p-3]=arguments[p];s=Ji(s,Mo);var _=Ji(s.firestore,os),S=Ba(_);return ui(_,[("string"==typeof(r=(0,b.getModularInstance)(r))||r instanceof ou?fl(S,"updateDoc",s._key,r,o,c):jl(S,"updateDoc",s._key,r)).toMutation(s._key,Ti.exists(!0))])}function Ac(s){for(var r,o,c,p=[],_=1;_<arguments.length;_++)p[_-1]=arguments[_];s=(0,b.getModularInstance)(s);var S={includeMetadataChanges:!1},P=0;"object"!=typeof p[P]||Ls(p[P])||(S=p[P],P++);var Q,me,Ce,Ke={includeMetadataChanges:S.includeMetadataChanges};if(Ls(p[P])){var it=p[P];p[P]=null===(r=it.next)||void 0===r?void 0:r.bind(it),p[P+1]=null===(o=it.error)||void 0===o?void 0:o.bind(it),p[P+2]=null===(c=it.complete)||void 0===c?void 0:c.bind(it)}if(s instanceof Mo)me=Ji(s.firestore,os),Ce=Ln(s._key.path),Q={next:function(Kt){p[P]&&p[P](ml(me,s,Kt))},error:p[P+1],complete:p[P+2]};else{var kt=Ji(s,Ts);me=Ji(kt.firestore,os),Ce=kt._query;var Pt=new uc(me);Q={next:function(Kt){p[P]&&p[P](new Vu(me,Pt,kt,Kt))},error:p[P+1],complete:p[P+2]},Uf(s._query)}return function(Kt,Nn,jn,mr){var Tr=this,Vi=new Ju(mr),ci=new Wt(Nn,Vi,jn);return Kt.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(Tr,void 0,void 0,function(){var yo;return(0,E.__generator)(this,function(Vs){switch(Vs.label){case 0:return yo=ae,[4,Ta(Kt)];case 1:return[2,yo.apply(void 0,[Vs.sent(),ci])]}})})}),function(){Vi.Wo(),Kt.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(Tr,void 0,void 0,function(){var yo;return(0,E.__generator)(this,function(Vs){switch(Vs.label){case 0:return yo=he,[4,Ta(Kt)];case 1:return[2,yo.apply(void 0,[Vs.sent(),ci])]}})})})}}(Is(me),Ce,Ke,Q)}function ui(s,r){return function(o,c){var p=this,_=new Bi;return o.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(p,void 0,void 0,function(){var S;return(0,E.__generator)(this,function(P){switch(P.label){case 0:return S=Yu,[4,Ul(o)];case 1:return[2,S.apply(void 0,[P.sent(),c,_])]}})})}),_.promise}(Is(s),r)}function ml(s,r,o){var c=o.docs.get(r._key),p=new uc(s);return new Lu(s,p,r._key,c,new Tc(o.hasPendingWrites,o.fromCache),r.converter)}var pf=function(s){function r(o,c){var p=this;return(p=s.call(this,o,c)||this)._firestore=o,p}return(0,E.__extends)(r,s),r.prototype.get=function(o){var c=this,p=yu(o,this._firestore),_=new uc(this._firestore);return s.prototype.get.call(this,o).then(function(S){return new Lu(c._firestore,_,p._key,S._document,new Tc(!1,!1),p.converter)})},r}(function(){function s(r,o){this._firestore=r,this._transaction=o,this._dataReader=Ba(r)}return s.prototype.get=function(r){var o=this,c=yu(r,this._firestore),p=new Hf(this._firestore);return this._transaction.lookup([c._key]).then(function(_){if(!_||1!==_.length)return De();var S=_[0];if(S.isFoundDocument())return new Uc(o._firestore,p,S.key,S,c.converter);if(S.isNoDocument())return new Uc(o._firestore,p,c._key,null,c.converter);throw De()})},s.prototype.set=function(r,o,c){var p=yu(r,this._firestore),_=gl(p.converter,o,c),S=Ys(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,c);return this._transaction.set(p._key,S),this},s.prototype.update=function(r,o,c){for(var p=[],_=3;_<arguments.length;_++)p[_-3]=arguments[_];var S,P=yu(r,this._firestore);return S="string"==typeof(o=(0,b.getModularInstance)(o))||o instanceof ou?fl(this._dataReader,"Transaction.update",P._key,o,c,p):jl(this._dataReader,"Transaction.update",P._key,o),this._transaction.update(P._key,S),this},s.prototype.delete=function(r){var o=yu(r,this._firestore);return this._transaction.delete(o._key),this},s}());function $l(){if("undefined"==typeof Uint8Array)throw new fe(le.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gf(){if("undefined"==typeof atob)throw new fe(le.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var f=function(){function s(r){this._delegate=r}return s.fromBase64String=function(r){return Gf(),new s(ku.fromBase64String(r))},s.fromUint8Array=function(r){return $l(),new s(ku.fromUint8Array(r))},s.prototype.toBase64=function(){return Gf(),this._delegate.toBase64()},s.prototype.toUint8Array=function(){return $l(),this._delegate.toUint8Array()},s.prototype.isEqual=function(r){return this._delegate.isEqual(r._delegate)},s.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},s}(),l=function(){function s(){}return s.prototype.enableIndexedDbPersistence=function(r,o){return function(c,p){Pu(c=Ji(c,os));var _=Is(c),S=c._freezeSettings(),P=new Ca;return Aa(_,P,new kl(P,S.cacheSizeBytes,null==p?void 0:p.forceOwnership))}(r._delegate,{forceOwnership:o})},s.prototype.enableMultiTabIndexedDbPersistence=function(r){return function(o){Pu(o=Ji(o,os));var c=Is(o),p=o._freezeSettings(),_=new Ca;return Aa(c,_,new Oc(_,p.cacheSizeBytes))}(r._delegate)},s.prototype.clearIndexedDbPersistence=function(r){return function(o){var c=this;if(o._initialized&&!o._terminated)throw new fe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var p=new Bi;return o._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,E.__awaiter)(c,void 0,void 0,function(){var _;return(0,E.__generator)(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,function(P){return(0,E.__awaiter)(this,void 0,void 0,function(){return(0,E.__generator)(this,function(me){switch(me.label){case 0:return _i.yt()?[4,_i.delete(P+"main")]:[2,Promise.resolve()];case 1:return me.sent(),[2]}})})}(V(o._databaseId,o._persistenceKey))];case 1:return S.sent(),p.resolve(),[3,3];case 2:return _=S.sent(),p.reject(_),[3,3];case 3:return[2]}})})}),p.promise}(r._delegate)},s}(),h=function(){function s(r,o,c){var p=this;this._delegate=o,this.Zc=c,this.INTERNAL={delete:function(){return p.terminate()}},r instanceof kc||(this.tu=r)}return Object.defineProperty(s.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),s.prototype.settings=function(r){var o=this._delegate._getSettings();r.merge||o.host===r.host||Ye("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},o),r)).merge,this._delegate._setSettings(r)},s.prototype.useEmulator=function(r,o,c){void 0===c&&(c={}),function(p,_,S,P){var Q;void 0===P&&(P={});var me=(p=Ji(p,ic))._getSettings();if("firestore.googleapis.com"!==me.host&&me.host!==_&&Ye("Host has been set in both settings() and useEmulator(), emulator host will be used"),p._setSettings(Object.assign(Object.assign({},me),{host:_+":"+S,ssl:!1})),P.mockUserToken){var Ce,Ke;if("string"==typeof P.mockUserToken)Ce=P.mockUserToken,Ke=Bo.MOCK_USER;else{Ce=(0,b.createMockUserToken)(P.mockUserToken,null===(Q=p._app)||void 0===Q?void 0:Q.options.projectId);var it=P.mockUserToken.sub||P.mockUserToken.user_id;if(!it)throw new fe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Ke=new Bo(it)}p._credentials=new Mu(new Fc(Ce,Ke))}}(this._delegate,r,o,c)},s.prototype.enableNetwork=function(){return function(r){var o=this;return r.asyncQueue.enqueue(function(){return(0,E.__awaiter)(o,void 0,void 0,function(){var c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return[4,xf(r)];case 1:return c=_.sent(),[4,Nf(r)];case 2:return p=_.sent(),[2,(c.setNetworkEnabled(!0),S=p,P=je(S),P.Or.delete(0),sa(P))]}var S,P})})})}(Is(Ji(this._delegate,os)))},s.prototype.disableNetwork=function(){return function(r){var o=this;return r.asyncQueue.enqueue(function(){return(0,E.__awaiter)(o,void 0,void 0,function(){var c,p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return[4,xf(r)];case 1:return c=_.sent(),[4,Nf(r)];case 2:return p=_.sent(),[2,(c.setNetworkEnabled(!1),function(S){return(0,E.__awaiter)(this,void 0,void 0,function(){var P;return(0,E.__generator)(this,function(Q){switch(Q.label){case 0:return(P=je(S)).Or.add(0),[4,gs(P)];case 1:return Q.sent(),P.Br.set("Offline"),[2]}})})}(p))]}})})})}(Is(Ji(this._delegate,os)))},s.prototype.enablePersistence=function(r){var o=!1,c=!1;return r&&sl("synchronizeTabs",o=!!r.synchronizeTabs,"experimentalForceOwningTab",c=!!r.experimentalForceOwningTab),o?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,c)},s.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},s.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},s.prototype.waitForPendingWrites=function(){return function(r){var o=this,c=new Bi;return r.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(o,void 0,void 0,function(){var p;return(0,E.__generator)(this,function(_){switch(_.label){case 0:return p=Qu,[4,Ul(r)];case 1:return[2,p.apply(void 0,[_.sent(),c])]}})})}),c.promise}(Is(Ji(this._delegate,os)))},s.prototype.onSnapshotsInSync=function(r){return c=r,function(p,_){var S=this,P=new Ju(_);return p.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(S,void 0,void 0,function(){var Q;return(0,E.__generator)(this,function(me){switch(me.label){case 0:return Q=function(Ce,Ke){je(Ce).Gr.add(Ke),Ke.next()},[4,Ta(p)];case 1:return[2,Q.apply(void 0,[me.sent(),P])]}})})}),function(){P.Wo(),p.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(S,void 0,void 0,function(){var Q;return(0,E.__generator)(this,function(me){switch(me.label){case 0:return Q=function(Ce,Ke){je(Ce).Gr.delete(Ke)},[4,Ta(p)];case 1:return[2,Q.apply(void 0,[me.sent(),P])]}})})})}}(Is(Ji(this._delegate,os)),Ls(c)?c:{next:c});var c},Object.defineProperty(s.prototype,"app",{get:function(){if(!this.tu)throw new fe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),s.prototype.collection=function(r){try{return new qr(this,Ko(this._delegate,r))}catch(o){throw Be(o,"collection()","Firestore.collection()")}},s.prototype.doc=function(r){try{return new Ae(this,Lc(this._delegate,r))}catch(o){throw Be(o,"doc()","Firestore.doc()")}},s.prototype.collectionGroup=function(r){try{return new Pn(this,function(o,c){if(o=Ji(o,ic),nc("collectionGroup","collection id",c),c.indexOf("/")>=0)throw new fe(le.INVALID_ARGUMENT,"Invalid collection ID '"+c+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ts(o,null,(p=c,new Ht($e.emptyPath(),p)));var p}(this._delegate,r))}catch(o){throw Be(o,"collectionGroup()","Firestore.collectionGroup()")}},s.prototype.runTransaction=function(r){var c,o=this;return function(_,S){var P=this,Q=new Bi;return _.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(P,void 0,void 0,function(){var me;return(0,E.__generator)(this,function(Ce){switch(Ce.label){case 0:return[4,(Ke=_,xu(Ke).then(function(it){return it.datastore}))];case 1:return me=Ce.sent(),new Ru(_.asyncQueue,me,S,Q).run(),[2]}var Ke})})}),Q.promise}(Is(c=this._delegate),function(_){return function(c){return r(new B(o,c))}(new pf(c,_))})},s.prototype.batch=function(){var r=this;return Is(this._delegate),new J(new Wl(this._delegate,function(o){return ui(r._delegate,o)}))},s.prototype.loadBundle=function(r){throw new fe(le.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},s.prototype.namedQuery=function(r){throw new fe(le.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},s}(),v=function(s){function r(o){var c=this;return(c=s.call(this)||this).firestore=o,c}return(0,E.__extends)(r,s),r.prototype.convertBytes=function(o){return new f(new ku(o))},r.prototype.convertReference=function(o){var c=this.convertDocumentKey(o,this.firestore._databaseId);return Ae.eu(c,this.firestore,null)},r}(Ic);function I(s){Je.setLogLevel(s)}var B=function(){function s(r,o){this._firestore=r,this._delegate=o,this._userDataWriter=new v(r)}return s.prototype.get=function(r){var o=this,c=Oo(r);return this._delegate.get(c).then(function(p){return new zt(o._firestore,new Lu(o._firestore._delegate,o._userDataWriter,p._key,p._document,p.metadata,c.converter))})},s.prototype.set=function(r,o,c){var p=Oo(r);return c?(ru("Transaction.set",c),this._delegate.set(p,o,c)):this._delegate.set(p,o),this},s.prototype.update=function(r,o,c){for(var p,_=[],S=3;S<arguments.length;S++)_[S-3]=arguments[S];var P=Oo(r);return 2===arguments.length?this._delegate.update(P,o):(p=this._delegate).update.apply(p,(0,E.__spreadArray)([P,o,c],_)),this},s.prototype.delete=function(r){var o=Oo(r);return this._delegate.delete(o),this},s}(),J=function(){function s(r){this._delegate=r}return s.prototype.set=function(r,o,c){var p=Oo(r);return c?(ru("WriteBatch.set",c),this._delegate.set(p,o,c)):this._delegate.set(p,o),this},s.prototype.update=function(r,o,c){for(var p,_=[],S=3;S<arguments.length;S++)_[S-3]=arguments[S];var P=Oo(r);return 2===arguments.length?this._delegate.update(P,o):(p=this._delegate).update.apply(p,(0,E.__spreadArray)([P,o,c],_)),this},s.prototype.delete=function(r){var o=Oo(r);return this._delegate.delete(o),this},s.prototype.commit=function(){return this._delegate.commit()},s}(),be=function(){function s(r,o,c){this._firestore=r,this._userDataWriter=o,this._delegate=c}return s.prototype.fromFirestore=function(r,o){var c=new Hl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new mn(this._firestore,c),null!=o?o:{})},s.prototype.toFirestore=function(r,o){return o?this._delegate.toFirestore(r,o):this._delegate.toFirestore(r)},s.nu=function(r,o){var c=s.su,p=c.get(r);p||(p=new WeakMap,c.set(r,p));var _=p.get(o);return _||(_=new s(r,new v(r),o),p.set(o,_)),_},s}();be.su=new WeakMap;var Ae=function(){function s(r,o){this.firestore=r,this._delegate=o,this._userDataWriter=new v(r)}return s.iu=function(r,o,c){if(r.length%2!=0)throw new fe(le.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+r.canonicalString()+" has "+r.length);return new s(o,new Mo(o._delegate,c,new vt(r)))},s.eu=function(r,o,c){return new s(o,new Mo(o._delegate,c,r))},Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return new qr(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),s.prototype.collection=function(r){try{return new qr(this.firestore,Ko(this._delegate,r))}catch(o){throw Be(o,"collection()","DocumentReference.collection()")}},s.prototype.isEqual=function(r){return(r=(0,b.getModularInstance)(r))instanceof Mo&&Vc(this._delegate,r)},s.prototype.set=function(r,o){o=ru("DocumentReference.set",o);try{return function(c,p,_){c=Ji(c,Mo);var S=Ji(c.firestore,os),P=gl(c.converter,p,_);return ui(S,[Ys(Ba(S),"setDoc",c._key,P,null!==c.converter,_).toMutation(c._key,Ti.none())])}(this._delegate,r,o)}catch(c){throw Be(c,"setDoc()","DocumentReference.set()")}},s.prototype.update=function(r,o){for(var c=[],p=2;p<arguments.length;p++)c[p-2]=arguments[p];try{return 1===arguments.length?yd(this._delegate,r):yd.apply(void 0,(0,E.__spreadArray)([this._delegate,r,o],c))}catch(_){throw Be(_,"updateDoc()","DocumentReference.update()")}},s.prototype.delete=function(){return ui(Ji((r=this._delegate).firestore,os),[new Hr(r._key,Ti.none())]);var r},s.prototype.onSnapshot=function(){for(var r=this,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var p=Xe(o),_=Ot(o,function(S){return new zt(r.firestore,new Lu(r.firestore._delegate,r._userDataWriter,S._key,S._document,S.metadata,r._delegate.converter))});return Ac(this._delegate,p,_)},s.prototype.get=function(r){var o=this;return("cache"===(null==r?void 0:r.source)?function(c){c=Ji(c,Mo);var p=Ji(c.firestore,os),_=Is(p),S=new uc(p);return function(P,Q){var me=this,Ce=new Bi;return P.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(me,void 0,void 0,function(){var Ke;return(0,E.__generator)(this,function(it){switch(it.label){case 0:return Ke=function(kt,Pt,Kt){return(0,E.__awaiter)(this,void 0,void 0,function(){var Nn,jn;return(0,E.__generator)(this,function(mr){switch(mr.label){case 0:return mr.trys.push([0,2,,3]),[4,(Tr=kt,Vi=Pt,ci=je(Tr),ci.persistence.runTransaction("read document","readonly",function(yo){return ci.Mn.mn(yo,Vi)}))];case 1:return(jn=mr.sent()).isFoundDocument()?Kt.resolve(jn):jn.isNoDocument()?Kt.resolve(null):Kt.reject(new fe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Nn=mr.sent(),jn=Ho(Nn,"Failed to get document '"+Pt+" from cache"),Kt.reject(jn),[3,3];case 3:return[2]}var Tr,Vi,ci})})},[4,Vl(P)];case 1:return[2,Ke.apply(void 0,[it.sent(),Q,Ce])]}})})}),Ce.promise}(_,c._key).then(function(P){return new Lu(p,S,c._key,P,new Tc(null!==P&&P.hasLocalMutations,!0),c.converter)})}(this._delegate):"server"===(null==r?void 0:r.source)?function(c){c=Ji(c,Mo);var p=Ji(c.firestore,os);return Pc(Is(p),c._key,{source:"server"}).then(function(_){return ml(p,c,_)})}(this._delegate):function(c){c=Ji(c,Mo);var p=Ji(c.firestore,os);return Pc(Is(p),c._key).then(function(_){return ml(p,c,_)})}(this._delegate)).then(function(c){return new zt(o.firestore,new Lu(o.firestore._delegate,o._userDataWriter,c._key,c._document,c.metadata,o._delegate.converter))})},s.prototype.withConverter=function(r){return new s(this.firestore,this._delegate.withConverter(r?be.nu(this.firestore,r):null))},s}();function Be(s,r,o){return s.message=s.message.replace(r,o),s}function Xe(s){for(var r=0,o=s;r<o.length;r++){var c=o[r];if("object"==typeof c&&!Ls(c))return c}return{}}function Ot(s,r){var o,c,p;return{next:function(_){p.next&&p.next(r(_))},error:null===(o=(p=Ls(s[0])?s[0]:Ls(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]}).error)||void 0===o?void 0:o.bind(p),complete:null===(c=p.complete)||void 0===c?void 0:c.bind(p)}}var zt=function(){function s(r,o){this._firestore=r,this._delegate=o}return Object.defineProperty(s.prototype,"ref",{get:function(){return new Ae(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),s.prototype.data=function(r){return this._delegate.data(r)},s.prototype.get=function(r,o){return this._delegate.get(r,o)},s.prototype.isEqual=function(r){return Vf(this._delegate,r._delegate)},s}(),mn=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return(0,E.__extends)(r,s),r.prototype.data=function(o){return this._delegate.data(o)},r}(zt),Pn=function(){function s(r,o){this.firestore=r,this._delegate=o,this._userDataWriter=new v(r)}return s.prototype.where=function(r,o,c){try{return new s(this.firestore,cs(this._delegate,(S=c,P=o,Q=pl("where",p=r),new vd(Q,P,S))))}catch(p){throw Be(p,/(orderBy|where)\(\)/,"Query.$1()")}var p,S,P,Q},s.prototype.orderBy=function(r,o){try{return new s(this.firestore,cs(this._delegate,function(c,p){void 0===p&&(p="asc");var _=p,S=pl("orderBy",c);return new jc(S,_)}(r,o)))}catch(c){throw Be(c,/(orderBy|where)\(\)/,"Query.$1()")}},s.prototype.limit=function(r){try{return new s(this.firestore,cs(this._delegate,(iu("limit",o=r),new Bc("limit",o,"F"))))}catch(o){throw Be(o,"limit()","Query.limit()")}var o},s.prototype.limitToLast=function(r){try{return new s(this.firestore,cs(this._delegate,(iu("limitToLast",o=r),new Bc("limitToLast",o,"L"))))}catch(o){throw Be(o,"limitToLast()","Query.limitToLast()")}var o},s.prototype.startAt=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{return new s(this.firestore,cs(this._delegate,function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];return new jf("startAt",c,!0)}.apply(void 0,r)))}catch(c){throw Be(c,"startAt()","Query.startAt()")}},s.prototype.startAfter=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{return new s(this.firestore,cs(this._delegate,function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];return new jf("startAfter",c,!1)}.apply(void 0,r)))}catch(c){throw Be(c,"startAfter()","Query.startAfter()")}},s.prototype.endBefore=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{return new s(this.firestore,cs(this._delegate,function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];return new Ga("endBefore",c,!0)}.apply(void 0,r)))}catch(c){throw Be(c,"endBefore()","Query.endBefore()")}},s.prototype.endAt=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{return new s(this.firestore,cs(this._delegate,function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];return new Ga("endAt",c,!1)}.apply(void 0,r)))}catch(c){throw Be(c,"endAt()","Query.endAt()")}},s.prototype.isEqual=function(r){return ma(this._delegate,r._delegate)},s.prototype.get=function(r){var o=this;return("cache"===(null==r?void 0:r.source)?function(c){c=Ji(c,Ts);var p=Ji(c.firestore,os),_=Is(p),S=new uc(p);return function(P,Q){var me=this,Ce=new Bi;return P.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(me,void 0,void 0,function(){var Ke;return(0,E.__generator)(this,function(it){switch(it.label){case 0:return Ke=function(kt,Pt,Kt){return(0,E.__awaiter)(this,void 0,void 0,function(){var Nn,jn,mr,Tr,Vi;return(0,E.__generator)(this,function(ci){switch(ci.label){case 0:return ci.trys.push([0,2,,3]),[4,Gs(kt,Pt,!0)];case 1:return Vi=ci.sent(),Nn=new Ao(Pt,Vi.Bn),jn=Nn._o(Vi.documents),mr=Nn.applyChanges(jn,!1),Kt.resolve(mr.snapshot),[3,3];case 2:return Tr=ci.sent(),Vi=Ho(Tr,"Failed to execute query '"+Pt+" against cache"),Kt.reject(Vi),[3,3];case 3:return[2]}})})},[4,Vl(P)];case 1:return[2,Ke.apply(void 0,[it.sent(),Q,Ce])]}})})}),Ce.promise}(_,c._query).then(function(P){return new Vu(p,S,c,P)})}(this._delegate):"server"===(null==r?void 0:r.source)?function(c){c=Ji(c,Ts);var p=Ji(c.firestore,os),_=Is(p),S=new uc(p);return Ia(_,c._query,{source:"server"}).then(function(P){return new Vu(p,S,c,P)})}(this._delegate):function(c){c=Ji(c,Ts);var p=Ji(c.firestore,os),_=Is(p),S=new uc(p);return Uf(c._query),Ia(_,c._query).then(function(P){return new Vu(p,S,c,P)})}(this._delegate)).then(function(c){return new yr(o.firestore,new Vu(o.firestore._delegate,o._userDataWriter,o._delegate,c._snapshot))})},s.prototype.onSnapshot=function(){for(var r=this,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var p=Xe(o),_=Ot(o,function(S){return new yr(r.firestore,new Vu(r.firestore._delegate,r._userDataWriter,r._delegate,S._snapshot))});return Ac(this._delegate,p,_)},s.prototype.withConverter=function(r){return new s(this.firestore,this._delegate.withConverter(r?be.nu(this.firestore,r):null))},s}(),jr=function(){function s(r,o){this._firestore=r,this._delegate=o}return Object.defineProperty(s.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"doc",{get:function(){return new mn(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),s}(),yr=function(){function s(r,o){this._firestore=r,this._delegate=o}return Object.defineProperty(s.prototype,"query",{get:function(){return new Pn(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"docs",{get:function(){var r=this;return this._delegate.docs.map(function(o){return new mn(r._firestore,o)})},enumerable:!1,configurable:!0}),s.prototype.docChanges=function(r){var o=this;return this._delegate.docChanges(r).map(function(c){return new jr(o._firestore,c)})},s.prototype.forEach=function(r,o){var c=this;this._delegate.forEach(function(p){r.call(o,new mn(c._firestore,p))})},s.prototype.isEqual=function(r){return Vf(this._delegate,r._delegate)},s}(),qr=function(s){function r(o,c){var p=this;return(p=s.call(this,o,c)||this).firestore=o,p._delegate=c,p}return(0,E.__extends)(r,s),Object.defineProperty(r.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){var o=this._delegate.parent;return o?new Ae(this.firestore,o):null},enumerable:!1,configurable:!0}),r.prototype.doc=function(o){try{return new Ae(this.firestore,void 0===o?Lc(this._delegate):Lc(this._delegate,o))}catch(c){throw Be(c,"doc()","CollectionReference.doc()")}},r.prototype.add=function(o){var p,_,S,P,Q,c=this;return(p=this._delegate,_=o,S=Ji(p.firestore,os),P=Lc(p),Q=gl(p.converter,_),ui(S,[Ys(Ba(p.firestore),"addDoc",P._key,Q,null!==p.converter,{}).toMutation(P._key,Ti.exists(!1))]).then(function(){return P})).then(function(p){return new Ae(c.firestore,p)})},r.prototype.isEqual=function(o){return Vc(this._delegate,o._delegate)},r.prototype.withConverter=function(o){return new r(this.firestore,this._delegate.withConverter(o?be.nu(this.firestore,o):null))},r}(Pn);function Oo(s){return Ji(s,Mo)}var qa=function(){function s(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._delegate=new(ou.bind.apply(ou,(0,E.__spreadArray)([void 0],r)))}return s.documentId=function(){return new s(rt.keyField().canonicalString())},s.prototype.isEqual=function(r){return(r=(0,b.getModularInstance)(r))instanceof ou&&this._delegate._internalPath.isEqual(r._internalPath)},s}(),vl=function(){function s(r){this._delegate=r}return s.serverTimestamp=function(){var r=new hd("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new s(r)},s.delete=function(){var r=new cl("deleteField");return r._methodName="FieldValue.delete",new s(r)},s.arrayUnion=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var c=function(){for(var p=[],_=0;_<arguments.length;_++)p[_]=arguments[_];return new pd("arrayUnion",p)}.apply(void 0,r);return c._methodName="FieldValue.arrayUnion",new s(c)},s.arrayRemove=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var c=function(){for(var p=[],_=0;_<arguments.length;_++)p[_]=arguments[_];return new ll("arrayRemove",p)}.apply(void 0,r);return c._methodName="FieldValue.arrayRemove",new s(c)},s.increment=function(r){var o=new Ha("increment",r);return o._methodName="FieldValue.increment",new s(o)},s.prototype.isEqual=function(r){return this._delegate.isEqual(r._delegate)},s}();function yl(s){return o=s,c=Is(r=Ji(r=this._delegate,os)),p=new Of,function(_,S,P,Q){var Ke,it,kt,me=this,Ce=(Ke=P,it=Wu(S),kt=function(kt,Pt){if(kt instanceof Uint8Array)return Fs(kt,void 0);if(kt instanceof ArrayBuffer)return Fs(new Uint8Array(kt),void 0);if(kt instanceof ReadableStream)return kt.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof Ke?(new TextEncoder).encode(Ke):Ke),new Fl(kt,it));_.asyncQueue.enqueueAndForget(function(){return(0,E.__awaiter)(me,void 0,void 0,function(){var Ke;return(0,E.__generator)(this,function(it){switch(it.label){case 0:return Ke=ld,[4,Ul(_)];case 1:return Ke.apply(void 0,[it.sent(),Ce,Q]),[2]}})})})}(c,r._databaseId,o,p),p;var r,o,c,p}function Hc(s){var r,o,c=this;return(r=this._delegate,o=s,function(p,_){var S=this;return p.asyncQueue.enqueue(function(){return(0,E.__awaiter)(S,void 0,void 0,function(){var P;return(0,E.__generator)(this,function(Q){switch(Q.label){case 0:return P=function(me,Ce){var Ke=je(me);return Ke.persistence.runTransaction("Get named query","readonly",function(it){return Ke.Ke.getNamedQuery(it,Ce)})},[4,Vl(p)];case 1:return[2,P.apply(void 0,[Q.sent(),_])]}})})})}(Is(r=Ji(r,os)),o).then(function(p){return p?new Ts(r,null,p.query):null})).then(function(p){return p?new Pn(c,p):null})}},300:(Mn,Dt,ie)=>{"use strict";function E(){for(var Ye=0,xe=0,De=arguments.length;xe<De;xe++)Ye+=arguments[xe].length;var st=Array(Ye),je=0;for(xe=0;xe<De;xe++)for(var nt=arguments[xe],Me=0,Ve=nt.length;Me<Ve;Me++,je++)st[je]=nt[Me];return st}ie.r(Dt),ie.d(Dt,{LogLevel:()=>L,Logger:()=>Fe,setLogLevel:()=>k,setUserLogHandler:()=>Re});var b,j=[],L=(()=>{return(Ye=L||(L={}))[Ye.DEBUG=0]="DEBUG",Ye[Ye.VERBOSE=1]="VERBOSE",Ye[Ye.INFO=2]="INFO",Ye[Ye.WARN=3]="WARN",Ye[Ye.ERROR=4]="ERROR",Ye[Ye.SILENT=5]="SILENT",L;var Ye})(),Pe={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},le=L.INFO,fe=((b={})[L.DEBUG]="log",b[L.VERBOSE]="log",b[L.INFO]="info",b[L.WARN]="warn",b[L.ERROR]="error",b),Je=function(Ye,xe){for(var De=[],st=2;st<arguments.length;st++)De[st-2]=arguments[st];if(!(xe<Ye.logLevel)){var je=(new Date).toISOString(),nt=fe[xe];if(!nt)throw new Error("Attempted to log a message with an invalid logType (value: "+xe+")");console[nt].apply(console,E(["["+je+"]  "+Ye.name+":"],De))}},Fe=function(){function Ye(xe){this.name=xe,this._logLevel=le,this._logHandler=Je,this._userLogHandler=null,j.push(this)}return Object.defineProperty(Ye.prototype,"logLevel",{get:function(){return this._logLevel},set:function(xe){if(!(xe in L))throw new TypeError('Invalid value "'+xe+'" assigned to `logLevel`');this._logLevel=xe},enumerable:!1,configurable:!0}),Ye.prototype.setLogLevel=function(xe){this._logLevel="string"==typeof xe?Pe[xe]:xe},Object.defineProperty(Ye.prototype,"logHandler",{get:function(){return this._logHandler},set:function(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe},enumerable:!1,configurable:!0}),Object.defineProperty(Ye.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(xe){this._userLogHandler=xe},enumerable:!1,configurable:!0}),Ye.prototype.debug=function(){for(var xe=[],De=0;De<arguments.length;De++)xe[De]=arguments[De];this._userLogHandler&&this._userLogHandler.apply(this,E([this,L.DEBUG],xe)),this._logHandler.apply(this,E([this,L.DEBUG],xe))},Ye.prototype.log=function(){for(var xe=[],De=0;De<arguments.length;De++)xe[De]=arguments[De];this._userLogHandler&&this._userLogHandler.apply(this,E([this,L.VERBOSE],xe)),this._logHandler.apply(this,E([this,L.VERBOSE],xe))},Ye.prototype.info=function(){for(var xe=[],De=0;De<arguments.length;De++)xe[De]=arguments[De];this._userLogHandler&&this._userLogHandler.apply(this,E([this,L.INFO],xe)),this._logHandler.apply(this,E([this,L.INFO],xe))},Ye.prototype.warn=function(){for(var xe=[],De=0;De<arguments.length;De++)xe[De]=arguments[De];this._userLogHandler&&this._userLogHandler.apply(this,E([this,L.WARN],xe)),this._logHandler.apply(this,E([this,L.WARN],xe))},Ye.prototype.error=function(){for(var xe=[],De=0;De<arguments.length;De++)xe[De]=arguments[De];this._userLogHandler&&this._userLogHandler.apply(this,E([this,L.ERROR],xe)),this._logHandler.apply(this,E([this,L.ERROR],xe))},Ye}();function k(Ye){j.forEach(function(xe){xe.setLogLevel(Ye)})}function Re(Ye,xe){for(var De=function(Me){var Ve=null;xe&&xe.level&&(Ve=Pe[xe.level]),Me.userLogHandler=null===Ye?null:function(at,At){for(var It=[],bt=2;bt<arguments.length;bt++)It[bt-2]=arguments[bt];var tn=It.map(function(xn){if(null==xn)return null;if("string"==typeof xn)return xn;if("number"==typeof xn||"boolean"==typeof xn)return xn.toString();if(xn instanceof Error)return xn.message;try{return JSON.stringify(xn)}catch(Wn){return null}}).filter(function(xn){return xn}).join(" ");At>=(null!=Ve?Ve:at.logLevel)&&Ye({level:L[At].toLowerCase(),message:tn,args:It,type:at.name})}},st=0,je=j;st<je.length;st++)De(je[st])}},990:(Mn,Dt,ie)=>{"use strict";var E=ie(9759),b=ie(4762),j=ie(4685),L=ie(6034),Pe="firebasestorage.googleapis.com",le="storageBucket",Fe=function(ee){function W(Ie,Ge){var dt=ee.call(this,k(Ie),"Firebase Storage: "+Ge+" ("+k(Ie)+")")||this;return dt.customData={serverResponse:null},dt._baseMessage=dt.message,Object.setPrototypeOf(dt,W.prototype),dt}return(0,b.__extends)(W,ee),W.prototype._codeEquals=function(Ie){return k(Ie)===this.code},Object.defineProperty(W.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(Ie){this.customData.serverResponse=Ie,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),W}(j.FirebaseError);function k(ee){return"storage/"+ee}function Re(){return new Fe("unknown","An unknown error occurred, please check the error payload for server response.")}function Me(){return new Fe("canceled","User canceled the upload/download.")}function It(){return new Fe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xn(ee){return new Fe("invalid-argument",ee)}function Wn(){return new Fe("app-deleted","The Firebase app was deleted.")}function ke(ee){return new Fe("invalid-root-operation","The operation '"+ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $e(ee,W){return new Fe("invalid-format","String does not match format '"+ee+"': "+W)}function ce(ee){throw new Fe("internal-error","Internal error: "+ee)}var _t={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lt=function(W,Ie){this.data=W,this.contentType=Ie||null};function qt(ee,W){switch(ee){case _t.RAW:return new lt(Ut(W));case _t.BASE64:case _t.BASE64URL:return new lt(un(ee,W));case _t.DATA_URL:return new lt(function(ee){var W=new fn(ee);return W.base64?un(_t.BASE64,W.rest):function(ee){var W;try{W=decodeURIComponent(ee)}catch(Ie){throw $e(_t.DATA_URL,"Malformed data URL.")}return Ut(W)}(W.rest)}(W),function(ee){return new fn(ee).contentType}(W))}throw Re()}function Ut(ee){for(var W=[],Ie=0;Ie<ee.length;Ie++){var Ge=ee.charCodeAt(Ie);if(Ge<=127)W.push(Ge);else if(Ge<=2047)W.push(192|Ge>>6,128|63&Ge);else if(55296==(64512&Ge))if(Ie<ee.length-1&&56320==(64512&ee.charCodeAt(Ie+1))){var xt=Ge,an=ee.charCodeAt(++Ie);W.push(240|(Ge=65536|(1023&xt)<<10|1023&an)>>18,128|Ge>>12&63,128|Ge>>6&63,128|63&Ge)}else W.push(239,191,189);else 56320==(64512&Ge)?W.push(239,191,189):W.push(224|Ge>>12,128|Ge>>6&63,128|63&Ge)}return new Uint8Array(W)}function un(ee,W){switch(ee){case _t.BASE64:var Ie=-1!==W.indexOf("-"),Ge=-1!==W.indexOf("_");if(Ie||Ge)throw $e(ee,"Invalid character '"+(Ie?"-":"_")+"' found: is it base64url encoded?");break;case _t.BASE64URL:var xt=-1!==W.indexOf("+"),an=-1!==W.indexOf("/");if(xt||an)throw $e(ee,"Invalid character '"+(xt?"+":"/")+"' found: is it base64 encoded?");W=W.replace(/-/g,"+").replace(/_/g,"/")}var pn;try{pn=function(ee){return atob(ee)}(W)}catch(F){throw $e(ee,"Invalid character found")}for(var Z=new Uint8Array(pn.length),z=0;z<pn.length;z++)Z[z]=pn.charCodeAt(z);return Z}var fn=function(W){this.base64=!1,this.contentType=null;var Ie=W.match(/^data:([^,]+)?,/);if(null===Ie)throw $e(_t.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var Ge=Ie[1]||null;null!=Ge&&(this.base64=function(ee,W){return ee.length>=W.length&&ee.substring(ee.length-W.length)===W}(Ge,";base64"),this.contentType=this.base64?Ge.substring(0,Ge.length-";base64".length):Ge),this.rest=W.substring(W.indexOf(",")+1)},vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vt(ee){switch(ee){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":default:return vn.ERROR}}var Et=(()=>{return(ee=Et||(Et={}))[ee.NO_ERROR=0]="NO_ERROR",ee[ee.NETWORK_ERROR=1]="NETWORK_ERROR",ee[ee.ABORT=2]="ABORT",Et;var ee})(),Rt=function(){function ee(){var W=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Et.NO_ERROR,this.sendPromise_=new Promise(function(Ie){W.xhr_.addEventListener("abort",function(){W.errorCode_=Et.ABORT,Ie()}),W.xhr_.addEventListener("error",function(){W.errorCode_=Et.NETWORK_ERROR,Ie()}),W.xhr_.addEventListener("load",function(){Ie()})})}return ee.prototype.send=function(W,Ie,Ge,dt){if(this.sent_)throw ce("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ie,W,!0),void 0!==dt)for(var xt in dt)dt.hasOwnProperty(xt)&&this.xhr_.setRequestHeader(xt,dt[xt].toString());return void 0!==Ge?this.xhr_.send(Ge):this.xhr_.send(),this.sendPromise_},ee.prototype.getErrorCode=function(){if(!this.sent_)throw ce("cannot .getErrorCode() before sending");return this.errorCode_},ee.prototype.getStatus=function(){if(!this.sent_)throw ce("cannot .getStatus() before sending");try{return this.xhr_.status}catch(W){return-1}},ee.prototype.getResponseText=function(){if(!this.sent_)throw ce("cannot .getResponseText() before sending");return this.xhr_.responseText},ee.prototype.abort=function(){this.xhr_.abort()},ee.prototype.getResponseHeader=function(W){return this.xhr_.getResponseHeader(W)},ee.prototype.addUploadProgressListener=function(W){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",W)},ee.prototype.removeUploadProgressListener=function(W){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",W)},ee}(),jt=function(){function ee(){}return ee.prototype.createConnection=function(){return new Rt},ee}(),Un=function(){function ee(W,Ie){this.bucket=W,this.path_=Ie}return Object.defineProperty(ee.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),ee.prototype.fullServerUrl=function(){var W=encodeURIComponent;return"/b/"+W(this.bucket)+"/o/"+W(this.path)},ee.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},ee.makeFromBucketSpec=function(W,Ie){var Ge;try{Ge=ee.makeFromUrl(W,Ie)}catch(dt){return new ee(W,"")}if(""===Ge.path)return Ge;throw function(ee){return new Fe("invalid-default-bucket","Invalid default bucket '"+ee+"'.")}(W)},ee.makeFromUrl=function(W,Ie){var Ge=null,dt="([A-Za-z0-9.\\-_]+)",pn=new RegExp("^gs://"+dt+"(/(.*))?$","i");function z(pe){pe.path_=decodeURIComponent(pe.path)}for(var ge=Ie.replace(/[.]/g,"\\."),br=[{regex:pn,indices:{bucket:1,path:3},postModify:function(pe){"/"===pe.path.charAt(pe.path.length-1)&&(pe.path_=pe.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+ge+"/v[A-Za-z0-9_]+/b/"+dt+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:z},{regex:new RegExp("^https?://"+(Ie===Pe?"(?:storage.googleapis.com|storage.cloud.google.com)":Ie)+"/"+dt+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:z}],Dr=0;Dr<br.length;Dr++){var no=br[Dr],K=no.regex.exec(W);if(K){var Y=K[no.indices.path];Y||(Y=""),Ge=new ee(K[no.indices.bucket],Y),no.postModify(Ge);break}}if(null==Ge)throw function(ee){return new Fe("invalid-url","Invalid URL '"+ee+"'.")}(W);return Ge},ee}(),Gn=function(){function ee(W){this.promise_=Promise.reject(W)}return ee.prototype.getPromise=function(){return this.promise_},ee.prototype.cancel=function(W){},ee}();function qe(ee){return"string"==typeof ee||ee instanceof String}function Nt(ee){return Tt()&&ee instanceof Blob}function Tt(){return"undefined"!=typeof Blob}function Tn(ee,W,Ie,Ge){if(Ge<W)throw xn("Invalid value for '"+ee+"'. Expected "+W+" or greater.");if(Ge>Ie)throw xn("Invalid value for '"+ee+"'. Expected "+Ie+" or less.")}function nn(ee,W){var Ie=W.match(/^(\w+):\/\/.+/),dt=W;return null==(null==Ie?void 0:Ie[1])&&(dt="https://"+W),dt+"/v0"+ee}function Bn(ee){var W=encodeURIComponent,Ie="?";for(var Ge in ee)ee.hasOwnProperty(Ge)&&(Ie=Ie+(W(Ge)+"=")+W(ee[Ge])+"&");return Ie.slice(0,-1)}var pt=function(){function ee(W,Ie,Ge,dt,xt,an,pn,Z,z,F,ge){var ne=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=W,this.method_=Ie,this.headers_=Ge,this.body_=dt,this.successCodes_=xt.slice(),this.additionalRetryCodes_=an.slice(),this.callback_=pn,this.errorCallback_=Z,this.progressCallback_=F,this.timeout_=z,this.pool_=ge,this.promise_=new Promise(function(ye,re){ne.resolve_=ye,ne.reject_=re,ne.start_()})}return ee.prototype.start_=function(){var W=this;function Ge(dt,xt){var an=W.resolve_,pn=W.reject_,Z=xt.connection;if(xt.wasSuccessCode)try{var z=W.callback_(Z,Z.getResponseText());!function(ee){return void 0!==ee}(z)?an():an(z)}catch(ge){pn(ge)}else if(null!==Z)(F=Re()).serverResponse=Z.getResponseText(),pn(W.errorCallback_?W.errorCallback_(Z,F):F);else if(xt.canceled)pn(F=W.appDelete_?Wn():Me());else{var F;pn(F=new Fe("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?Ge(0,new ln(!1,null,!0)):this.backoffId_=function(ee,W,Ie){var Ge=1,dt=null,xt=!1,an=0;function pn(){return 2===an}var Z=!1;function z(){for(var re=[],Le=0;Le<arguments.length;Le++)re[Le]=arguments[Le];Z||(Z=!0,W.apply(null,re))}function F(re){dt=setTimeout(function(){dt=null,ee(ge,pn())},re)}function ge(re){for(var Le=[],St=1;St<arguments.length;St++)Le[St-1]=arguments[St];if(!Z){if(re)return void z.call.apply(z,(0,b.__spreadArray)([null,re],Le));var On;if(pn()||xt)return void z.call.apply(z,(0,b.__spreadArray)([null,re],Le));Ge<64&&(Ge*=2),1===an?(an=2,On=0):On=1e3*(Ge+Math.random()),F(On)}}var ne=!1;function ye(re){ne||(ne=!0,!Z&&(null!==dt?(re||(an=2),clearTimeout(dt),F(0)):re||(an=1)))}return F(0),setTimeout(function(){xt=!0,ye(!0)},Ie),ye}(function(dt,xt){if(xt)dt(!1,new ln(!1,null,!0));else{var an=W.pool_.createConnection();W.pendingConnection_=an,null!==W.progressCallback_&&an.addUploadProgressListener(pn),an.send(W.url_,W.method_,W.body_,W.headers_).then(function(){null!==W.progressCallback_&&an.removeUploadProgressListener(pn),W.pendingConnection_=null;var Z=an.getErrorCode()===Et.NO_ERROR,z=an.getStatus();if(Z&&!W.isRetryStatusCode_(z)){var ge=-1!==W.successCodes_.indexOf(z);dt(!0,new ln(ge,an))}else{var F=an.getErrorCode()===Et.ABORT;dt(!1,new ln(!1,null,F))}})}function pn(Z){null!==W.progressCallback_&&W.progressCallback_(Z.loaded,Z.lengthComputable?Z.total:-1)}},Ge,this.timeout_)},ee.prototype.getPromise=function(){return this.promise_},ee.prototype.cancel=function(W){this.canceled_=!0,this.appDelete_=W||!1,null!==this.backoffId_&&function(ee){ee(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},ee.prototype.isRetryStatusCode_=function(W){var Ie=W>=500&&W<600,dt=-1!==[408,429].indexOf(W),xt=-1!==this.additionalRetryCodes_.indexOf(W);return Ie||dt||xt},ee}(),ln=function(W,Ie,Ge){this.wasSuccessCode=W,this.connection=Ie,this.canceled=!!Ge};function Ar(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tr(){for(var ee=[],W=0;W<arguments.length;W++)ee[W]=arguments[W];var Ie=Ar();if(void 0!==Ie){for(var Ge=new Ie,dt=0;dt<ee.length;dt++)Ge.append(ee[dt]);return Ge.getBlob()}if(Tt())return new Blob(ee);throw new Fe("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Fr=function(){function ee(W,Ie){var Ge=0,dt="";Nt(W)?(this.data_=W,Ge=W.size,dt=W.type):W instanceof ArrayBuffer?(Ie?this.data_=new Uint8Array(W):(this.data_=new Uint8Array(W.byteLength),this.data_.set(new Uint8Array(W))),Ge=this.data_.length):W instanceof Uint8Array&&(Ie?this.data_=W:(this.data_=new Uint8Array(W.length),this.data_.set(W)),Ge=W.length),this.size_=Ge,this.type_=dt}return ee.prototype.size=function(){return this.size_},ee.prototype.type=function(){return this.type_},ee.prototype.slice=function(W,Ie){if(Nt(this.data_)){var dt=function(ee,W,Ie){return ee.webkitSlice?ee.webkitSlice(W,Ie):ee.mozSlice?ee.mozSlice(W,Ie):ee.slice?ee.slice(W,Ie):null}(this.data_,W,Ie);return null===dt?null:new ee(dt)}return new ee(new Uint8Array(this.data_.buffer,W,Ie-W),!0)},ee.getBlob=function(){for(var W=[],Ie=0;Ie<arguments.length;Ie++)W[Ie]=arguments[Ie];if(Tt()){var Ge=W.map(function(Z){return Z instanceof ee?Z.data_:Z});return new ee(tr.apply(null,Ge))}var dt=W.map(function(Z){return qe(Z)?qt(_t.RAW,Z).data:Z.data_}),xt=0;dt.forEach(function(Z){xt+=Z.byteLength});var an=new Uint8Array(xt),pn=0;return dt.forEach(function(Z){for(var z=0;z<Z.length;z++)an[pn++]=Z[z]}),new ee(an,!0)},ee.prototype.uploadData=function(){return this.data_},ee}();function wr(ee){var W;try{W=JSON.parse(ee)}catch(Ie){return null}return function(ee){return"object"==typeof ee&&!Array.isArray(ee)}(W)?W:null}function gt(ee){var W=ee.lastIndexOf("/",ee.length-2);return-1===W?ee:ee.slice(W+1)}function Se(ee,W){return W}var Te=function(W,Ie,Ge,dt){this.server=W,this.local=Ie||W,this.writable=!!Ge,this.xform=dt||Se},Qe=null;function Lt(){if(Qe)return Qe;var ee=[];ee.push(new Te("bucket")),ee.push(new Te("generation")),ee.push(new Te("metageneration")),ee.push(new Te("name","fullPath",!0));var Ie=new Te("name");Ie.xform=function(xt,an){return function(ee){return!qe(ee)||ee.length<2?ee:gt(ee)}(an)},ee.push(Ie);var dt=new Te("size");return dt.xform=function(xt,an){return void 0!==an?Number(an):an},ee.push(dt),ee.push(new Te("timeCreated")),ee.push(new Te("updated")),ee.push(new Te("md5Hash",null,!0)),ee.push(new Te("cacheControl",null,!0)),ee.push(new Te("contentDisposition",null,!0)),ee.push(new Te("contentEncoding",null,!0)),ee.push(new Te("contentLanguage",null,!0)),ee.push(new Te("contentType",null,!0)),ee.push(new Te("metadata","customMetadata",!0)),Qe=ee}function Ln(ee,W,Ie){var Ge=wr(W);return null===Ge?null:function(ee,W,Ie){for(var Ge={type:"file"},dt=Ie.length,xt=0;xt<dt;xt++){var an=Ie[xt];Ge[an.local]=an.xform(Ge,W[an.server])}return function(ee,W){Object.defineProperty(ee,"ref",{get:function(){var xt=new Un(ee.bucket,ee.fullPath);return W._makeStorageReference(xt)}})}(Ge,ee),Ge}(ee,Ge,Ie)}function nr(ee,W){for(var Ie={},Ge=W.length,dt=0;dt<Ge;dt++){var xt=W[dt];xt.writable&&(Ie[xt.server]=ee[xt.local])}return JSON.stringify(Ie)}var Lr="prefixes";var Sr=function(W,Ie,Ge,dt){this.url=W,this.method=Ie,this.handler=Ge,this.timeout=dt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function li(ee){if(!ee)throw Re()}function Gi(ee,W){return function(Ge,dt){var xt=Ln(ee,dt,W);return li(null!==xt),xt}}function Oi(ee){return function(Ie,Ge){var dt;return(dt=401===Ie.getStatus()?Ie.getResponseText().includes("Firebase App Check token is invalid")?new Fe("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Fe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Ie.getStatus()?function(ee){return new Fe("quota-exceeded","Quota for bucket '"+ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ee.bucket):403===Ie.getStatus()?function(ee){return new Fe("unauthorized","User does not have permission to access '"+ee+"'.")}(ee.path):Ge).serverResponse=Ge.serverResponse,dt}}function to(ee){var W=Oi(ee);return function(Ge,dt){var xt=W(Ge,dt);return 404===Ge.getStatus()&&(xt=function(ee){return new Fe("object-not-found","Object '"+ee+"' does not exist.")}(ee.path)),xt.serverResponse=dt.serverResponse,xt}}function Pi(ee,W,Ie){var dt=nn(W.fullServerUrl(),ee.host),an=ee.maxOperationRetryTime,pn=new Sr(dt,"GET",Gi(ee,Ie),an);return pn.errorHandler=to(W),pn}function Ri(ee,W,Ie,Ge,dt){var xt={};xt.prefix=W.isRoot?"":W.path+"/",Ie&&Ie.length>0&&(xt.delimiter=Ie),Ge&&(xt.pageToken=Ge),dt&&(xt.maxResults=dt);var pn=nn(W.bucketOnlyServerUrl(),ee.host),z=ee.maxOperationRetryTime,F=new Sr(pn,"GET",function(ee,W){return function(Ge,dt){var xt=function(ee,W,Ie){var Ge=wr(Ie);return null===Ge?null:function(ee,W,Ie){var Ge={prefixes:[],items:[],nextPageToken:Ie.nextPageToken};if(Ie[Lr])for(var dt=0,xt=Ie[Lr];dt<xt.length;dt++){var pn=xt[dt].replace(/\/$/,""),Z=ee._makeStorageReference(new Un(W,pn));Ge.prefixes.push(Z)}if(Ie.items)for(var z=0,F=Ie.items;z<F.length;z++)Z=ee._makeStorageReference(new Un(W,F[z].name)),Ge.items.push(Z);return Ge}(ee,W,Ge)}(ee,W,dt);return li(null!==xt),xt}}(ee,W.bucket),z);return F.urlParams=xt,F.errorHandler=Oi(W),F}function Ki(ee,W,Ie){var Ge=Object.assign({},Ie);return Ge.fullPath=ee.path,Ge.size=W.size(),Ge.contentType||(Ge.contentType=function(ee,W){return W&&W.type()||"application/octet-stream"}(0,W)),Ge}var sr=function(W,Ie,Ge,dt){this.current=W,this.total=Ie,this.finalized=!!Ge,this.metadata=dt||null};function Vn(ee,W){var Ie=null;try{Ie=ee.getResponseHeader("X-Goog-Upload-Status")}catch(dt){li(!1)}return li(!!Ie&&-1!==(W||["active"]).indexOf(Ie)),Ie}var Br=function(W,Ie,Ge){if(function(ee){return"function"==typeof ee}(W)||null!=Ie||null!=Ge)this.next=W,this.error=Ie,this.complete=Ge;else{var xt=W;this.next=xt.next,this.error=xt.error,this.complete=xt.complete}};function xi(ee){return function(){for(var W=[],Ie=0;Ie<arguments.length;Ie++)W[Ie]=arguments[Ie];Promise.resolve().then(function(){return ee.apply(void 0,W)})}}var Yi=function(){function ee(W,Ie,Ge){var dt=this;void 0===Ge&&(Ge=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=W,this._blob=Ie,this._metadata=Ge,this._mappings=Lt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(xt){dt._request=void 0,dt._chunkMultiplier=1,xt._codeEquals("canceled")?(dt._needToFetchStatus=!0,dt.completeTransitions_()):(dt._error=xt,dt._transition("error"))},this._metadataErrorHandler=function(xt){dt._request=void 0,xt._codeEquals("canceled")?dt.completeTransitions_():(dt._error=xt,dt._transition("error"))},this._promise=new Promise(function(xt,an){dt._resolve=xt,dt._reject=an,dt._start()}),this._promise.then(null,function(){})}return ee.prototype._makeProgressCallback=function(){var W=this,Ie=this._transferred;return function(Ge){return W._updateProgress(Ie+Ge)}},ee.prototype._shouldDoResumable=function(W){return W.size()>262144},ee.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},ee.prototype._resolveToken=function(W){var Ie=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(Ge){var dt=Ge[0],xt=Ge[1];switch(Ie._state){case"running":W(dt,xt);break;case"canceling":Ie._transition("canceled");break;case"pausing":Ie._transition("paused")}})},ee.prototype._createResumable=function(){var W=this;this._resolveToken(function(Ie,Ge){var dt=function(ee,W,Ie,Ge,dt){var xt=W.bucketOnlyServerUrl(),an=Ki(W,Ge,dt),pn={name:an.fullPath},Z=nn(xt,ee.host),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+Ge.size(),"X-Goog-Upload-Header-Content-Type":an.contentType,"Content-Type":"application/json; charset=utf-8"},ge=nr(an,Ie),re=new Sr(Z,"POST",function(Le){var St;Vn(Le);try{St=Le.getResponseHeader("X-Goog-Upload-URL")}catch(rn){li(!1)}return li(qe(St)),St},ee.maxUploadRetryTime);return re.urlParams=pn,re.headers=F,re.body=ge,re.errorHandler=Oi(W),re}(W._ref.storage,W._ref._location,W._mappings,W._blob,W._metadata),xt=W._ref.storage._makeRequest(dt,Ie,Ge);W._request=xt,xt.getPromise().then(function(an){W._request=void 0,W._uploadUrl=an,W._needToFetchStatus=!1,W.completeTransitions_()},W._errorHandler)})},ee.prototype._fetchStatus=function(){var W=this,Ie=this._uploadUrl;this._resolveToken(function(Ge,dt){var xt=function(ee,W,Ie,Ge){var Z=new Sr(Ie,"POST",function(z){var F=Vn(z,["active","final"]),ge=null;try{ge=z.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ye){li(!1)}ge||li(!1);var ne=Number(ge);return li(!isNaN(ne)),new sr(ne,Ge.size(),"final"===F)},ee.maxUploadRetryTime);return Z.headers={"X-Goog-Upload-Command":"query"},Z.errorHandler=Oi(W),Z}(W._ref.storage,W._ref._location,Ie,W._blob),an=W._ref.storage._makeRequest(xt,Ge,dt);W._request=an,an.getPromise().then(function(pn){pn=pn,W._request=void 0,W._updateProgress(pn.current),W._needToFetchStatus=!1,pn.finalized&&(W._needToFetchMetadata=!0),W.completeTransitions_()},W._errorHandler)})},ee.prototype._continueUpload=function(){var W=this,Ie=262144*this._chunkMultiplier,Ge=new sr(this._transferred,this._blob.size()),dt=this._uploadUrl;this._resolveToken(function(xt,an){var pn;try{pn=function(ee,W,Ie,Ge,dt,xt,an,pn){var Z=new sr(0,0);if(an?(Z.current=an.current,Z.total=an.total):(Z.current=0,Z.total=Ge.size()),Ge.size()!==Z.total)throw new Fe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var z=Z.total-Z.current,F=z;dt>0&&(F=Math.min(F,dt));var ge=Z.current,re={"X-Goog-Upload-Command":F===z?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Z.current},Le=Ge.slice(ge,ge+F);if(null===Le)throw It();var br=new Sr(Ie,"POST",function(Dr,no){var pe,K=Vn(Dr,["active","final"]),de=Z.current+F,Y=Ge.size();return pe="final"===K?Gi(W,xt)(Dr,no):null,new sr(de,Y,"final"===K,pe)},W.maxUploadRetryTime);return br.headers=re,br.body=Le.uploadData(),br.progressCallback=pn||null,br.errorHandler=Oi(ee),br}(W._ref._location,W._ref.storage,dt,W._blob,Ie,W._mappings,Ge,W._makeProgressCallback())}catch(z){return W._error=z,void W._transition("error")}var Z=W._ref.storage._makeRequest(pn,xt,an);W._request=Z,Z.getPromise().then(function(z){W._increaseMultiplier(),W._request=void 0,W._updateProgress(z.current),z.finalized?(W._metadata=z.metadata,W._transition("success")):W.completeTransitions_()},W._errorHandler)})},ee.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},ee.prototype._fetchMetadata=function(){var W=this;this._resolveToken(function(Ie,Ge){var dt=Pi(W._ref.storage,W._ref._location,W._mappings),xt=W._ref.storage._makeRequest(dt,Ie,Ge);W._request=xt,xt.getPromise().then(function(an){W._request=void 0,W._metadata=an,W._transition("success")},W._metadataErrorHandler)})},ee.prototype._oneShotUpload=function(){var W=this;this._resolveToken(function(Ie,Ge){var dt=function(ee,W,Ie,Ge,dt){var xt=W.bucketOnlyServerUrl(),an={"X-Goog-Upload-Protocol":"multipart"},Z=function(){for(var br="",Dr=0;Dr<2;Dr++)br+=Math.random().toString().slice(2);return br}();an["Content-Type"]="multipart/related; boundary="+Z;var z=Ki(W,Ge,dt),F=nr(z,Ie),ye=Fr.getBlob("--"+Z+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+Z+"\r\nContent-Type: "+z.contentType+"\r\n\r\n",Ge,"\r\n--"+Z+"--");if(null===ye)throw It();var re={name:z.fullPath},Le=nn(xt,ee.host),rn=ee.maxUploadRetryTime,On=new Sr(Le,"POST",Gi(ee,Ie),rn);return On.urlParams=re,On.headers=an,On.body=ye.uploadData(),On.errorHandler=Oi(W),On}(W._ref.storage,W._ref._location,W._mappings,W._blob,W._metadata),xt=W._ref.storage._makeRequest(dt,Ie,Ge);W._request=xt,xt.getPromise().then(function(an){W._request=void 0,W._metadata=an,W._updateProgress(W._blob.size()),W._transition("success")},W._errorHandler)})},ee.prototype._updateProgress=function(W){var Ie=this._transferred;this._transferred=W,this._transferred!==Ie&&this._notifyObservers()},ee.prototype._transition=function(W){if(this._state!==W)switch(W){case"canceling":case"pausing":this._state=W,void 0!==this._request&&this._request.cancel();break;case"running":var Ie="paused"===this._state;this._state=W,Ie&&(this._notifyObservers(),this._start());break;case"paused":this._state=W,this._notifyObservers();break;case"canceled":this._error=Me(),this._state=W,this._notifyObservers();break;case"error":case"success":this._state=W,this._notifyObservers()}},ee.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(ee.prototype,"snapshot",{get:function(){var W=vt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:W,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),ee.prototype.on=function(W,Ie,Ge,dt){var xt=this,an=new Br(Ie,Ge,dt);return this._addObserver(an),function(){xt._removeObserver(an)}},ee.prototype.then=function(W,Ie){return this._promise.then(W,Ie)},ee.prototype.catch=function(W){return this.then(null,W)},ee.prototype._addObserver=function(W){this._observers.push(W),this._notifyObserver(W)},ee.prototype._removeObserver=function(W){var Ie=this._observers.indexOf(W);-1!==Ie&&this._observers.splice(Ie,1)},ee.prototype._notifyObservers=function(){var W=this;this._finishPromise(),this._observers.slice().forEach(function(Ge){W._notifyObserver(Ge)})},ee.prototype._finishPromise=function(){if(void 0!==this._resolve){var W=!0;switch(vt(this._state)){case vn.SUCCESS:xi(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:xi(this._reject.bind(null,this._error))();break;default:W=!1}W&&(this._resolve=void 0,this._reject=void 0)}},ee.prototype._notifyObserver=function(W){switch(vt(this._state)){case vn.RUNNING:case vn.PAUSED:W.next&&xi(W.next.bind(W,this.snapshot))();break;case vn.SUCCESS:W.complete&&xi(W.complete.bind(W))();break;case vn.CANCELED:case vn.ERROR:W.error&&xi(W.error.bind(W,this._error))();break;default:W.error&&xi(W.error.bind(W,this._error))()}},ee.prototype.resume=function(){var W="paused"===this._state||"pausing"===this._state;return W&&this._transition("running"),W},ee.prototype.pause=function(){var W="running"===this._state;return W&&this._transition("pausing"),W},ee.prototype.cancel=function(){var W="running"===this._state||"pausing"===this._state;return W&&this._transition("canceling"),W},ee}(),Xn=function(){function ee(W,Ie){this._service=W,this._location=Ie instanceof Un?Ie:Un.makeFromUrl(Ie,W.host)}return ee.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},ee.prototype._newRef=function(W,Ie){return new ee(W,Ie)},Object.defineProperty(ee.prototype,"root",{get:function(){var W=new Un(this._location.bucket,"");return this._newRef(this._service,W)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"name",{get:function(){return gt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"parent",{get:function(){var W=function(ee){if(0===ee.length)return null;var W=ee.lastIndexOf("/");return-1===W?"":ee.slice(0,W)}(this._location.path);if(null===W)return null;var Ie=new Un(this._location.bucket,W);return new ee(this._service,Ie)},enumerable:!1,configurable:!0}),ee.prototype._throwIfRoot=function(W){if(""===this._location.path)throw ke(W)},ee}();function Kn(ee){var W={prefixes:[],items:[]};return pr(ee,W).then(function(){return W})}function pr(ee,W,Ie){return(0,b.__awaiter)(this,void 0,void 0,function(){var dt,xt,an;return(0,b.__generator)(this,function(pn){switch(pn.label){case 0:return[4,Qn(ee,{pageToken:Ie})];case 1:return dt=pn.sent(),(xt=W.prefixes).push.apply(xt,dt.prefixes),(an=W.items).push.apply(an,dt.items),null==dt.nextPageToken?[3,3]:[4,pr(ee,W,dt.nextPageToken)];case 2:pn.sent(),pn.label=3;case 3:return[2]}})})}function Qn(ee,W){return(0,b.__awaiter)(this,void 0,void 0,function(){var Ie,Ge;return(0,b.__generator)(this,function(dt){switch(dt.label){case 0:return null!=W&&"number"==typeof W.maxResults&&Tn("options.maxResults",1,1e3,W.maxResults),Ge=Ri(ee.storage,ee._location,"/",(Ie=W||{}).pageToken,Ie.maxResults),[4,ee.storage.makeRequestWithTokens(Ge)];case 1:return[2,dt.sent().getPromise()]}})})}function Wi(ee){return(0,b.__awaiter)(this,void 0,void 0,function(){var W;return(0,b.__generator)(this,function(Ie){switch(Ie.label){case 0:return ee._throwIfRoot("getDownloadURL"),W=function(ee,W,Ie){var dt=nn(W.fullServerUrl(),ee.host),an=ee.maxOperationRetryTime,pn=new Sr(dt,"GET",function(ee,W){return function(Ge,dt){var xt=Ln(ee,dt,W);return li(null!==xt),function(ee,W,Ie){var Ge=wr(W);if(null===Ge||!qe(Ge.downloadTokens))return null;var dt=Ge.downloadTokens;if(0===dt.length)return null;var xt=encodeURIComponent;return dt.split(",").map(function(Z){var F=ee.fullPath;return nn("/b/"+xt(ee.bucket)+"/o/"+xt(F),Ie)+Bn({alt:"media",token:Z})})[0]}(xt,dt,ee.host)}}(ee,Ie),an);return pn.errorHandler=to(W),pn}(ee.storage,ee._location,Lt()),[4,ee.storage.makeRequestWithTokens(W)];case 1:return[2,Ie.sent().getPromise().then(function(Ge){if(null===Ge)throw new Fe("no-download-url","The given file does not have any download URLs.");return Ge})]}})})}function lr(ee,W){var Ie=function(ee,W){var Ie=W.split("/").filter(function(Ge){return Ge.length>0}).join("/");return 0===ee.length?Ie:ee+"/"+Ie}(ee._location.path,W),Ge=new Un(ee._location.bucket,Ie);return new Xn(ee.storage,Ge)}function Fn(ee){return/^[A-Za-z]+:\/\//.test(ee)}function ir(ee,W){if(ee instanceof Hr){var Ie=ee;if(null==Ie._bucket)throw new Fe("no-default-bucket","No default bucket found. Did you set the '"+le+"' property when initializing the app?");var Ge=new Xn(Ie,Ie._bucket);return null!=W?ir(Ge,W):Ge}return void 0!==W?lr(ee,W):ee}function ii(ee,W){if(W&&Fn(W)){if(ee instanceof Hr)return function(ee,W){return new Xn(ee,W)}(ee,W);throw xn("To use ref(service, url), the first argument must be a Storage instance.")}return ir(ee,W)}function Nr(ee,W){var Ie=null==W?void 0:W[le];return null==Ie?null:Un.makeFromBucketSpec(Ie,ee)}var Hr=function(){function ee(W,Ie,Ge,dt,xt,an){this.app=W,this._authProvider=Ie,this._appCheckProvider=Ge,this._pool=dt,this._url=xt,this._firebaseVersion=an,this._bucket=null,this._host=Pe,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=xt?Un.makeFromBucketSpec(xt,this._host):Nr(this._host,this.app.options)}return Object.defineProperty(ee.prototype,"host",{get:function(){return this._host},set:function(W){this._host=W,this._bucket=null!=this._url?Un.makeFromBucketSpec(this._url,W):Nr(W,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(W){Tn("time",0,Number.POSITIVE_INFINITY,W),this._maxUploadRetryTime=W},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(W){Tn("time",0,Number.POSITIVE_INFINITY,W),this._maxOperationRetryTime=W},enumerable:!1,configurable:!0}),ee.prototype._getAuthToken=function(){return(0,b.__awaiter)(this,void 0,void 0,function(){var W,Ie;return(0,b.__generator)(this,function(Ge){switch(Ge.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(W=this._authProvider.getImmediate({optional:!0}))?[4,W.getToken()]:[3,2];case 1:if(null!==(Ie=Ge.sent()))return[2,Ie.accessToken];Ge.label=2;case 2:return[2,null]}})})},ee.prototype._getAppCheckToken=function(){return(0,b.__awaiter)(this,void 0,void 0,function(){var W;return(0,b.__generator)(this,function(Ge){switch(Ge.label){case 0:return(W=this._appCheckProvider.getImmediate({optional:!0}))?[4,W.getToken()]:[3,2];case 1:return[2,Ge.sent().token];case 2:return[2,null]}})})},ee.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(W){return W.cancel()}),this._requests.clear()),Promise.resolve()},ee.prototype._makeStorageReference=function(W){return new Xn(this,W)},ee.prototype._makeRequest=function(W,Ie,Ge){var dt=this;if(this._deleted)return new Gn(Wn());var xt=function(ee,W,Ie,Ge,dt,xt){var an=Bn(ee.urlParams),pn=ee.url+an,Z=Object.assign({},ee.headers);return function(ee,W){W&&(ee["X-Firebase-GMPID"]=W)}(Z,W),function(ee,W){null!==W&&W.length>0&&(ee.Authorization="Firebase "+W)}(Z,Ie),function(ee,W){ee["X-Firebase-Storage-Version"]="webjs/"+(null!=W?W:"AppManager")}(Z,xt),function(ee,W){null!==W&&(ee["X-Firebase-AppCheck"]=W)}(Z,Ge),new pt(pn,ee.method,Z,ee.body,ee.successCodes,ee.additionalRetryCodes,ee.handler,ee.errorHandler,ee.timeout,ee.progressCallback,dt)}(W,this._appId,Ie,Ge,this._pool,this._firebaseVersion);return this._requests.add(xt),xt.getPromise().then(function(){return dt._requests.delete(xt)},function(){return dt._requests.delete(xt)}),xt},ee.prototype.makeRequestWithTokens=function(W){return(0,b.__awaiter)(this,void 0,void 0,function(){var Ie;return(0,b.__generator)(this,function(xt){switch(xt.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return Ie=xt.sent(),[2,this._makeRequest(W,Ie[0],Ie[1])]}})})},ee}();function Mr(ee,W){return ii(ee=(0,j.getModularInstance)(ee),W)}var ee,W,Yn=function(){function ee(W,Ie,Ge){this._delegate=W,this.task=Ie,this.ref=Ge}return Object.defineProperty(ee.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),ee}(),uo=function(){function ee(W,Ie){this._delegate=W,this._ref=Ie,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(ee.prototype,"snapshot",{get:function(){return new Yn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),ee.prototype.then=function(W,Ie){var Ge=this;return this._delegate.then(function(dt){if(W)return W(new Yn(dt,Ge,Ge._ref))},Ie)},ee.prototype.on=function(W,Ie,Ge,dt){var xt=this,an=void 0;return Ie&&(an="function"==typeof Ie?function(pn){return Ie(new Yn(pn,xt,xt._ref))}:{next:Ie.next?function(pn){return Ie.next(new Yn(pn,xt,xt._ref))}:void 0,complete:Ie.complete||void 0,error:Ie.error||void 0}),this._delegate.on(W,an,Ge||void 0,dt||void 0)},ee}(),Ni=function(){function ee(W,Ie){this._delegate=W,this._service=Ie}return Object.defineProperty(ee.prototype,"prefixes",{get:function(){var W=this;return this._delegate.prefixes.map(function(Ie){return new ki(Ie,W._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"items",{get:function(){var W=this;return this._delegate.items.map(function(Ie){return new ki(Ie,W._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),ee}(),ki=function(){function ee(W,Ie){this._delegate=W,this.storage=Ie}return Object.defineProperty(ee.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),ee.prototype.toString=function(){return this._delegate.toString()},ee.prototype.child=function(W){return new ee(function(ee,W){return lr(ee,W)}(this._delegate,W),this.storage)},Object.defineProperty(ee.prototype,"root",{get:function(){return new ee(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"parent",{get:function(){var W=this._delegate.parent;return null==W?null:new ee(W,this.storage)},enumerable:!1,configurable:!0}),ee.prototype.put=function(W,Ie){return this._throwIfRoot("put"),new uo(function(ee,W,Ie){return function(ee,W,Ie){return ee._throwIfRoot("uploadBytesResumable"),new Yi(ee,new Fr(W),Ie)}(ee=(0,j.getModularInstance)(ee),W,Ie)}(this._delegate,W,Ie),this)},ee.prototype.putString=function(W,Ie,Ge){void 0===Ie&&(Ie=_t.RAW),this._throwIfRoot("putString");var dt=qt(Ie,W),xt=(0,b.__assign)({},Ge);return null==xt.contentType&&null!=dt.contentType&&(xt.contentType=dt.contentType),new uo(new Yi(this._delegate,new Fr(dt.data,!0),xt),this)},ee.prototype.listAll=function(){var W=this;return function(ee){return Kn(ee=(0,j.getModularInstance)(ee))}(this._delegate).then(function(Ie){return new Ni(Ie,W.storage)})},ee.prototype.list=function(W){var Ie=this;return function(ee,W){return Qn(ee=(0,j.getModularInstance)(ee),W)}(this._delegate,W||void 0).then(function(Ge){return new Ni(Ge,Ie.storage)})},ee.prototype.getMetadata=function(){return function(ee){return function(ee){return(0,b.__awaiter)(this,void 0,void 0,function(){var W;return(0,b.__generator)(this,function(Ie){switch(Ie.label){case 0:return ee._throwIfRoot("getMetadata"),W=Pi(ee.storage,ee._location,Lt()),[4,ee.storage.makeRequestWithTokens(W)];case 1:return[2,Ie.sent().getPromise()]}})})}(ee=(0,j.getModularInstance)(ee))}(this._delegate)},ee.prototype.updateMetadata=function(W){return function(ee,W){return function(ee,W){return(0,b.__awaiter)(this,void 0,void 0,function(){var Ie;return(0,b.__generator)(this,function(Ge){switch(Ge.label){case 0:return ee._throwIfRoot("updateMetadata"),Ie=function(ee,W,Ie,Ge){var xt=nn(W.fullServerUrl(),ee.host),pn=nr(Ie,Ge),z=ee.maxOperationRetryTime,F=new Sr(xt,"PATCH",Gi(ee,Ge),z);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=pn,F.errorHandler=to(W),F}(ee.storage,ee._location,W,Lt()),[4,ee.storage.makeRequestWithTokens(Ie)];case 1:return[2,Ge.sent().getPromise()]}})})}(ee=(0,j.getModularInstance)(ee),W)}(this._delegate,W)},ee.prototype.getDownloadURL=function(){return function(ee){return Wi(ee=(0,j.getModularInstance)(ee))}(this._delegate)},ee.prototype.delete=function(){return this._throwIfRoot("delete"),function(ee){return function(ee){return(0,b.__awaiter)(this,void 0,void 0,function(){var W;return(0,b.__generator)(this,function(Ie){switch(Ie.label){case 0:return ee._throwIfRoot("deleteObject"),W=function(ee,W){var Ge=nn(W.fullServerUrl(),ee.host),pn=new Sr(Ge,"DELETE",function(Z,z){},ee.maxOperationRetryTime);return pn.successCodes=[200,204],pn.errorHandler=to(W),pn}(ee.storage,ee._location),[4,ee.storage.makeRequestWithTokens(W)];case 1:return[2,Ie.sent().getPromise()]}})})}(ee=(0,j.getModularInstance)(ee))}(this._delegate)},ee.prototype._throwIfRoot=function(W){if(""===this._delegate._location.path)throw ke(W)},ee}(),Ro=function(){function ee(W,Ie){this.app=W,this._delegate=Ie}return Object.defineProperty(ee.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),ee.prototype.ref=function(W){if(Fn(W))throw xn("ref() expected a child path but got a URL, use refFromURL instead.");return new ki(Mr(this._delegate,W),this)},ee.prototype.refFromURL=function(W){if(!Fn(W))throw xn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Un.makeFromUrl(W,this._delegate.host)}catch(Ie){throw xn("refFromUrl() expected a valid full URL but got an invalid one.")}return new ki(Mr(this._delegate,W),this)},ee.prototype.setMaxUploadRetryTime=function(W){this._delegate.maxUploadRetryTime=W},ee.prototype.setMaxOperationRetryTime=function(W){this._delegate.maxOperationRetryTime=W},ee.prototype.useEmulator=function(W,Ie,Ge){void 0===Ge&&(Ge={}),function(ee,W,Ie,Ge){void 0===Ge&&(Ge={}),function(ee,W,Ie,Ge){void 0===Ge&&(Ge={}),ee.host="http://"+W+":"+Ie;var dt=Ge.mockUserToken;dt&&(ee._overrideAuthToken="string"==typeof dt?dt:(0,j.createMockUserToken)(dt,ee.app.options.projectId))}(ee,W,Ie,Ge)}(this._delegate,W,Ie,Ge)},ee}();W={TaskState:vn,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:_t,Storage:Hr,Reference:ki},(ee=E.default).INTERNAL.registerComponent(new L.Component("storage",function(ee,W){var Ie=W.instanceIdentifier,Ge=ee.getProvider("app").getImmediate(),dt=ee.getProvider("auth-internal"),xt=ee.getProvider("app-check-internal");return new Ro(Ge,new Hr(Ge,dt,xt,new jt,Ie,E.default.SDK_VERSION))},"PUBLIC").setServiceProps(W).setMultipleInstances(!0)),ee.registerVersion("@firebase/storage","0.7.0")},4685:(Mn,Dt,ie)=>{"use strict";ie.r(Dt),ie.d(Dt,{CONSTANTS:()=>b,Deferred:()=>De,ErrorFactory:()=>qt,FirebaseError:()=>lt,MAX_VALUE_MILLIS:()=>or,RANDOM_FACTOR:()=>Ar,Sha1:()=>In,areCookiesEnabled:()=>ce,assert:()=>j,assertionError:()=>L,async:()=>qe,base64:()=>fe,base64Decode:()=>k,base64Encode:()=>Je,base64urlEncodeWithoutPadding:()=>Fe,calculateBackoffMillis:()=>tr,contains:()=>vt,createMockUserToken:()=>st,createSubscribe:()=>Ct,decode:()=>dn,deepCopy:()=>Re,deepEqual:()=>jt,deepExtend:()=>Ye,errorPrefix:()=>nn,extractQuerystring:()=>kn,getGlobal:()=>rt,getModularInstance:()=>wr,getUA:()=>je,isAdmin:()=>vn,isBrowser:()=>Ve,isBrowserExtension:()=>at,isElectron:()=>It,isEmpty:()=>Rt,isIE:()=>bt,isIndexedDBAvailable:()=>ke,isMobileCordova:()=>nt,isNode:()=>Me,isNodeSdk:()=>xn,isReactNative:()=>At,isSafari:()=>Wn,isUWP:()=>tn,isValidFormat:()=>$n,isValidTimestamp:()=>Zt,issuedAtTime:()=>_n,jsonEval:()=>un,map:()=>hn,ordinal:()=>An,querystring:()=>Gn,querystringDecode:()=>bn,safeGet:()=>Et,stringLength:()=>ht,stringToByteArray:()=>wt,stringify:()=>fn,validateArgCount:()=>Tn,validateCallback:()=>pt,validateContextObject:()=>ln,validateIndexedDBOpenable:()=>$e,validateNamespace:()=>Bn});var E=ie(4762),b={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(et,Ue){if(!et)throw L(Ue)},L=function(et){return new Error("Firebase Database ("+b.SDK_VERSION+") INTERNAL ASSERT FAILED: "+et)},Pe=function(et){for(var Ue=[],gt=0,Se=0;Se<et.length;Se++){var Te=et.charCodeAt(Se);Te<128?Ue[gt++]=Te:Te<2048?(Ue[gt++]=Te>>6|192,Ue[gt++]=63&Te|128):55296==(64512&Te)&&Se+1<et.length&&56320==(64512&et.charCodeAt(Se+1))?(Te=65536+((1023&Te)<<10)+(1023&et.charCodeAt(++Se)),Ue[gt++]=Te>>18|240,Ue[gt++]=Te>>12&63|128,Ue[gt++]=Te>>6&63|128,Ue[gt++]=63&Te|128):(Ue[gt++]=Te>>12|224,Ue[gt++]=Te>>6&63|128,Ue[gt++]=63&Te|128)}return Ue},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(et,Ue){if(!Array.isArray(et))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var gt=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[],Te=0;Te<et.length;Te+=3){var Qe=et[Te],yt=Te+1<et.length,Lt=yt?et[Te+1]:0,Ht=Te+2<et.length,Sn=Ht?et[Te+2]:0,nr=(15&Lt)<<2|Sn>>6,Lr=63&Sn;Ht||(Lr=64,yt||(nr=64)),Se.push(gt[Qe>>2],gt[(3&Qe)<<4|Lt>>4],gt[nr],gt[Lr])}return Se.join("")},encodeString:function(et,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(et):this.encodeByteArray(Pe(et),Ue)},decodeString:function(et,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(et):function(et){for(var Ue=[],gt=0,Se=0;gt<et.length;){var Te=et[gt++];if(Te<128)Ue[Se++]=String.fromCharCode(Te);else if(Te>191&&Te<224){var Qe=et[gt++];Ue[Se++]=String.fromCharCode((31&Te)<<6|63&Qe)}else if(Te>239&&Te<365){var Ht=((7&Te)<<18|(63&(Qe=et[gt++]))<<12|(63&(yt=et[gt++]))<<6|63&et[gt++])-65536;Ue[Se++]=String.fromCharCode(55296+(Ht>>10)),Ue[Se++]=String.fromCharCode(56320+(1023&Ht))}else{Qe=et[gt++];var yt=et[gt++];Ue[Se++]=String.fromCharCode((15&Te)<<12|(63&Qe)<<6|63&yt)}}return Ue.join("")}(this.decodeStringToByteArray(et,Ue))},decodeStringToByteArray:function(et,Ue){this.init_();for(var gt=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[],Te=0;Te<et.length;){var Qe=gt[et.charAt(Te++)],Lt=Te<et.length?gt[et.charAt(Te)]:0,Sn=++Te<et.length?gt[et.charAt(Te)]:64,ur=++Te<et.length?gt[et.charAt(Te)]:64;if(++Te,null==Qe||null==Lt||null==Sn||null==ur)throw Error();Se.push(Qe<<2|Lt>>4),64!==Sn&&(Se.push(Lt<<4&240|Sn>>2),64!==ur&&Se.push(Sn<<6&192|ur))}return Se},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var et=0;et<this.ENCODED_VALS.length;et++)this.byteToCharMap_[et]=this.ENCODED_VALS.charAt(et),this.charToByteMap_[this.byteToCharMap_[et]]=et,this.byteToCharMapWebSafe_[et]=this.ENCODED_VALS_WEBSAFE.charAt(et),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[et]]=et,et>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(et)]=et,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(et)]=et)}}},Je=function(et){var Ue=Pe(et);return fe.encodeByteArray(Ue,!0)},Fe=function(et){return Je(et).replace(/\./g,"")},k=function(et){try{return fe.decodeString(et,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};function Re(et){return Ye(void 0,et)}function Ye(et,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===et&&(et={});break;case Array:et=[];break;default:return Ue}for(var Se in Ue)!Ue.hasOwnProperty(Se)||!xe(Se)||(et[Se]=Ye(et[Se],Ue[Se]));return et}function xe(et){return"__proto__"!==et}var De=function(){function et(){var Ue=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(gt,Se){Ue.resolve=gt,Ue.reject=Se})}return et.prototype.wrapCallback=function(Ue){var gt=this;return function(Se,Te){Se?gt.reject(Se):gt.resolve(Te),"function"==typeof Ue&&(gt.promise.catch(function(){}),1===Ue.length?Ue(Se):Ue(Se,Te))}},et}();function st(et,Ue){if(et.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Se=Ue||"demo-project",Te=et.iat||0,Qe=et.sub||et.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var yt=(0,E.__assign)({iss:"https://securetoken.google.com/"+Se,aud:Se,iat:Te,exp:Te+3600,auth_time:Te,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},et);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(yt)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(et){return!1}}function Ve(){return"object"==typeof self&&self.self===self}function at(){var et="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof et&&void 0!==et.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function It(){return je().indexOf("Electron/")>=0}function bt(){var et=je();return et.indexOf("MSIE ")>=0||et.indexOf("Trident/")>=0}function tn(){return je().indexOf("MSAppHost/")>=0}function xn(){return!0===b.NODE_CLIENT||!0===b.NODE_ADMIN}function Wn(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){return"indexedDB"in self&&null!=indexedDB}function $e(){return new Promise(function(et,Ue){try{var gt=!0,Se="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(Se);Te.onsuccess=function(){Te.result.close(),gt||self.indexedDB.deleteDatabase(Se),et(!0)},Te.onupgradeneeded=function(){gt=!1},Te.onerror=function(){var Qe;Ue((null===(Qe=Te.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(Qe){Ue(Qe)}})}function ce(){return!(!navigator||!navigator.cookieEnabled)}function rt(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var lt=function(et){function Ue(gt,Se,Te){var Qe=et.call(this,Se)||this;return Qe.code=gt,Qe.customData=Te,Qe.name="FirebaseError",Object.setPrototypeOf(Qe,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(Qe,qt.prototype.create),Qe}return(0,E.__extends)(Ue,et),Ue}(Error),qt=function(){function et(Ue,gt,Se){this.service=Ue,this.serviceName=gt,this.errors=Se}return et.prototype.create=function(Ue){for(var gt=[],Se=1;Se<arguments.length;Se++)gt[Se-1]=arguments[Se];var Te=gt[0]||{},Qe=this.service+"/"+Ue,yt=this.errors[Ue],Lt=yt?Ut(yt,Te):"Error",Ht=this.serviceName+": "+Lt+" ("+Qe+").",Sn=new lt(Qe,Ht,Te);return Sn},et}();function Ut(et,Ue){return et.replace(yn,function(gt,Se){var Te=Ue[Se];return null!=Te?String(Te):"<"+Se+"?>"})}var yn=/\{\$([^}]+)}/g;function un(et){return JSON.parse(et)}function fn(et){return JSON.stringify(et)}var dn=function(et){var Ue={},gt={},Se={},Te="";try{var Qe=et.split(".");Ue=un(k(Qe[0])||""),gt=un(k(Qe[1])||""),Te=Qe[2],Se=gt.d||{},delete gt.d}catch(yt){}return{header:Ue,claims:gt,data:Se,signature:Te}},Zt=function(et){var Ue=dn(et).claims,gt=Math.floor((new Date).getTime()/1e3),Se=0,Te=0;return"object"==typeof Ue&&(Ue.hasOwnProperty("nbf")?Se=Ue.nbf:Ue.hasOwnProperty("iat")&&(Se=Ue.iat),Te=Ue.hasOwnProperty("exp")?Ue.exp:Se+86400),!!gt&&!!Se&&!!Te&&gt>=Se&&gt<=Te},_n=function(et){var Ue=dn(et).claims;return"object"==typeof Ue&&Ue.hasOwnProperty("iat")?Ue.iat:null},$n=function(et){var gt=dn(et).claims;return!!gt&&"object"==typeof gt&&gt.hasOwnProperty("iat")},vn=function(et){var Ue=dn(et).claims;return"object"==typeof Ue&&!0===Ue.admin};function vt(et,Ue){return Object.prototype.hasOwnProperty.call(et,Ue)}function Et(et,Ue){if(Object.prototype.hasOwnProperty.call(et,Ue))return et[Ue]}function Rt(et){for(var Ue in et)if(Object.prototype.hasOwnProperty.call(et,Ue))return!1;return!0}function hn(et,Ue,gt){var Se={};for(var Te in et)Object.prototype.hasOwnProperty.call(et,Te)&&(Se[Te]=Ue.call(gt,et[Te],Te,et));return Se}function jt(et,Ue){if(et===Ue)return!0;for(var gt=Object.keys(et),Se=Object.keys(Ue),Te=0,Qe=gt;Te<Qe.length;Te++){if(!Se.includes(yt=Qe[Te]))return!1;var Lt=et[yt],Ht=Ue[yt];if(Un(Lt)&&Un(Ht)){if(!jt(Lt,Ht))return!1}else if(Lt!==Ht)return!1}for(var Sn=0,Ln=Se;Sn<Ln.length;Sn++){var yt;if(!gt.includes(yt=Ln[Sn]))return!1}return!0}function Un(et){return null!==et&&"object"==typeof et}function Gn(et){for(var Ue=[],gt=function(Ht,Sn){Array.isArray(Sn)?Sn.forEach(function(Ln){Ue.push(encodeURIComponent(Ht)+"="+encodeURIComponent(Ln))}):Ue.push(encodeURIComponent(Ht)+"="+encodeURIComponent(Sn))},Se=0,Te=Object.entries(et);Se<Te.length;Se++){var Qe=Te[Se];gt(Qe[0],Qe[1])}return Ue.length?"&"+Ue.join("&"):""}function bn(et){var Ue={};return et.replace(/^\?/,"").split("&").forEach(function(Se){if(Se){var Te=Se.split("="),yt=Te[1];Ue[decodeURIComponent(Te[0])]=decodeURIComponent(yt)}}),Ue}function kn(et){var Ue=et.indexOf("?");if(!Ue)return"";var gt=et.indexOf("#",Ue);return et.substring(Ue,gt>0?gt:void 0)}var In=function(){function et(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ue=1;Ue<this.blockSize;++Ue)this.pad_[Ue]=0;this.reset()}return et.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},et.prototype.compress_=function(Ue,gt){gt||(gt=0);var Se=this.W_;if("string"==typeof Ue)for(var Te=0;Te<16;Te++)Se[Te]=Ue.charCodeAt(gt)<<24|Ue.charCodeAt(gt+1)<<16|Ue.charCodeAt(gt+2)<<8|Ue.charCodeAt(gt+3),gt+=4;else for(Te=0;Te<16;Te++)Se[Te]=Ue[gt]<<24|Ue[gt+1]<<16|Ue[gt+2]<<8|Ue[gt+3],gt+=4;for(Te=16;Te<80;Te++)Se[Te]=4294967295&((Qe=Se[Te-3]^Se[Te-8]^Se[Te-14]^Se[Te-16])<<1|Qe>>>31);var ur,nr,yt=this.chain_[0],Lt=this.chain_[1],Ht=this.chain_[2],Sn=this.chain_[3],Ln=this.chain_[4];for(Te=0;Te<80;Te++){Te<40?Te<20?(ur=Sn^Lt&(Ht^Sn),nr=1518500249):(ur=Lt^Ht^Sn,nr=1859775393):Te<60?(ur=Lt&Ht|Sn&(Lt|Ht),nr=2400959708):(ur=Lt^Ht^Sn,nr=3395469782);var Qe=(yt<<5|yt>>>27)+ur+Ln+nr+Se[Te]&4294967295;Ln=Sn,Sn=Ht,Ht=4294967295&(Lt<<30|Lt>>>2),Lt=yt,yt=Qe}this.chain_[0]=this.chain_[0]+yt&4294967295,this.chain_[1]=this.chain_[1]+Lt&4294967295,this.chain_[2]=this.chain_[2]+Ht&4294967295,this.chain_[3]=this.chain_[3]+Sn&4294967295,this.chain_[4]=this.chain_[4]+Ln&4294967295},et.prototype.update=function(Ue,gt){if(null!=Ue){void 0===gt&&(gt=Ue.length);for(var Se=gt-this.blockSize,Te=0,Qe=this.buf_,yt=this.inbuf_;Te<gt;){if(0===yt)for(;Te<=Se;)this.compress_(Ue,Te),Te+=this.blockSize;if("string"==typeof Ue){for(;Te<gt;)if(Qe[yt]=Ue.charCodeAt(Te),++Te,++yt===this.blockSize){this.compress_(Qe),yt=0;break}}else for(;Te<gt;)if(Qe[yt]=Ue[Te],++Te,++yt===this.blockSize){this.compress_(Qe),yt=0;break}}this.inbuf_=yt,this.total_+=gt}},et.prototype.digest=function(){var Ue=[],gt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Se=this.blockSize-1;Se>=56;Se--)this.buf_[Se]=255&gt,gt/=256;this.compress_(this.buf_);var Te=0;for(Se=0;Se<5;Se++)for(var Qe=24;Qe>=0;Qe-=8)Ue[Te]=this.chain_[Se]>>Qe&255,++Te;return Ue},et}();function Ct(et,Ue){var gt=new He(et,Ue);return gt.subscribe.bind(gt)}var He=function(){function et(Ue,gt){var Se=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=gt,this.task.then(function(){Ue(Se)}).catch(function(Te){Se.error(Te)})}return et.prototype.next=function(Ue){this.forEachObserver(function(gt){gt.next(Ue)})},et.prototype.error=function(Ue){this.forEachObserver(function(gt){gt.error(Ue)}),this.close(Ue)},et.prototype.complete=function(){this.forEachObserver(function(Ue){Ue.complete()}),this.close()},et.prototype.subscribe=function(Ue,gt,Se){var Qe,Te=this;if(void 0===Ue&&void 0===gt&&void 0===Se)throw new Error("Missing Observer.");void 0===(Qe=function(et,Ue){if("object"!=typeof et||null===et)return!1;for(var gt=0,Se=["next","error","complete"];gt<Se.length;gt++){var Te=Se[gt];if(Te in et&&"function"==typeof et[Te])return!0}return!1}(Ue)?Ue:{next:Ue,error:gt,complete:Se}).next&&(Qe.next=Tt),void 0===Qe.error&&(Qe.error=Tt),void 0===Qe.complete&&(Qe.complete=Tt);var yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Te.finalError?Qe.error(Te.finalError):Qe.complete()}catch(Lt){}}),this.observers.push(Qe),yt},et.prototype.unsubscribeOne=function(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},et.prototype.forEachObserver=function(Ue){if(!this.finalized)for(var gt=0;gt<this.observers.length;gt++)this.sendOne(gt,Ue)},et.prototype.sendOne=function(Ue,gt){var Se=this;this.task.then(function(){if(void 0!==Se.observers&&void 0!==Se.observers[Ue])try{gt(Se.observers[Ue])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})},et.prototype.close=function(Ue){var gt=this;this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(function(){gt.observers=void 0,gt.onNoObservers=void 0}))},et}();function qe(et,Ue){return function(){for(var gt=[],Se=0;Se<arguments.length;Se++)gt[Se]=arguments[Se];Promise.resolve(!0).then(function(){et.apply(void 0,gt)}).catch(function(Te){Ue&&Ue(Te)})}}function Tt(){}var Tn=function(et,Ue,gt,Se){var Te;if(Se<Ue?Te="at least "+Ue:Se>gt&&(Te=0===gt?"none":"no more than "+gt),Te)throw new Error(et+" failed: Was called with "+Se+(1===Se?" argument.":" arguments.")+" Expects "+Te+".")};function nn(et,Ue){return et+" failed: "+Ue+" argument "}function Bn(et,Ue,gt){if((!gt||Ue)&&"string"!=typeof Ue)throw new Error(nn(et,"namespace")+"must be a valid firebase namespace.")}function pt(et,Ue,gt,Se){if((!Se||gt)&&"function"!=typeof gt)throw new Error(nn(et,Ue)+"must be a valid function.")}function ln(et,Ue,gt,Se){if((!Se||gt)&&("object"!=typeof gt||null===gt))throw new Error(nn(et,Ue)+"must be a valid context object.")}var wt=function(et){for(var Ue=[],gt=0,Se=0;Se<et.length;Se++){var Te=et.charCodeAt(Se);if(Te>=55296&&Te<=56319){var Qe=Te-55296;Se++,j(Se<et.length,"Surrogate pair missing trail surrogate."),Te=65536+(Qe<<10)+(et.charCodeAt(Se)-56320)}Te<128?Ue[gt++]=Te:Te<2048?(Ue[gt++]=Te>>6|192,Ue[gt++]=63&Te|128):Te<65536?(Ue[gt++]=Te>>12|224,Ue[gt++]=Te>>6&63|128,Ue[gt++]=63&Te|128):(Ue[gt++]=Te>>18|240,Ue[gt++]=Te>>12&63|128,Ue[gt++]=Te>>6&63|128,Ue[gt++]=63&Te|128)}return Ue},ht=function(et){for(var Ue=0,gt=0;gt<et.length;gt++){var Se=et.charCodeAt(gt);Se<128?Ue++:Se<2048?Ue+=2:Se>=55296&&Se<=56319?(Ue+=4,gt++):Ue+=3}return Ue},or=144e5,Ar=.5;function tr(et,Ue,gt){void 0===Ue&&(Ue=1e3),void 0===gt&&(gt=2);var Se=Ue*Math.pow(gt,et),Te=Math.round(Ar*Se*(Math.random()-.5)*2);return Math.min(or,Se+Te)}function An(et){return Number.isFinite(et)?et+function(et){var Ue=(et=Math.abs(et))%100;if(Ue>=10&&Ue<=20)return"th";var gt=et%10;return 1===gt?"st":2===gt?"nd":3===gt?"rd":"th"}(et):""+et}function wr(et){return et&&et._delegate?et._delegate:et}},2870:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{jK:()=>ya,ju:()=>ds,tw:()=>vo,zI:()=>ts,kN:()=>Qi,ii:()=>$i,JJ:()=>Hs,UE:()=>xo,FJ:()=>la});var E=function(y,U){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,_e){X.__proto__=_e}||function(X,_e){for(var A in _e)Object.prototype.hasOwnProperty.call(_e,A)&&(X[A]=_e[A])})(y,U)};function j(y){var U="function"==typeof Symbol&&Symbol.iterator,X=U&&y[U],_e=0;if(X)return X.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&_e>=y.length&&(y=void 0),{value:y&&y[_e++],done:!y}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}var Pe,L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},le=le||{},fe=L||self;function Je(){}function Fe(y){var U=typeof y;return"array"==(U="object"!=U?U:y?Array.isArray(y)?"array":U:"null")||"object"==U&&"number"==typeof y.length}function k(y){var U=typeof y;return"object"==U&&null!=y||"function"==U}var Ye="closure_uid_"+(1e9*Math.random()>>>0),xe=0;function De(y,U,X){return y.call.apply(y.bind,arguments)}function st(y,U,X){if(!y)throw Error();if(2<arguments.length){var _e=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,_e),y.apply(U,A)}}return function(){return y.apply(U,arguments)}}function je(y,U,X){return(je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?De:st).apply(null,arguments)}function nt(y,U){var X=Array.prototype.slice.call(arguments,1);return function(){var _e=X.slice();return _e.push.apply(_e,arguments),y.apply(this,_e)}}function Me(y,U){function X(){}X.prototype=U.prototype,y.Z=U.prototype,y.prototype=new X,y.prototype.constructor=y,y.Vb=function(_e,A,R){for(var te=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)te[ze-2]=arguments[ze];return U.prototype[A].apply(_e,te)}}function Ve(){this.s=this.s,this.o=this.o}var At={};Ve.prototype.s=!1,Ve.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var y=function(y){return Object.prototype.hasOwnProperty.call(y,Ye)&&y[Ye]||(y[Ye]=++xe)}(this);delete At[y]}},Ve.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var It=Array.prototype.indexOf?function(y,U){return Array.prototype.indexOf.call(y,U,void 0)}:function(y,U){if("string"==typeof y)return"string"!=typeof U||1!=U.length?-1:y.indexOf(U,0);for(var X=0;X<y.length;X++)if(X in y&&y[X]===U)return X;return-1},bt=Array.prototype.forEach?function(y,U,X){Array.prototype.forEach.call(y,U,X)}:function(y,U,X){for(var _e=y.length,A="string"==typeof y?y.split(""):y,R=0;R<_e;R++)R in A&&U.call(X,A[R],R,y)};function xn(y){return Array.prototype.concat.apply([],arguments)}function Wn(y){var U=y.length;if(0<U){for(var X=Array(U),_e=0;_e<U;_e++)X[_e]=y[_e];return X}return[]}function ke(y){return/^[\s\xa0]*$/.test(y)}var _t,$e=String.prototype.trim?function(y){return y.trim()}:function(y){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(y)[1]};function ce(y,U){return-1!=y.indexOf(U)}function rt(y,U){return y<U?-1:y>U?1:0}e:{var lt=fe.navigator;if(lt){var qt=lt.userAgent;if(qt){_t=qt;break e}}_t=""}function Ut(y,U,X){for(var _e in y)U.call(X,y[_e],_e,y)}function yn(y){var U={};for(var X in y)U[X]=y[X];return U}var un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fn(y,U){for(var X,_e,A=1;A<arguments.length;A++){for(X in _e=arguments[A])y[X]=_e[X];for(var R=0;R<un.length;R++)X=un[R],Object.prototype.hasOwnProperty.call(_e,X)&&(y[X]=_e[X])}}function dn(y){return dn[" "](y),y}dn[" "]=Je;var jt,y,_n=ce(_t,"Opera"),$n=ce(_t,"Trident")||ce(_t,"MSIE"),vn=ce(_t,"Edge"),vt=vn||$n,Et=ce(_t,"Gecko")&&!(ce(_t.toLowerCase(),"webkit")&&!ce(_t,"Edge"))&&!(ce(_t,"Trident")||ce(_t,"MSIE"))&&!ce(_t,"Edge"),Rt=ce(_t.toLowerCase(),"webkit")&&!ce(_t,"Edge");function hn(){var y=fe.document;return y?y.documentMode:void 0}e:{var Un="",Gn=(y=_t,Et?/rv:([^\);]+)(\)|;)/.exec(y):vn?/Edge\/([\d\.]+)/.exec(y):$n?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(y):Rt?/WebKit\/(\S+)/.exec(y):_n?/(?:Version)[ \/]?(\S+)/.exec(y):void 0);if(Gn&&(Un=Gn?Gn[1]:""),$n){var bn=hn();if(null!=bn&&bn>parseFloat(Un)){jt=String(bn);break e}}jt=Un}var kn={};function In(){return U=kn,Object.prototype.hasOwnProperty.call(U,9)?U[9]:U[9]=function(){for(var y=0,U=$e(String(jt)).split("."),X=$e("9").split("."),_e=Math.max(U.length,X.length),A=0;0==y&&A<_e;A++){var R=U[A]||"",te=X[A]||"";do{if(R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],te=/(\d*)(\D*)(.*)/.exec(te)||["","","",""],0==R[0].length&&0==te[0].length)break;y=rt(0==R[1].length?0:parseInt(R[1],10),0==te[1].length?0:parseInt(te[1],10))||rt(0==R[2].length,0==te[2].length)||rt(R[2],te[2]),R=R[3],te=te[3]}while(0==y)}return 0<=y}();var U}var qe=fe.document&&$n&&(hn()||parseInt(jt,10))||void 0,Nt=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var y=!1,U=Object.defineProperty({},"passive",{get:function(){y=!0}});try{fe.addEventListener("test",Je,U),fe.removeEventListener("test",Je,U)}catch(X){}return y}();function Tt(y,U){this.type=y,this.g=this.target=U,this.defaultPrevented=!1}function Tn(y,U){if(Tt.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var X=this.type=y.type,_e=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=U,U=y.relatedTarget){if(Et){e:{try{dn(U.nodeName);var A=!0;break e}catch(R){}A=!1}A||(U=null)}}else"mouseover"==X?U=y.fromElement:"mouseout"==X&&(U=y.toElement);this.relatedTarget=U,_e?(this.clientX=void 0!==_e.clientX?_e.clientX:_e.pageX,this.clientY=void 0!==_e.clientY?_e.clientY:_e.pageY,this.screenX=_e.screenX||0,this.screenY=_e.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:nn[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Tn.Z.h.call(this)}}Tt.prototype.h=function(){this.defaultPrevented=!0},Me(Tn,Tt);var nn={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.Z.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),pt=0;function ln(y,U,X,_e,A){this.listener=y,this.proxy=null,this.src=U,this.type=X,this.capture=!!_e,this.ia=A,this.key=++pt,this.ca=this.fa=!1}function wt(y){y.ca=!0,y.listener=null,y.proxy=null,y.src=null,y.ia=null}function ht(y){this.src=y,this.g={},this.h=0}function Yt(y,U){var X=U.type;if(X in y.g){var R,_e=y.g[X],A=It(_e,U);(R=0<=A)&&Array.prototype.splice.call(_e,A,1),R&&(wt(U),0==y.g[X].length&&(delete y.g[X],y.h--))}}function Bt(y,U,X,_e){for(var A=0;A<y.length;++A){var R=y[A];if(!R.ca&&R.listener==U&&R.capture==!!X&&R.ia==_e)return A}return-1}ht.prototype.add=function(y,U,X,_e,A){var R=y.toString();(y=this.g[R])||(y=this.g[R]=[],this.h++);var te=Bt(y,U,_e,A);return-1<te?(U=y[te],X||(U.fa=!1)):((U=new ln(U,this.src,R,!!_e,A)).fa=X,y.push(U)),U};var or="closure_lm_"+(1e6*Math.random()|0),Ar={};function tr(y,U,X,_e,A){if(_e&&_e.once)return wr(y,U,X,_e,A);if(Array.isArray(U)){for(var R=0;R<U.length;R++)tr(y,U[R],X,_e,A);return null}return X=yt(X),y&&y[Bn]?y.N(U,X,k(_e)?!!_e.capture:!!_e,A):An(y,U,X,!1,_e,A)}function An(y,U,X,_e,A,R){if(!U)throw Error("Invalid event type");var te=k(A)?!!A.capture:!!A,ze=Te(y);if(ze||(y[or]=ze=new ht(y)),(X=ze.add(U,X,_e,te,R)).proxy)return X;if(_e=function(){var U=Se;return function y(X){return U.call(y.src,y.listener,X)}}(),X.proxy=_e,_e.src=y,_e.listener=X,y.addEventListener)Nt||(A=te),void 0===A&&(A=!1),y.addEventListener(U.toString(),_e,A);else if(y.attachEvent)y.attachEvent(gt(U.toString()),_e);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(_e)}return X}function wr(y,U,X,_e,A){if(Array.isArray(U)){for(var R=0;R<U.length;R++)wr(y,U[R],X,_e,A);return null}return X=yt(X),y&&y[Bn]?y.O(U,X,k(_e)?!!_e.capture:!!_e,A):An(y,U,X,!0,_e,A)}function et(y,U,X,_e,A){if(Array.isArray(U))for(var R=0;R<U.length;R++)et(y,U[R],X,_e,A);else _e=k(_e)?!!_e.capture:!!_e,X=yt(X),y&&y[Bn]?(y=y.i,(U=String(U).toString())in y.g&&-1<(X=Bt(R=y.g[U],X,_e,A))&&(wt(R[X]),Array.prototype.splice.call(R,X,1),0==R.length&&(delete y.g[U],y.h--))):y&&(y=Te(y))&&(U=y.g[U.toString()],y=-1,U&&(y=Bt(U,X,_e,A)),(X=-1<y?U[y]:null)&&Ue(X))}function Ue(y){if("number"!=typeof y&&y&&!y.ca){var U=y.src;if(U&&U[Bn])Yt(U.i,y);else{var X=y.type,_e=y.proxy;U.removeEventListener?U.removeEventListener(X,_e,y.capture):U.detachEvent?U.detachEvent(gt(X),_e):U.addListener&&U.removeListener&&U.removeListener(_e),(X=Te(U))?(Yt(X,y),0==X.h&&(X.src=null,U[or]=null)):wt(y)}}}function gt(y){return y in Ar?Ar[y]:Ar[y]="on"+y}function Se(y,U){if(y.ca)y=!0;else{U=new Tn(U,this);var X=y.listener,_e=y.ia||y.src;y.fa&&Ue(y),y=X.call(_e,U)}return y}function Te(y){return(y=y[or])instanceof ht?y:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(y){return"function"==typeof y?y:(y[Qe]||(y[Qe]=function(U){return y.handleEvent(U)}),y[Qe])}function Lt(){Ve.call(this),this.i=new ht(this),this.P=this,this.I=null}function Ht(y,U){var X,_e=y.I;if(_e)for(X=[];_e;_e=_e.I)X.push(_e);if(y=y.P,_e=U.type||U,"string"==typeof U)U=new Tt(U,y);else if(U instanceof Tt)U.target=U.target||y;else{var A=U;fn(U=new Tt(_e,y),A)}if(A=!0,X)for(var R=X.length-1;0<=R;R--){var te=U.g=X[R];A=Sn(te,_e,!0,U)&&A}if(A=Sn(te=U.g=y,_e,!0,U)&&A,A=Sn(te,_e,!1,U)&&A,X)for(R=0;R<X.length;R++)A=Sn(te=U.g=X[R],_e,!1,U)&&A}function Sn(y,U,X,_e){if(!(U=y.i.g[String(U)]))return!0;U=U.concat();for(var A=!0,R=0;R<U.length;++R){var te=U[R];if(te&&!te.ca&&te.capture==X){var ze=te.listener,Vt=te.ia||te.src;te.fa&&Yt(y.i,te),A=!1!==ze.call(Vt,_e)&&A}}return A&&!_e.defaultPrevented}Me(Lt,Ve),Lt.prototype[Bn]=!0,Lt.prototype.removeEventListener=function(y,U,X,_e){et(this,y,U,X,_e)},Lt.prototype.M=function(){if(Lt.Z.M.call(this),this.i){var U,y=this.i;for(U in y.g){for(var X=y.g[U],_e=0;_e<X.length;_e++)wt(X[_e]);delete y.g[U],y.h--}}this.I=null},Lt.prototype.N=function(y,U,X,_e){return this.i.add(String(y),U,!1,X,_e)},Lt.prototype.O=function(y,U,X,_e){return this.i.add(String(y),U,!0,X,_e)};var Ln=fe.JSON.stringify;function ur(){var y=rr,U=null;return y.g&&(U=y.g,y.g=y.g.next,y.g||(y.h=null),U.next=null),U}var Sr,nr=function(){function y(){this.h=this.g=null}return y.prototype.add=function(U,X){var _e=Lr.get();_e.set(U,X),this.h?this.h.next=_e:this.g=_e,this.h=_e},y}(),Lr=new(function(){function y(U,X){this.i=U,this.j=X,this.h=0,this.g=null}return y.prototype.get=function(){var U;return 0<this.h?(this.h--,this.g=(U=this.g).next,U.next=null):U=this.i(),U},y}())(function(){return new zn},function(y){return y.reset()}),zn=function(){function y(){this.next=this.g=this.h=null}return y.prototype.set=function(U,X){this.h=U,this.g=X,this.next=null},y.prototype.reset=function(){this.next=this.g=this.h=null},y}();function Hi(y){fe.setTimeout(function(){throw y},0)}function Wr(y,U){Sr||function(){var y=fe.Promise.resolve(void 0);Sr=function(){y.then(ri)}}(),Gi||(Sr(),Gi=!0),rr.add(y,U)}var Gi=!1,rr=new nr;function ri(){for(var y;y=ur();){try{y.h.call(y.g)}catch(X){Hi(X)}var U=Lr;U.j(y),100>U.h&&(U.h++,y.next=U.g,U.g=y)}Gi=!1}function Oi(y,U){Lt.call(this),this.h=y||1,this.g=U||fe,this.j=je(this.kb,this),this.l=Date.now()}function to(y){y.da=!1,y.S&&(y.g.clearTimeout(y.S),y.S=null)}function Pi(y,U,X){if("function"==typeof y)X&&(y=je(y,X));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=je(y.handleEvent,y)}return 2147483647<Number(U)?-1:fe.setTimeout(y,U||0)}function Ri(y){y.g=Pi(function(){y.g=null,y.i&&(y.i=!1,Ri(y))},y.j);var U=y.h;y.h=null,y.m.apply(null,U)}Me(Oi,Lt),(Pe=Oi.prototype).da=!1,Pe.S=null,Pe.kb=function(){if(this.da){var y=Date.now()-this.l;0<y&&y<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-y):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ht(this,"tick"),this.da&&(to(this),this.start()))}},Pe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pe.M=function(){Oi.Z.M.call(this),to(this),delete this.g};var So=function(y){function U(X,_e){var A=y.call(this)||this;return A.m=X,A.j=_e,A.h=null,A.i=!1,A.g=null,A}return function(y,U){if("function"!=typeof U&&null!==U)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function X(){this.constructor=y}E(y,U),y.prototype=null===U?Object.create(U):(X.prototype=U.prototype,new X)}(U,y),U.prototype.l=function(X){this.h=arguments,this.g?this.i=!0:Ri(this)},U.prototype.M=function(){y.prototype.M.call(this),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},U}(Ve);function Ui(y){Ve.call(this),this.h=y,this.g={}}Me(Ui,Ve);var qi=[];function Do(y,U,X,_e){Array.isArray(X)||(X&&(qi[0]=X.toString()),X=qi);for(var A=0;A<X.length;A++){var R=tr(U,X[A],_e||y.handleEvent,!1,y.h||y);if(!R)break;y.g[R.key]=R}}function Ki(y){Ut(y.g,function(U,X){this.g.hasOwnProperty(X)&&Ue(U)},y),y.g={}}function on(){this.g=!0}function fi(y,U,X,_e){y.info(function(){return"XMLHTTP TEXT ("+U+"): "+function(y,U){if(!y.g)return U;if(!U)return null;try{var X=JSON.parse(U);if(X)for(y=0;y<X.length;y++)if(Array.isArray(X[y])){var _e=X[y];if(!(2>_e.length)){var A=_e[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if("noop"!=R&&"stop"!=R&&"close"!=R)for(var te=1;te<A.length;te++)A[te]=""}}}return Ln(X)}catch(ze){return U}}(y,X)+(_e?" "+_e:"")})}Ui.prototype.M=function(){Ui.Z.M.call(this),Ki(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},on.prototype.Aa=function(){this.g=!1},on.prototype.info=function(){};var $r={},Br=null;function xi(){return Br=Br||new Lt}function Yi(y){Tt.call(this,$r.Ma,y)}function Xn(y){var U=xi();Ht(U,new Yi(U,y))}function Ti(y,U){Tt.call(this,$r.STAT_EVENT,y),this.stat=U}function Kn(y){var U=xi();Ht(U,new Ti(U,y))}function pr(y,U){Tt.call(this,$r.Na,y),this.size=U}function Qn(y,U){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){y()},U)}$r.Ma="serverreachability",Me(Yi,Tt),$r.STAT_EVENT="statevent",Me(Ti,Tt),$r.Na="timingevent",Me(pr,Tt);var Rr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wi(){}function lr(){}Wi.prototype.h=null;var ii,Fn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zr(){Tt.call(this,"d")}function ir(){Tt.call(this,"c")}function Nr(){}function er(y,U,X,_e){this.l=y,this.j=U,this.m=X,this.X=_e||1,this.V=new Ui(this),this.P=mi,this.W=new Oi(y=vt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hr}function Hr(){this.i=null,this.g="",this.h=!1}Me(zr,Tt),Me(ir,Tt),Me(Nr,Wi),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},ii=new Nr;var mi=45e3,Po={},Kr={};function Zi(y,U,X){y.K=1,y.v=Z(Ie(U)),y.s=X,y.U=!0,kr(y,null)}function kr(y,U){y.F=Date.now(),Eo(y),y.A=Ie(y.v);var X=y.A,_e=y.X;Array.isArray(_e)||(_e=[String(_e)]),de(X.h,"t",_e),y.C=0,X=y.l.H,y.h=new Hr,y.g=vs(y.l,X?U:null,!y.s),0<y.O&&(y.L=new So(je(y.Ia,y,y.g),y.O)),Do(y.V,y.g,"readystatechange",y.gb),U=y.H?yn(y.H):{},y.s?(y.u||(y.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.s,U)):(y.u="GET",y.g.ea(y.A,y.u,null,U)),Xn(1),function(y,U,X,_e,A,R){y.info(function(){if(y.g)if(R)for(var te="",ze=R.split("&"),Vt=0;Vt<ze.length;Vt++){var Cn=ze[Vt].split("=");if(1<Cn.length){var gr=Cn[0];Cn=Cn[1];var bi=gr.split("_");te=2<=bi.length&&"type"==bi[1]?te+(gr+"=")+Cn+"&":te+(gr+"=redacted&")}}else te=null;else te=R;return"XMLHTTP REQ ("+_e+") [attempt "+A+"]: "+U+"\n"+X+"\n"+te})}(y.j,y.u,y.A,y.m,y.X,y.s)}function wo(y){return!!y.g&&"GET"==y.u&&2!=y.K&&y.l.Ba}function vi(y,U,X){for(var A,_e=!0;!y.I&&y.C<X.length;){if((A=Mr(y,X))==Kr){4==U&&(y.o=4,Kn(14),_e=!1),fi(y.j,y.m,null,"[Incomplete Response]");break}if(A==Po){y.o=4,Kn(15),fi(y.j,y.m,X,"[Invalid Chunk]"),_e=!1;break}fi(y.j,y.m,A,null),ki(y,A)}wo(y)&&A!=Kr&&A!=Po&&(y.h.g="",y.C=0),4!=U||0!=X.length||y.h.h||(y.o=1,Kn(16),_e=!1),y.i=y.i&&_e,_e?0<X.length&&!y.aa&&(y.aa=!0,(U=y.l).g==y&&U.$&&!U.L&&(U.h.info("Great, no buffering proxy detected. Bytes received: "+X.length),$o(U),U.L=!0,Kn(11))):(fi(y.j,y.m,X,"[Invalid Chunked Response]"),Ni(y),uo(y))}function Mr(y,U){var X=y.C,_e=U.indexOf("\n",X);return-1==_e?Kr:(X=Number(U.substring(X,_e)),isNaN(X)?Po:(_e+=1)+X>U.length?Kr:(U=U.substr(_e,X),y.C=_e+X,U))}function Eo(y){y.Y=Date.now()+y.P,qo(y,y.P)}function qo(y,U){if(null!=y.B)throw Error("WatchDog timer not null");y.B=Qn(je(y.eb,y),U)}function Yn(y){y.B&&(fe.clearTimeout(y.B),y.B=null)}function uo(y){0==y.l.G||y.I||ca(y.l,y)}function Ni(y){Yn(y);var U=y.L;U&&"function"==typeof U.na&&U.na(),y.L=null,to(y.W),Ki(y.V),y.g&&(U=y.g,y.g=null,U.abort(),U.na())}function ki(y,U){try{var X=y.l;if(0!=X.G&&(X.g==y||ai(X.i,y)))if(X.I=y.N,!y.J&&ai(X.i,y)&&3==X.G){try{var _e=X.Ca.g.parse(U)}catch(_a){_e=null}if(Array.isArray(_e)&&3==_e.length){var A=_e;if(0==A[0])e:if(X.u)X.ta=A[1],0<X.ta-X.U&&37500>A[2]&&X.N&&0==X.A&&!X.v&&(X.v=Qn(je(X.ab,X),6e3));else{if(X.g){if(!(X.g.F+3e3<y.F))break e;Bs(X),sn(X)}fs(X),Kn(18)}if(1>=Jn(X.i)&&X.ka){try{X.ka()}catch(_a){}X.ka=void 0}}else fo(X,11)}else if((y.J||X.g==y)&&Bs(X),!ke(U))for(A=X.Ca.g.parse(U),U=0;U<A.length;U++){var R=A[U];if(X.U=R[0],R=R[1],2==X.G)if("c"==R[0]){X.J=R[1],X.la=R[2];var te=R[3];null!=te&&(X.ma=te,X.h.info("VER="+X.ma));var ze=R[4];null!=ze&&(X.za=ze,X.h.info("SVER="+X.za));var Vt=R[5];null!=Vt&&"number"==typeof Vt&&0<Vt&&(X.K=_e=1.5*Vt,X.h.info("backChannelRequestTimeoutMs_="+_e)),_e=X;var Cn=y.g;if(Cn){var gr=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var bi=_e.i;!bi.g&&(ce(gr,"spdy")||ce(gr,"quic")||ce(gr,"h2"))&&(bi.j=bi.l,bi.g=new Set,bi.h&&(oi(bi,bi.h),bi.h=null))}if(_e.D){var Li=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(_e.sa=Li,pn(_e.F,_e.D,Li))}}X.G=3,X.j&&X.j.xa(),X.$&&(X.O=Date.now()-y.F,X.h.info("Handshake RTT: "+X.O+"ms"));var Uo=y;if((_e=X).oa=Vo(_e,_e.H?_e.la:null,_e.W),Uo.J){Pr(_e.i,Uo);var us=Uo,Cu=_e.K;Cu&&us.setTimeout(Cu),us.B&&(Yn(us),Eo(us)),_e.g=Uo}else Xo(_e);0<X.l.length&&Jo(X)}else"stop"!=R[0]&&"close"!=R[0]||fo(X,7);else 3==X.G&&("stop"==R[0]||"close"==R[0]?"stop"==R[0]?fo(X,7):Bi(X):"noop"!=R[0]&&X.j&&X.j.wa(R),X.A=0)}Xn(4)}catch(_a){}}function fr(y,U){if(y.forEach&&"function"==typeof y.forEach)y.forEach(U,void 0);else if(Fe(y)||"string"==typeof y)bt(y,U,void 0);else{if(y.T&&"function"==typeof y.T)var X=y.T();else if(y.R&&"function"==typeof y.R)X=void 0;else if(Fe(y)||"string"==typeof y){X=[];for(var _e=y.length,A=0;A<_e;A++)X.push(A)}else for(A in X=[],_e=0,y)X[_e++]=A;A=(_e=function(y){if(y.R&&"function"==typeof y.R)return y.R();if("string"==typeof y)return y.split("");if(Fe(y)){for(var U=[],X=y.length,_e=0;_e<X;_e++)U.push(y[_e]);return U}for(_e in U=[],X=0,y)U[X++]=y[_e];return U}(y)).length;for(var R=0;R<A;R++)U.call(void 0,_e[R],X&&X[R],y)}}function _r(y,U){this.h={},this.g=[],this.i=0;var X=arguments.length;if(1<X){if(X%2)throw Error("Uneven number of arguments");for(var _e=0;_e<X;_e+=2)this.set(arguments[_e],arguments[_e+1])}else if(y)if(y instanceof _r)for(X=y.T(),_e=0;_e<X.length;_e++)this.set(X[_e],y.get(X[_e]));else for(_e in y)this.set(_e,y[_e])}function qn(y){if(y.i!=y.g.length){for(var U=0,X=0;U<y.g.length;){var _e=y.g[U];Or(y.h,_e)&&(y.g[X++]=_e),U++}y.g.length=X}if(y.i!=y.g.length){var A={};for(X=U=0;U<y.g.length;)Or(A,_e=y.g[U])||(y.g[X++]=_e,A[_e]=1),U++;y.g.length=X}}function Or(y,U){return Object.prototype.hasOwnProperty.call(y,U)}(Pe=er.prototype).setTimeout=function(y){this.P=y},Pe.gb=function(y){y=y.target;var U=this.L;U&&3==lo(y)?U.l():this.Ia(y)},Pe.Ia=function(y){try{if(y==this.g)e:{var U=lo(this.g),X=this.g.Da(),_e=this.g.ba();if(!(3>U)&&(3!=U||vt||this.g&&(this.h.h||this.g.ga()||Jt(this.g)))){this.I||4!=U||7==X||Xn(8==X||0>=_e?3:2),Yn(this);var A=this.g.ba();this.N=A;t:if(wo(this)){var R=Jt(this.g);y="";var te=R.length,ze=4==lo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ni(this),uo(this);var Vt="";break t}this.h.i=new fe.TextDecoder}for(X=0;X<te;X++)this.h.h=!0,y+=this.h.i.decode(R[X],{stream:ze&&X==te-1});R.splice(0,te),this.h.g+=y,this.C=0,Vt=this.h.g}else Vt=this.g.ga();if(this.i=200==A,function(y,U,X,_e,A,R,te){y.info(function(){return"XMLHTTP RESP ("+_e+") [ attempt "+A+"]: "+U+"\n"+X+"\n"+R+" "+te})}(this.j,this.u,this.A,this.m,this.X,U,A),this.i){if(this.$&&!this.J){t:{if(this.g){var Cn,gr=this.g;if((Cn=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ke(Cn)){var bi=Cn;break t}}bi=null}if(!(A=bi)){this.i=!1,this.o=3,Kn(12),Ni(this),uo(this);break e}fi(this.j,this.m,A,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ki(this,A)}this.U?(vi(this,U,Vt),vt&&this.i&&3==U&&(Do(this.V,this.W,"tick",this.fb),this.W.start())):(fi(this.j,this.m,Vt,null),ki(this,Vt)),4==U&&Ni(this),this.i&&!this.I&&(4==U?ca(this.l,this):(this.i=!1,Eo(this)))}else 400==A&&0<Vt.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),Ni(this),uo(this)}}}catch(Li){}},Pe.fb=function(){if(this.g){var y=lo(this.g),U=this.g.ga();this.C<U.length&&(Yn(this),vi(this,y,U),this.i&&4!=y&&Eo(this))}},Pe.cancel=function(){this.I=!0,Ni(this)},Pe.eb=function(){this.B=null;var y=Date.now();0<=y-this.Y?(function(y,U){y.info(function(){return"TIMEOUT: "+U})}(this.j,this.A),2!=this.K&&(Xn(3),Kn(17)),Ni(this),this.o=2,uo(this)):qo(this,this.Y-y)},(Pe=_r.prototype).R=function(){qn(this);for(var y=[],U=0;U<this.g.length;U++)y.push(this.h[this.g[U]]);return y},Pe.T=function(){return qn(this),this.g.concat()},Pe.get=function(y,U){return Or(this.h,y)?this.h[y]:U},Pe.set=function(y,U){Or(this.h,y)||(this.i++,this.g.push(y)),this.h[y]=U},Pe.forEach=function(y,U){for(var X=this.T(),_e=0;_e<X.length;_e++){var A=X[_e],R=this.get(A);y.call(U,R,A,this)}};var bo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function W(y,U){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,y instanceof W){this.g=void 0!==U?U:y.g,Ge(this,y.j),this.s=y.s,dt(this,y.i),xt(this,y.m),this.l=y.l,U=y.h;var X=new br;X.i=U.i,U.g&&(X.g=new _r(U.g),X.h=U.h),an(this,X),this.o=y.o}else y&&(X=String(y).match(bo))?(this.g=!!U,Ge(this,X[1]||"",!0),this.s=ge(X[2]||""),dt(this,X[3]||"",!0),xt(this,X[4]),this.l=ge(X[5]||"",!0),an(this,X[6]||"",!0),this.o=ge(X[7]||"")):(this.g=!!U,this.h=new br(null,this.g))}function Ie(y){return new W(y)}function Ge(y,U,X){y.j=X?ge(U,!0):U,y.j&&(y.j=y.j.replace(/:$/,""))}function dt(y,U,X){y.i=X?ge(U,!0):U}function xt(y,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);y.m=U}else y.m=null}function an(y,U,X){U instanceof br?(y.h=U,function(y,U){U&&!y.j&&(Dr(y),y.i=null,y.g.forEach(function(X,_e){var A=_e.toLowerCase();_e!=A&&(no(this,_e),de(this,A,X))},y)),y.j=U}(y.h,y.g)):(X||(U=ne(U,rn)),y.h=new br(U,y.g))}function pn(y,U,X){y.h.set(U,X)}function Z(y){return pn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function ge(y,U){return y?U?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function ne(y,U,X){return"string"==typeof y?(y=encodeURI(y).replace(U,ye),X&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ye(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}W.prototype.toString=function(){var y=[],U=this.j;U&&y.push(ne(U,re,!0),":");var X=this.i;return(X||"file"==U)&&(y.push("//"),(U=this.s)&&y.push(ne(U,re,!0),"@"),y.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(X=this.m)&&y.push(":",String(X))),(X=this.l)&&(this.i&&"/"!=X.charAt(0)&&y.push("/"),y.push(ne(X,"/"==X.charAt(0)?St:Le,!0))),(X=this.h.toString())&&y.push("?",X),(X=this.o)&&y.push("#",ne(X,On)),y.join("")};var re=/[#\/\?@]/g,Le=/[#\?:]/g,St=/[#\?]/g,rn=/[#\?@]/g,On=/#/g;function br(y,U){this.h=this.g=null,this.i=y||null,this.j=!!U}function Dr(y){y.g||(y.g=new _r,y.h=0,y.i&&function(y,U){if(y){y=y.split("&");for(var X=0;X<y.length;X++){var _e=y[X].indexOf("="),A=null;if(0<=_e){var R=y[X].substring(0,_e);A=y[X].substring(_e+1)}else R=y[X];U(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}(y.i,function(U,X){y.add(decodeURIComponent(U.replace(/\+/g," ")),X)}))}function no(y,U){Dr(y),U=Y(y,U),Or(y.g.h,U)&&(y.i=null,y.h-=y.g.get(U).length,Or((y=y.g).h,U)&&(delete y.h[U],y.i--,y.g.length>2*y.i&&qn(y)))}function K(y,U){return Dr(y),U=Y(y,U),Or(y.g.h,U)}function de(y,U,X){no(y,U),0<X.length&&(y.i=null,y.g.set(Y(y,U),Wn(X)),y.h+=X.length)}function Y(y,U){return U=String(U),y.j&&(U=U.toLowerCase()),U}(Pe=br.prototype).add=function(y,U){Dr(this),this.i=null,y=Y(this,y);var X=this.g.get(y);return X||this.g.set(y,X=[]),X.push(U),this.h+=1,this},Pe.forEach=function(y,U){Dr(this),this.g.forEach(function(X,_e){bt(X,function(A){y.call(U,A,_e,this)},this)},this)},Pe.T=function(){Dr(this);for(var y=this.g.R(),U=this.g.T(),X=[],_e=0;_e<U.length;_e++)for(var A=y[_e],R=0;R<A.length;R++)X.push(U[_e]);return X},Pe.R=function(y){Dr(this);var U=[];if("string"==typeof y)K(this,y)&&(U=xn(U,this.g.get(Y(this,y))));else{y=this.g.R();for(var X=0;X<y.length;X++)U=xn(U,y[X])}return U},Pe.set=function(y,U){return Dr(this),this.i=null,K(this,y=Y(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[U]),this.h+=1,this},Pe.get=function(y,U){return y&&0<(y=this.R(y)).length?String(y[0]):U},Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var y=[],U=this.g.T(),X=0;X<U.length;X++){var _e=U[X],A=encodeURIComponent(String(_e));_e=this.R(_e);for(var R=0;R<_e.length;R++){var te=A;""!==_e[R]&&(te+="="+encodeURIComponent(String(_e[R]))),y.push(te)}}return this.i=y.join("&")};var ot=function(U,X){this.h=U,this.g=X};function Ft(y){this.l=y||gn,y=fe.PerformanceNavigationTiming?0<(y=fe.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(fe.g&&fe.g.Ea&&fe.g.Ea()&&fe.g.Ea().Zb),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gn=10;function Dn(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Jn(y){return y.h?1:y.g?y.g.size:0}function ai(y,U){return y.h?y.h==U:!!y.g&&y.g.has(U)}function oi(y,U){y.g?y.g.add(U):y.h=U}function Pr(y,U){y.h&&y.h==U?y.h=null:y.g&&y.g.has(U)&&y.g.delete(U)}function xr(y){var U,X;if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){var _e=y.i;try{for(var A=j(y.g.values()),R=A.next();!R.done;R=A.next())_e=_e.concat(R.value.D)}catch(ze){U={error:ze}}finally{try{R&&!R.done&&(X=A.return)&&X.call(A)}finally{if(U)throw U.error}}return _e}return Wn(y.i)}function si(){}function Qr(){this.g=new si}function ls(y,U,X){var _e=X||"";try{fr(y,function(A,R){var te=A;k(A)&&(te=Ln(A)),U.push(_e+R+"="+encodeURIComponent(te))})}catch(A){throw U.push(_e+"type="+encodeURIComponent("_badmap")),A}}function yi(y,U,X,_e,A){try{U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null,A(_e)}catch(R){}}function Fi(y){this.l=y.$b||null,this.j=y.ib||!1}function Er(y,U){Lt.call(this),this.D=y,this.u=U,this.m=void 0,this.readyState=di,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft.prototype.cancel=function(){var y,U;if(this.i=xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var X=j(this.g.values()),_e=X.next();!_e.done;_e=X.next())_e.value.cancel()}catch(R){y={error:R}}finally{try{_e&&!_e.done&&(U=X.return)&&U.call(X)}finally{if(y)throw y.error}}this.g.clear()}},si.prototype.stringify=function(y){return fe.JSON.stringify(y,void 0)},si.prototype.parse=function(y){return fe.JSON.parse(y,void 0)},Me(Fi,Wi),Fi.prototype.g=function(){return new Er(this.l,this.j)},Fi.prototype.i=function(y){return function(){return y}}({}),Me(Er,Lt);var di=0;function ko(y){y.j.read().then(y.Sa.bind(y)).catch(y.ha.bind(y))}function Fo(y){y.readyState=4,y.l=null,y.j=null,y.A=null,co(y)}function co(y){y.onreadystatechange&&y.onreadystatechange.call(y)}(Pe=Er.prototype).open=function(y,U){if(this.readyState!=di)throw this.abort(),Error("Error reopening a connection");this.C=y,this.B=U,this.readyState=1,co(this)},Pe.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var U={headers:this.v,method:this.C,credentials:this.m,cache:void 0};y&&(U.body=y),(this.D||fe).fetch(new Request(this.B,U)).then(this.Va.bind(this),this.ha.bind(this))},Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fo(this)),this.readyState=di},Pe.Va=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==fe.ReadableStream&&"body"in y){if(this.j=y.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ko(this)}else y.text().then(this.Ua.bind(this),this.ha.bind(this))},Pe.Sa=function(y){if(this.g){if(this.u&&y.value)this.response.push(y.value);else if(!this.u){var U=y.value?y.value:new Uint8Array(0);(U=this.A.decode(U,{stream:!y.done}))&&(this.response=this.responseText+=U)}y.done?Fo(this):co(this),3==this.readyState&&ko(this)}},Pe.Ua=function(y){this.g&&(this.response=this.responseText=y,Fo(this))},Pe.Ta=function(y){this.g&&(this.response=y,Fo(this))},Pe.ha=function(){this.g&&Fo(this)},Pe.setRequestHeader=function(y,U){this.v.append(y,U)},Pe.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},Pe.getAllResponseHeaders=function(){if(!this.h)return"";for(var y=[],U=this.h.entries(),X=U.next();!X.done;)y.push((X=X.value)[0]+": "+X[1]),X=U.next();return y.join("\r\n")},Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}});var Co=fe.JSON.parse;function ti(y){Lt.call(this),this.headers=new _r,this.u=y||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vr,this.K=this.L=!1}Me(ti,Lt);var Vr="",vr=/^https?$/i,ua=["POST","PUT"];function ji(y){return"content-type"==y.toLowerCase()}function ss(y,U){y.h=!1,y.g&&(y.l=!0,y.g.abort(),y.l=!1),y.j=U,y.m=5,Ii(y),eo(y)}function Ii(y){y.D||(y.D=!0,Ht(y,"complete"),Ht(y,"error"))}function To(y){if(y.h&&void 0!==le&&(!y.C[1]||4!=lo(y)||2!=y.ba()))if(y.v&&4==lo(y))Pi(y.Fa,0,y);else if(Ht(y,"readystatechange"),4==lo(y)){y.h=!1;try{var _e,U=y.ba();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var X=!0;break e;default:X=!1}if(!(_e=X)){var A;if(A=0===U){var R=String(y.H).match(bo)[1]||null;if(!R&&fe.self&&fe.self.location){var te=fe.self.location.protocol;R=te.substr(0,te.length-1)}A=!vr.test(R?R.toLowerCase():"")}_e=A}if(_e)Ht(y,"complete"),Ht(y,"success");else{y.m=6;try{var ze=2<lo(y)?y.g.statusText:""}catch(Vt){ze=""}y.j=ze+" ["+y.ba()+"]",Ii(y)}}finally{eo(y)}}}function eo(y,U){if(y.g){js(y);var X=y.g,_e=y.C[0]?Je:null;y.g=null,y.C=null,U||Ht(y,"ready");try{X.onreadystatechange=_e}catch(A){}}}function js(y){y.g&&y.K&&(y.g.ontimeout=null),y.A&&(fe.clearTimeout(y.A),y.A=null)}function lo(y){return y.g?y.g.readyState:0}function Jt(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.J){case Vr:case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch(U){return null}}function ea(y,U,X){e:{for(_e in X){var _e=!1;break e}_e=!0}_e||(X=function(y){var U="";return Ut(y,function(X,_e){U+=_e,U+=":",U+=X,U+="\r\n"}),U}(X),"string"==typeof y?null!=X&&encodeURIComponent(String(X)):pn(y,U,X))}function Ai(y,U,X){return X&&X.internalChannelParams&&X.internalChannelParams[y]||U}function Qo(y){this.za=0,this.l=[],this.h=new on,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ai("failFast",!1,y),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ai("baseRetryDelayMs",5e3,y),this.$a=Ai("retryDelaySeedMs",1e4,y),this.Ya=Ai("forwardChannelMaxRetries",2,y),this.ra=Ai("forwardChannelRequestTimeoutMs",2e4,y),this.qa=y&&y.xmlHttpFactory||void 0,this.Ba=y&&y.Yb||!1,this.K=void 0,this.H=y&&y.supportsCrossDomainXhr||!1,this.J="",this.i=new Ft(y&&y.concurrentRequestLimit),this.Ca=new Qr,this.ja=y&&y.fastHandshake||!1,this.Ra=y&&y.Wb||!1,y&&y.Aa&&this.h.Aa(),y&&y.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&y&&y.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!y||!1!==y.Xb}function Bi(y){if(ta(y),3==y.G){var U=y.V++,X=Ie(y.F);pn(X,"SID",y.J),pn(X,"RID",U),pn(X,"TYPE","terminate"),as(y,X),(U=new er(y,y.h,U,void 0)).K=2,U.v=Z(Ie(X)),X=!1,fe.navigator&&fe.navigator.sendBeacon&&(X=fe.navigator.sendBeacon(U.v.toString(),"")),!X&&fe.Image&&((new Image).src=U.v,X=!0),X||(U.g=vs(U.l,null),U.g.ea(U.v)),U.F=Date.now(),Eo(U)}na(y)}function sn(y){y.g&&($o(y),y.g.cancel(),y.g=null)}function ta(y){sn(y),y.u&&(fe.clearTimeout(y.u),y.u=null),Bs(y),y.i.cancel(),y.m&&("number"==typeof y.m&&fe.clearTimeout(y.m),y.m=null)}function _i(y,U){y.l.push(new ot(y.Za++,U)),3==y.G&&Jo(y)}function Jo(y){Dn(y.i)||y.m||(y.m=!0,Wr(y.Ha,y),y.C=0)}function Wo(y,U){var X;X=U?U.m:y.V++;var _e=Ie(y.F);pn(_e,"SID",y.J),pn(_e,"RID",X),pn(_e,"AID",y.U),as(y,_e),y.o&&y.s&&ea(_e,y.o,y.s),X=new er(y,y.h,X,y.C+1),null===y.o&&(X.H=y.s),U&&(y.l=U.D.concat(y.l)),U=Gr(y,X,1e3),X.setTimeout(Math.round(.5*y.ra)+Math.round(.5*y.ra*Math.random())),oi(y.i,X),Zi(X,_e,U)}function as(y,U){y.j&&fr({},function(X,_e){pn(U,_e,X)})}function Gr(y,U,X){X=Math.min(y.l.length,X);var _e=y.j?je(y.j.Oa,y.j,y):null;e:for(var A=y.l,R=-1;;){var te=["count="+X];-1==R?0<X?te.push("ofs="+(R=A[0].h)):R=0:te.push("ofs="+R);for(var ze=!0,Vt=0;Vt<X;Vt++){var Cn=A[Vt].h,gr=A[Vt].g;if(0>(Cn-=R))R=Math.max(0,A[Vt].h-100),ze=!1;else try{ls(gr,te,"req"+Cn+"_")}catch(bi){_e&&_e(gr)}}if(ze){_e=te.join("&");break e}}return y=y.l.splice(0,X),U.D=y,_e}function Xo(y){y.g||y.u||(y.Y=1,Wr(y.Ga,y),y.A=0)}function fs(y){return!(y.g||y.u||3<=y.A||(y.Y++,y.u=Qn(je(y.Ga,y),es(y,y.A)),y.A++,0))}function $o(y){null!=y.B&&(fe.clearTimeout(y.B),y.B=null)}function io(y){y.g=new er(y,y.h,"rpc",y.Y),null===y.o&&(y.g.H=y.s),y.g.O=0;var U=Ie(y.oa);pn(U,"RID","rpc"),pn(U,"SID",y.J),pn(U,"CI",y.N?"0":"1"),pn(U,"AID",y.U),as(y,U),pn(U,"TYPE","xmlhttp"),y.o&&y.s&&ea(U,y.o,y.s),y.K&&y.g.setTimeout(y.K);var X=y.g;y=y.la,X.K=1,X.v=Z(Ie(U)),X.s=null,X.U=!0,kr(X,y)}function Bs(y){null!=y.v&&(fe.clearTimeout(y.v),y.v=null)}function ca(y,U){var X=null;if(y.g==U){Bs(y),$o(y),y.g=null;var _e=2}else{if(!ai(y.i,U))return;X=U.D,Pr(y.i,U),_e=1}if(y.I=U.N,0!=y.G)if(U.i)if(1==_e){X=U.s?U.s.length:0,U=Date.now()-U.F;var A=y.C;Ht(_e=xi(),new pr(_e,X,U,A)),Jo(y)}else Xo(y);else if(3==(A=U.o)||0==A&&0<y.I||!(1==_e&&function(y,U){return!(Jn(y.i)>=y.i.j-(y.m?1:0)||(y.m?(y.l=U.D.concat(y.l),0):1==y.G||2==y.G||y.C>=(y.Xa?0:y.Ya)||(y.m=Qn(je(y.Ha,y,U),es(y,y.C)),y.C++,0)))}(y,U)||2==_e&&fs(y)))switch(X&&0<X.length&&(U=y.i,U.i=U.i.concat(X)),A){case 1:fo(y,5);break;case 4:fo(y,10);break;case 3:fo(y,6);break;default:fo(y,2)}}function es(y,U){var X=y.Pa+Math.floor(Math.random()*y.$a);return y.j||(X*=2),X*U}function fo(y,U){if(y.h.info("Error code "+U),2==U){var X=null;y.j&&(X=null);var _e=je(y.jb,y);X||(X=new W("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||Ge(X,"https"),Z(X)),function(y,U){var X=new on;if(fe.Image){var _e=new Image;_e.onload=nt(yi,X,_e,"TestLoadImage: loaded",!0,U),_e.onerror=nt(yi,X,_e,"TestLoadImage: error",!1,U),_e.onabort=nt(yi,X,_e,"TestLoadImage: abort",!1,U),_e.ontimeout=nt(yi,X,_e,"TestLoadImage: timeout",!1,U),fe.setTimeout(function(){_e.ontimeout&&_e.ontimeout()},1e4),_e.src=y}else U(!1)}(X.toString(),_e)}else Kn(2);y.G=0,y.j&&y.j.va(U),na(y),ta(y)}function na(y){y.G=0,y.I=-1,y.j&&((0!=xr(y.i).length||0!=y.l.length)&&(y.i.i.length=0,Wn(y.l),y.l.length=0),y.j.ua())}function Vo(y,U,X){var _e=function(y){return y instanceof W?Ie(y):new W(y,void 0)}(X);if(""!=_e.i)U&&dt(_e,U+"."+_e.i),xt(_e,_e.m);else{var A=fe.location;_e=function(y,U,X,_e){var A=new W(null,void 0);return y&&Ge(A,y),U&&dt(A,U),X&&xt(A,X),_e&&(A.l=_e),A}(A.protocol,U?U+"."+A.hostname:A.hostname,+A.port,X)}return y.aa&&Ut(y.aa,function(R,te){pn(_e,te,R)}),X=y.sa,(U=y.D)&&X&&pn(_e,U,X),pn(_e,"VER",y.ma),as(y,_e),_e}function vs(y,U,X){if(U&&!y.H)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new ti(X&&y.Ba&&!y.qa?new Fi({ib:!0}):y.qa)).L=y.H,U}function Rs(){}function xs(){if($n&&!(10<=Number(qe)))throw Error("Environmental error: no available transport.")}function wi(y,U){Lt.call(this),this.g=new Qo(U),this.l=y,this.h=U&&U.messageUrlParams||null,y=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.s=y,y=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(y?y["X-WebChannel-Content-Type"]=U.messageContentType:y={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.ya&&(y?y["X-WebChannel-Client-Profile"]=U.ya:y={"X-WebChannel-Client-Profile":U.ya}),this.g.P=y,(y=U&&U.httpHeadersOverwriteParam)&&!ke(y)&&(this.g.o=y),this.A=U&&U.supportsCrossDomainXhr||!1,this.v=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!ke(U)&&(this.g.D=U,null!==(y=this.h)&&U in y&&U in(y=this.h)&&delete y[U]),this.j=new ys(this)}function mo(y){zr.call(this);var U=y.__sm__;if(U){e:{for(var X in U){y=X;break e}y=void 0}(this.i=y)&&(y=this.i,U=null!==U&&y in U?U[y]:void 0),this.data=U}else this.data=y}function Ns(){ir.call(this),this.status=1}function ys(y){this.g=y}(Pe=ti.prototype).ea=function(y,U,X,_e){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+y);U=U?U.toUpperCase():"GET",this.H=y,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ii.g(),this.C=function(y){return y.h||(y.h=y.i())}(this.u?this.u:ii),this.g.onreadystatechange=je(this.Fa,this);try{this.F=!0,this.g.open(U,String(y),!0),this.F=!1}catch(R){return void ss(this,R)}y=X||"";var A=new _r(this.headers);_e&&fr(_e,function(R,te){A.set(te,R)}),_e=function(y){e:{for(var U=ji,X=y.length,_e="string"==typeof y?y.split(""):y,A=0;A<X;A++)if(A in _e&&U.call(void 0,_e[A],A,y)){U=A;break e}U=-1}return 0>U?null:"string"==typeof y?y.charAt(U):y[U]}(A.T()),X=fe.FormData&&y instanceof fe.FormData,!(0<=It(ua,U))||_e||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),A.forEach(function(R,te){this.g.setRequestHeader(te,R)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{js(this),0<this.B&&((this.K=function(y){return $n&&In()&&"number"==typeof y.timeout&&void 0!==y.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.pa,this)):this.A=Pi(this.pa,this.B,this)),this.v=!0,this.g.send(y),this.v=!1}catch(R){ss(this,R)}},Pe.pa=function(){void 0!==le&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},Pe.abort=function(y){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=y||7,Ht(this,"complete"),Ht(this,"abort"),eo(this))},Pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eo(this,!0)),ti.Z.M.call(this)},Pe.Fa=function(){this.s||(this.F||this.v||this.l?To(this):this.cb())},Pe.cb=function(){To(this)},Pe.ba=function(){try{return 2<lo(this)?this.g.status:-1}catch(y){return-1}},Pe.ga=function(){try{return this.g?this.g.responseText:""}catch(y){return""}},Pe.Qa=function(y){if(this.g){var U=this.g.responseText;return y&&0==U.indexOf(y)&&(U=U.substring(y.length)),Co(U)}},Pe.Da=function(){return this.m},Pe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pe=Qo.prototype).ma=8,Pe.G=1,Pe.hb=function(y){try{this.h.info("Origin Trials invoked: "+y)}catch(U){}},Pe.Ha=function(y){if(this.m)if(this.m=null,1==this.G){if(!y){this.V=Math.floor(1e5*Math.random()),y=this.V++;var U=new er(this,this.h,y,void 0),X=this.s;if(this.P&&(X?fn(X=yn(X),this.P):X=this.P),null===this.o&&(U.H=X),this.ja)e:{for(var _e=0,A=0;A<this.l.length;A++){var R=this.l[A];if(void 0===(R="__data__"in R.g&&"string"==typeof(R=R.g.__data__)?R.length:void 0))break;if(4096<(_e+=R)){_e=A;break e}if(4096===_e||A===this.l.length-1){_e=A+1;break e}}_e=1e3}else _e=1e3;_e=Gr(this,U,_e),pn(A=Ie(this.F),"RID",y),pn(A,"CVER",22),this.D&&pn(A,"X-HTTP-Session-Id",this.D),as(this,A),this.o&&X&&ea(A,this.o,X),oi(this.i,U),this.Ra&&pn(A,"TYPE","init"),this.ja?(pn(A,"$req",_e),pn(A,"SID","null"),U.$=!0,Zi(U,A,null)):Zi(U,A,_e),this.G=2}}else 3==this.G&&(y?Wo(this,y):0==this.l.length||Dn(this.i)||Wo(this))},Pe.Ga=function(){if(this.u=null,io(this),this.$&&!(this.L||null==this.g||0>=this.O)){var y=2*this.O;this.h.info("BP detection timer enabled: "+y),this.B=Qn(je(this.bb,this),y)}},Pe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kn(10),sn(this),io(this))},Pe.ab=function(){null!=this.v&&(this.v=null,sn(this),fs(this),Kn(19))},Pe.jb=function(y){y?(this.h.info("Successfully pinged google.com"),Kn(2)):(this.h.info("Failed to ping google.com"),Kn(1))},(Pe=Rs.prototype).xa=function(){},Pe.wa=function(){},Pe.va=function(){},Pe.ua=function(){},Pe.Oa=function(){},xs.prototype.g=function(y,U){return new wi(y,U)},Me(wi,Lt),wi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var y=this.g,U=this.l,X=this.h||void 0;y.Wa&&(y.h.info("Origin Trials enabled."),Wr(je(y.hb,y,U))),Kn(0),y.W=U,y.aa=X||{},y.N=y.X,y.F=Vo(y,null,y.W),Jo(y)},wi.prototype.close=function(){Bi(this.g)},wi.prototype.u=function(y){if("string"==typeof y){var U={};U.__data__=y,_i(this.g,U)}else this.v?((U={}).__data__=Ln(y),_i(this.g,U)):_i(this.g,y)},wi.prototype.M=function(){this.g.j=null,delete this.j,Bi(this.g),delete this.g,wi.Z.M.call(this)},Me(mo,zr),Me(Ns,ir),Me(ys,Rs),ys.prototype.xa=function(){Ht(this.g,"a")},ys.prototype.wa=function(y){Ht(this.g,new mo(y))},ys.prototype.va=function(y){Ht(this.g,new Ns(y))},ys.prototype.ua=function(){Ht(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,wi.prototype.send=wi.prototype.u,wi.prototype.open=wi.prototype.m,wi.prototype.close=wi.prototype.close,Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,cr.COMPLETE="complete",lr.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Lt.prototype.listen=Lt.prototype.N,ti.prototype.listenOnce=ti.prototype.O,ti.prototype.getLastError=ti.prototype.La,ti.prototype.getLastErrorCode=ti.prototype.Da,ti.prototype.getStatus=ti.prototype.ba,ti.prototype.getResponseJson=ti.prototype.Qa,ti.prototype.getResponseText=ti.prototype.ga,ti.prototype.send=ti.prototype.ea;var xo=function(){return new xs},la=function(){return xi()},ya=Rr,vo=cr,ds=$r,Qi={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ts=Fi,$i=lr,Hs=ti},2329:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{Z:()=>E.default});var E=ie(9759),j="8.10.0";E.default.registerVersion("firebase",j,"app"),E.default.SDK_VERSION=j},6676:function(Mn,Dt){!function(ie){"use strict";function E(nt){return Array.prototype.slice.call(nt)}function b(nt){return new Promise(function(Me,Ve){nt.onsuccess=function(){Me(nt.result)},nt.onerror=function(){Ve(nt.error)}})}function j(nt,Me,Ve){var at,At=new Promise(function(It,bt){b(at=nt[Me].apply(nt,Ve)).then(It,bt)});return At.request=at,At}function L(nt,Me,Ve){var at=j(nt,Me,Ve);return at.then(function(At){if(At)return new k(At,at.request)})}function Pe(nt,Me,Ve){Ve.forEach(function(at){Object.defineProperty(nt.prototype,at,{get:function(){return this[Me][at]},set:function(At){this[Me][at]=At}})})}function le(nt,Me,Ve,at){at.forEach(function(At){At in Ve.prototype&&(nt.prototype[At]=function(){return j(this[Me],At,arguments)})})}function fe(nt,Me,Ve,at){at.forEach(function(At){At in Ve.prototype&&(nt.prototype[At]=function(){return this[Me][At].apply(this[Me],arguments)})})}function Je(nt,Me,Ve,at){at.forEach(function(At){At in Ve.prototype&&(nt.prototype[At]=function(){return L(this[Me],At,arguments)})})}function Fe(nt){this._index=nt}function k(nt,Me){this._cursor=nt,this._request=Me}function Re(nt){this._store=nt}function Ye(nt){this._tx=nt,this.complete=new Promise(function(Me,Ve){nt.oncomplete=function(){Me()},nt.onerror=function(){Ve(nt.error)},nt.onabort=function(){Ve(nt.error)}})}function xe(nt,Me,Ve){this._db=nt,this.oldVersion=Me,this.transaction=new Ye(Ve)}function De(nt){this._db=nt}Pe(Fe,"_index",["name","keyPath","multiEntry","unique"]),le(Fe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Je(Fe,"_index",IDBIndex,["openCursor","openKeyCursor"]),Pe(k,"_cursor",["direction","key","primaryKey","value"]),le(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(nt){nt in IDBCursor.prototype&&(k.prototype[nt]=function(){var Me=this,Ve=arguments;return Promise.resolve().then(function(){return Me._cursor[nt].apply(Me._cursor,Ve),b(Me._request).then(function(at){if(at)return new k(at,Me._request)})})})}),Re.prototype.createIndex=function(){return new Fe(this._store.createIndex.apply(this._store,arguments))},Re.prototype.index=function(){return new Fe(this._store.index.apply(this._store,arguments))},Pe(Re,"_store",["name","keyPath","indexNames","autoIncrement"]),le(Re,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Je(Re,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fe(Re,"_store",IDBObjectStore,["deleteIndex"]),Ye.prototype.objectStore=function(){return new Re(this._tx.objectStore.apply(this._tx,arguments))},Pe(Ye,"_tx",["objectStoreNames","mode"]),fe(Ye,"_tx",IDBTransaction,["abort"]),xe.prototype.createObjectStore=function(){return new Re(this._db.createObjectStore.apply(this._db,arguments))},Pe(xe,"_db",["name","version","objectStoreNames"]),fe(xe,"_db",IDBDatabase,["deleteObjectStore","close"]),De.prototype.transaction=function(){return new Ye(this._db.transaction.apply(this._db,arguments))},Pe(De,"_db",["name","version","objectStoreNames"]),fe(De,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(nt){[Re,Fe].forEach(function(Me){nt in Me.prototype&&(Me.prototype[nt.replace("open","iterate")]=function(){var Ve=E(arguments),at=Ve[Ve.length-1],At=this._store||this._index,It=At[nt].apply(At,Ve.slice(0,-1));It.onsuccess=function(){at(It.result)}})})}),[Fe,Re].forEach(function(nt){nt.prototype.getAll||(nt.prototype.getAll=function(Me,Ve){var at=this,At=[];return new Promise(function(It){at.iterateCursor(Me,function(bt){bt?(At.push(bt.value),void 0===Ve||At.length!=Ve?bt.continue():It(At)):It(At)})})})}),ie.openDb=function(nt,Me,Ve){var at=j(indexedDB,"open",[nt,Me]),At=at.request;return At&&(At.onupgradeneeded=function(It){Ve&&Ve(new xe(At.result,It.oldVersion,At.transaction))}),at.then(function(It){return new De(It)})},ie.deleteDb=function(nt){return j(indexedDB,"deleteDatabase",[nt])},Object.defineProperty(ie,"__esModule",{value:!0})}(Dt)},6215:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{X:()=>j});var E=ie(9765),b=ie(7971);class j extends E.xQ{constructor(Pe){super(),this._value=Pe}get value(){return this.getValue()}_subscribe(Pe){const le=super._subscribe(Pe);return le&&!le.closed&&Pe.next(this._value),le}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b.N;return this._value}next(Pe){super.next(this._value=Pe)}}},7574:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{y:()=>Re});var E=ie(7393),j=ie(9181),L=ie(6490),le=ie(6554),fe=ie(4487);var k=ie(2494);let Re=(()=>{class xe{constructor(st){this._isScalar=!1,st&&(this._subscribe=st)}lift(st){const je=new xe;return je.source=this,je.operator=st,je}subscribe(st,je,nt){const{operator:Me}=this,Ve=function(xe,De,st){if(xe){if(xe instanceof E.L)return xe;if(xe[j.b])return xe[j.b]()}return xe||De||st?new E.L(xe,De,st):new E.L(L.c)}(st,je,nt);if(Ve.add(Me?Me.call(Ve,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!Ve.syncErrorThrowable?this._subscribe(Ve):this._trySubscribe(Ve)),k.v.useDeprecatedSynchronousErrorHandling&&Ve.syncErrorThrowable&&(Ve.syncErrorThrowable=!1,Ve.syncErrorThrown))throw Ve.syncErrorValue;return Ve}_trySubscribe(st){try{return this._subscribe(st)}catch(je){k.v.useDeprecatedSynchronousErrorHandling&&(st.syncErrorThrown=!0,st.syncErrorValue=je),function(xe){for(;xe;){const{closed:De,destination:st,isStopped:je}=xe;if(De||je)return!1;xe=st&&st instanceof E.L?st:null}return!0}(st)?st.error(je):console.warn(je)}}forEach(st,je){return new(je=Ye(je))((nt,Me)=>{let Ve;Ve=this.subscribe(at=>{try{st(at)}catch(At){Me(At),Ve&&Ve.unsubscribe()}},Me,nt)})}_subscribe(st){const{source:je}=this;return je&&je.subscribe(st)}[le.L](){return this}pipe(...st){return 0===st.length?this:function(xe){return 0===xe.length?fe.y:1===xe.length?xe[0]:function(st){return xe.reduce((je,nt)=>nt(je),st)}}(st)(this)}toPromise(st){return new(st=Ye(st))((je,nt)=>{let Me;this.subscribe(Ve=>Me=Ve,Ve=>nt(Ve),()=>je(Me))})}}return xe.create=De=>new xe(De),xe})();function Ye(xe){if(xe||(xe=k.v.Promise||Promise),!xe)throw new Error("no Promise impl found");return xe}},6490:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{c:()=>j});var E=ie(2494),b=ie(4449);const j={closed:!0,next(L){},error(L){if(E.v.useDeprecatedSynchronousErrorHandling)throw L;(0,b.z)(L)},complete(){}}},9765:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{Yc:()=>fe,xQ:()=>Je});var E=ie(7574),b=ie(7393),j=ie(5319),L=ie(7971),Pe=ie(8858),le=ie(9181);class fe extends b.L{constructor(Re){super(Re),this.destination=Re}}let Je=(()=>{class k extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[le.b](){return new fe(this)}lift(Ye){const xe=new Fe(this,this);return xe.operator=Ye,xe}next(Ye){if(this.closed)throw new L.N;if(!this.isStopped){const{observers:xe}=this,De=xe.length,st=xe.slice();for(let je=0;je<De;je++)st[je].next(Ye)}}error(Ye){if(this.closed)throw new L.N;this.hasError=!0,this.thrownError=Ye,this.isStopped=!0;const{observers:xe}=this,De=xe.length,st=xe.slice();for(let je=0;je<De;je++)st[je].error(Ye);this.observers.length=0}complete(){if(this.closed)throw new L.N;this.isStopped=!0;const{observers:Ye}=this,xe=Ye.length,De=Ye.slice();for(let st=0;st<xe;st++)De[st].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Ye){if(this.closed)throw new L.N;return super._trySubscribe(Ye)}_subscribe(Ye){if(this.closed)throw new L.N;return this.hasError?(Ye.error(this.thrownError),j.w.EMPTY):this.isStopped?(Ye.complete(),j.w.EMPTY):(this.observers.push(Ye),new Pe.W(this,Ye))}asObservable(){const Ye=new E.y;return Ye.source=this,Ye}}return k.create=(Re,Ye)=>new Fe(Re,Ye),k})();class Fe extends Je{constructor(Re,Ye){super(),this.destination=Re,this.source=Ye}next(Re){const{destination:Ye}=this;Ye&&Ye.next&&Ye.next(Re)}error(Re){const{destination:Ye}=this;Ye&&Ye.error&&this.destination.error(Re)}complete(){const{destination:Re}=this;Re&&Re.complete&&this.destination.complete()}_subscribe(Re){const{source:Ye}=this;return Ye?this.source.subscribe(Re):j.w.EMPTY}}},8858:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{W:()=>b});var E=ie(5319);class b extends E.w{constructor(L,Pe){super(),this.subject=L,this.subscriber=Pe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const L=this.subject,Pe=L.observers;if(this.subject=null,!Pe||0===Pe.length||L.isStopped||L.closed)return;const le=Pe.indexOf(this.subscriber);-1!==le&&Pe.splice(le,1)}}},7393:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{L:()=>fe});var E=ie(9105),b=ie(6490),j=ie(5319),L=ie(9181),Pe=ie(2494),le=ie(4449);class fe extends j.w{constructor(k,Re,Ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=b.c;break;case 1:if(!k){this.destination=b.c;break}if("object"==typeof k){k instanceof fe?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new Je(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new Je(this,k,Re,Ye)}}[L.b](){return this}static create(k,Re,Ye){const xe=new fe(k,Re,Ye);return xe.syncErrorThrowable=!1,xe}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class Je extends fe{constructor(k,Re,Ye,xe){super(),this._parentSubscriber=k;let De,st=this;(0,E.m)(Re)?De=Re:Re&&(De=Re.next,Ye=Re.error,xe=Re.complete,Re!==b.c&&(st=Object.create(Re),(0,E.m)(st.unsubscribe)&&this.add(st.unsubscribe.bind(st)),st.unsubscribe=this.unsubscribe.bind(this))),this._context=st,this._next=De,this._error=Ye,this._complete=xe}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:Re}=this;Pe.v.useDeprecatedSynchronousErrorHandling&&Re.syncErrorThrowable?this.__tryOrSetError(Re,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:Re}=this,{useDeprecatedSynchronousErrorHandling:Ye}=Pe.v;if(this._error)Ye&&Re.syncErrorThrowable?(this.__tryOrSetError(Re,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(Re.syncErrorThrowable)Ye?(Re.syncErrorValue=k,Re.syncErrorThrown=!0):(0,le.z)(k),this.unsubscribe();else{if(this.unsubscribe(),Ye)throw k;(0,le.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const Re=()=>this._complete.call(this._context);Pe.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,Re),this.unsubscribe()):(this.__tryOrUnsub(Re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,Re){try{k.call(this._context,Re)}catch(Ye){if(this.unsubscribe(),Pe.v.useDeprecatedSynchronousErrorHandling)throw Ye;(0,le.z)(Ye)}}__tryOrSetError(k,Re,Ye){if(!Pe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Re.call(this._context,Ye)}catch(xe){return Pe.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=xe,k.syncErrorThrown=!0,!0):((0,le.z)(xe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{w:()=>le});var E=ie(9796),b=ie(1555),j=ie(9105);const Pe=(()=>{function Je(Fe){return Error.call(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((k,Re)=>`${Re+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe,this}return Je.prototype=Object.create(Error.prototype),Je})();class le{constructor(Fe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Fe&&(this._ctorUnsubscribe=!0,this._unsubscribe=Fe)}unsubscribe(){let Fe;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:Re,_unsubscribe:Ye,_subscriptions:xe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof le)k.remove(this);else if(null!==k)for(let De=0;De<k.length;++De)k[De].remove(this);if((0,j.m)(Ye)){Re&&(this._unsubscribe=void 0);try{Ye.call(this)}catch(De){Fe=De instanceof Pe?fe(De.errors):[De]}}if((0,E.k)(xe)){let De=-1,st=xe.length;for(;++De<st;){const je=xe[De];if((0,b.K)(je))try{je.unsubscribe()}catch(nt){Fe=Fe||[],nt instanceof Pe?Fe=Fe.concat(fe(nt.errors)):Fe.push(nt)}}}if(Fe)throw new Pe(Fe)}add(Fe){let k=Fe;if(!Fe)return le.EMPTY;switch(typeof Fe){case"function":k=new le(Fe);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof le)){const xe=k;k=new le,k._subscriptions=[xe]}break;default:throw new Error("unrecognized teardown "+Fe+" added to Subscription.")}let{_parentOrParents:Re}=k;if(null===Re)k._parentOrParents=this;else if(Re instanceof le){if(Re===this)return k;k._parentOrParents=[Re,this]}else{if(-1!==Re.indexOf(this))return k;Re.push(this)}const Ye=this._subscriptions;return null===Ye?this._subscriptions=[k]:Ye.push(k),k}remove(Fe){const k=this._subscriptions;if(k){const Re=k.indexOf(Fe);-1!==Re&&k.splice(Re,1)}}}var Je;function fe(Je){return Je.reduce((Fe,k)=>Fe.concat(k instanceof Pe?k.errors:k),[])}le.EMPTY=((Je=new le).closed=!0,Je)},2494:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{v:()=>b});let E=!1;const b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const L=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+L.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=j},get useDeprecatedSynchronousErrorHandling(){return E}}},5345:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{IY:()=>L,Ds:()=>le,ft:()=>Je});var E=ie(7393),b=ie(7574),j=ie(7444);class L extends E.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class le extends E.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function Je(Fe,k){if(k.closed)return;if(Fe instanceof b.y)return Fe.subscribe(k);let Re;try{Re=(0,j.s)(Fe)(k)}catch(Ye){k.error(Ye)}return Re}},2441:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{c:()=>Pe,N:()=>le});var E=ie(9765),b=ie(7574),j=ie(5319),L=ie(1307);class Pe extends b.y{constructor(Re,Ye){super(),this.source=Re,this.subjectFactory=Ye,this._refCount=0,this._isComplete=!1}_subscribe(Re){return this.getSubject().subscribe(Re)}getSubject(){const Re=this._subject;return(!Re||Re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Re=this._connection;return Re||(this._isComplete=!1,Re=this._connection=new j.w,Re.add(this.source.subscribe(new fe(this.getSubject(),this))),Re.closed&&(this._connection=null,Re=j.w.EMPTY)),Re}refCount(){return(0,L.x)()(this)}}const le=(()=>{const k=Pe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class fe extends E.Yc{constructor(Re,Ye){super(Re),this.connectable=Ye}_error(Re){this._unsubscribe(),super._error(Re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Re=this.connectable;if(Re){this.connectable=null;const Ye=Re._connection;Re._refCount=0,Re._subject=null,Re._connection=null,Ye&&Ye.unsubscribe()}}}},8071:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{z:()=>L});var E=ie(5917),b=ie(3282);function L(...Pe){return(0,b.J)(1)((0,E.of)(...Pe))}},9193:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{E:()=>b,c:()=>j});var E=ie(7574);const b=new E.y(Pe=>Pe.complete());function j(Pe){return Pe?function(Pe){return new E.y(le=>Pe.schedule(()=>le.complete()))}(Pe):b}},4402:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{D:()=>st});var E=ie(7574),b=ie(7444),j=ie(5319),L=ie(6554),fe=ie(4087),Je=ie(377),Re=ie(4072),Ye=ie(9489);function st(je,nt){return nt?function(je,nt){if(null!=je){if(function(je){return je&&"function"==typeof je[L.L]}(je))return function(je,nt){return new E.y(Me=>{const Ve=new j.w;return Ve.add(nt.schedule(()=>{const at=je[L.L]();Ve.add(at.subscribe({next(At){Ve.add(nt.schedule(()=>Me.next(At)))},error(At){Ve.add(nt.schedule(()=>Me.error(At)))},complete(){Ve.add(nt.schedule(()=>Me.complete()))}}))})),Ve})}(je,nt);if((0,Re.t)(je))return function(je,nt){return new E.y(Me=>{const Ve=new j.w;return Ve.add(nt.schedule(()=>je.then(at=>{Ve.add(nt.schedule(()=>{Me.next(at),Ve.add(nt.schedule(()=>Me.complete()))}))},at=>{Ve.add(nt.schedule(()=>Me.error(at)))}))),Ve})}(je,nt);if((0,Ye.z)(je))return(0,fe.r)(je,nt);if(function(je){return je&&"function"==typeof je[Je.hZ]}(je)||"string"==typeof je)return function(je,nt){if(!je)throw new Error("Iterable cannot be null");return new E.y(Me=>{const Ve=new j.w;let at;return Ve.add(()=>{at&&"function"==typeof at.return&&at.return()}),Ve.add(nt.schedule(()=>{at=je[Je.hZ](),Ve.add(nt.schedule(function(){if(Me.closed)return;let At,It;try{const bt=at.next();At=bt.value,It=bt.done}catch(bt){return void Me.error(bt)}It?Me.complete():(Me.next(At),this.schedule())}))})),Ve})}(je,nt)}throw new TypeError((null!==je&&typeof je||je)+" is not observable")}(je,nt):je instanceof E.y?je:new E.y((0,b.s)(je))}},6693:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{n:()=>L});var E=ie(7574),b=ie(5015),j=ie(4087);function L(Pe,le){return le?(0,j.r)(Pe,le):new E.y((0,b.V)(Pe))}},6682:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{T:()=>Pe});var E=ie(7574),b=ie(4869),j=ie(3282),L=ie(6693);function Pe(...le){let fe=Number.POSITIVE_INFINITY,Je=null,Fe=le[le.length-1];return(0,b.K)(Fe)?(Je=le.pop(),le.length>1&&"number"==typeof le[le.length-1]&&(fe=le.pop())):"number"==typeof Fe&&(fe=le.pop()),null===Je&&1===le.length&&le[0]instanceof E.y?le[0]:(0,j.J)(fe)((0,L.n)(le,Je))}},5917:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{of:()=>L});var E=ie(4869),b=ie(6693),j=ie(4087);function L(...Pe){let le=Pe[Pe.length-1];return(0,E.K)(le)?(Pe.pop(),(0,j.r)(Pe,le)):(0,b.n)(Pe)}},4612:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{b:()=>b});var E=ie(9773);function b(j,L){return(0,E.zg)(j,L,1)}},5242:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{d:()=>b});var E=ie(7393);function b(Pe=null){return le=>le.lift(new j(Pe))}class j{constructor(le){this.defaultValue=le}call(le,fe){return fe.subscribe(new L(le,this.defaultValue))}}class L extends E.L{constructor(le,fe){super(le),this.defaultValue=fe,this.isEmpty=!0}_next(le){this.isEmpty=!1,this.destination.next(le)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{h:()=>b});var E=ie(7393);function b(Pe,le){return function(Je){return Je.lift(new j(Pe,le))}}class j{constructor(le,fe){this.predicate=le,this.thisArg=fe}call(le,fe){return fe.subscribe(new L(le,this.predicate,this.thisArg))}}class L extends E.L{constructor(le,fe,Je){super(le),this.predicate=fe,this.thisArg=Je,this.count=0}_next(le){let fe;try{fe=this.predicate.call(this.thisArg,le,this.count++)}catch(Je){return void this.destination.error(Je)}fe&&this.destination.next(le)}}},8049:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{P:()=>fe});var E=ie(3410),b=ie(5435),j=ie(5257),L=ie(5242),Pe=ie(4635),le=ie(4487);function fe(Je,Fe){const k=arguments.length>=2;return Re=>Re.pipe(Je?(0,b.h)((Ye,xe)=>Je(Ye,xe,Re)):le.y,(0,j.q)(1),k?(0,L.d)(Fe):(0,Pe.T)(()=>new E.K))}},8002:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{U:()=>b});var E=ie(7393);function b(Pe,le){return function(Je){if("function"!=typeof Pe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Je.lift(new j(Pe,le))}}class j{constructor(le,fe){this.project=le,this.thisArg=fe}call(le,fe){return fe.subscribe(new L(le,this.project,this.thisArg))}}class L extends E.L{constructor(le,fe,Je){super(le),this.project=fe,this.count=0,this.thisArg=Je||this}_next(le){let fe;try{fe=this.project.call(this.thisArg,le,this.count++)}catch(Je){return void this.destination.error(Je)}this.destination.next(fe)}}},3282:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{J:()=>j});var E=ie(9773),b=ie(4487);function j(L=Number.POSITIVE_INFINITY){return(0,E.zg)(b.y,L)}},9773:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{zg:()=>L});var E=ie(8002),b=ie(4402),j=ie(5345);function L(Je,Fe,k=Number.POSITIVE_INFINITY){return"function"==typeof Fe?Re=>Re.pipe(L((Ye,xe)=>(0,b.D)(Je(Ye,xe)).pipe((0,E.U)((De,st)=>Fe(Ye,De,xe,st))),k)):("number"==typeof Fe&&(k=Fe),Re=>Re.lift(new Pe(Je,k)))}class Pe{constructor(Fe,k=Number.POSITIVE_INFINITY){this.project=Fe,this.concurrent=k}call(Fe,k){return k.subscribe(new le(Fe,this.project,this.concurrent))}}class le extends j.Ds{constructor(Fe,k,Re=Number.POSITIVE_INFINITY){super(Fe),this.project=k,this.concurrent=Re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Fe){this.active<this.concurrent?this._tryNext(Fe):this.buffer.push(Fe)}_tryNext(Fe){let k;const Re=this.index++;try{k=this.project(Fe,Re)}catch(Ye){return void this.destination.error(Ye)}this.active++,this._innerSub(k)}_innerSub(Fe){const k=new j.IY(this),Re=this.destination;Re.add(k);const Ye=(0,j.ft)(Fe,k);Ye!==k&&Re.add(Ye)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Fe){this.destination.next(Fe)}notifyComplete(){const Fe=this.buffer;this.active--,Fe.length>0?this._next(Fe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{ht:()=>Re,QV:()=>Fe});var E=ie(7393),b=ie(9193),j=ie(5917),L=ie(7574);class Je{constructor(De,st,je){this.kind=De,this.value=st,this.error=je,this.hasValue="N"===De}observe(De){switch(this.kind){case"N":return De.next&&De.next(this.value);case"E":return De.error&&De.error(this.error);case"C":return De.complete&&De.complete()}}do(De,st,je){switch(this.kind){case"N":return De&&De(this.value);case"E":return st&&st(this.error);case"C":return je&&je()}}accept(De,st,je){return De&&"function"==typeof De.next?this.observe(De):this.do(De,st,je)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return xe=this.error,new L.y(st=>st.error(xe));case"C":return(0,b.c)()}var xe;throw new Error("unexpected notification kind value")}static createNext(De){return void 0!==De?new Je("N",De):Je.undefinedValueNotification}static createError(De){return new Je("E",void 0,De)}static createComplete(){return Je.completeNotification}}function Fe(xe,De=0){return function(je){return je.lift(new k(xe,De))}}Je.completeNotification=new Je("C"),Je.undefinedValueNotification=new Je("N",void 0);class k{constructor(De,st=0){this.scheduler=De,this.delay=st}call(De,st){return st.subscribe(new Re(De,this.scheduler,this.delay))}}class Re extends E.L{constructor(De,st,je=0){super(De),this.scheduler=st,this.delay=je}static dispatch(De){const{notification:st,destination:je}=De;st.observe(je),this.unsubscribe()}scheduleMessage(De){this.destination.add(this.scheduler.schedule(Re.dispatch,this.delay,new Ye(De,this.destination)))}_next(De){this.scheduleMessage(Je.createNext(De))}_error(De){this.scheduleMessage(Je.createError(De)),this.unsubscribe()}_complete(){this.scheduleMessage(Je.createComplete()),this.unsubscribe()}}class Ye{constructor(De,st){this.notification=De,this.destination=st}}},1307:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{x:()=>b});var E=ie(7393);function b(){return function(le){return le.lift(new j(le))}}class j{constructor(le){this.connectable=le}call(le,fe){const{connectable:Je}=this;Je._refCount++;const Fe=new L(le,Je),k=fe.subscribe(Fe);return Fe.closed||(Fe.connection=Je.connect()),k}}class L extends E.L{constructor(le,fe){super(le),this.connectable=fe}_unsubscribe(){const{connectable:le}=this;if(!le)return void(this.connection=null);this.connectable=null;const fe=le._refCount;if(fe<=0)return void(this.connection=null);if(le._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:Je}=this,Fe=le._connection;this.connection=null,Fe&&(!Je||Fe===Je)&&Fe.unsubscribe()}}},2145:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{R:()=>b});var E=ie(7393);function b(Pe,le){let fe=!1;return arguments.length>=2&&(fe=!0),function(Fe){return Fe.lift(new j(Pe,le,fe))}}class j{constructor(le,fe,Je=!1){this.accumulator=le,this.seed=fe,this.hasSeed=Je}call(le,fe){return fe.subscribe(new L(le,this.accumulator,this.seed,this.hasSeed))}}class L extends E.L{constructor(le,fe,Je,Fe){super(le),this.accumulator=fe,this._seed=Je,this.hasSeed=Fe,this.index=0}get seed(){return this._seed}set seed(le){this.hasSeed=!0,this._seed=le}_next(le){if(this.hasSeed)return this._tryNext(le);this.seed=le,this.destination.next(le)}_tryNext(le){const fe=this.index++;let Je;try{Je=this.accumulator(this.seed,le,fe)}catch(Fe){this.destination.error(Fe)}this.seed=Je,this.destination.next(Je)}}},9761:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{O:()=>j});var E=ie(8071),b=ie(4869);function j(...L){const Pe=L[L.length-1];return(0,b.K)(Pe)?(L.pop(),le=>(0,E.z)(L,le,Pe)):le=>(0,E.z)(L,le)}},3101:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{R:()=>nt});var E=ie(7574);let b=1;const j=Promise.resolve(),L={};function Pe(Ve){return Ve in L&&(delete L[Ve],!0)}const le={setImmediate(Ve){const at=b++;return L[at]=!0,j.then(()=>Pe(at)&&Ve()),at},clearImmediate(Ve){Pe(Ve)}};var Je=ie(6465),k=ie(6102);const xe=new class extends k.v{flush(at){this.active=!0,this.scheduled=void 0;const{actions:At}=this;let It,bt=-1,tn=At.length;at=at||At.shift();do{if(It=at.execute(at.state,at.delay))break}while(++bt<tn&&(at=At.shift()));if(this.active=!1,It){for(;++bt<tn&&(at=At.shift());)at.unsubscribe();throw It}}}(class extends Je.o{constructor(at,At){super(at,At),this.scheduler=at,this.work=At}requestAsyncId(at,At,It=0){return null!==It&&It>0?super.requestAsyncId(at,At,It):(at.actions.push(this),at.scheduled||(at.scheduled=le.setImmediate(at.flush.bind(at,null))))}recycleAsyncId(at,At,It=0){if(null!==It&&It>0||null===It&&this.delay>0)return super.recycleAsyncId(at,At,It);0===at.actions.length&&(le.clearImmediate(At),at.scheduled=void 0)}});var De=ie(9796);class je extends E.y{constructor(at,At=0,It=xe){var Ve;super(),this.source=at,this.delayTime=At,this.scheduler=It,(!(!(0,De.k)(Ve=At)&&Ve-parseFloat(Ve)+1>=0)||At<0)&&(this.delayTime=0),(!It||"function"!=typeof It.schedule)&&(this.scheduler=xe)}static create(at,At=0,It=xe){return new je(at,At,It)}static dispatch(at){const{source:At,subscriber:It}=at;return this.add(At.subscribe(It))}_subscribe(at){return this.scheduler.schedule(je.dispatch,this.delayTime,{source:this.source,subscriber:at})}}function nt(Ve,at=0){return function(It){return It.lift(new Me(Ve,at))}}class Me{constructor(at,At){this.scheduler=at,this.delay=At}call(at,At){return new je(At,this.delay,this.scheduler).subscribe(at)}}},3190:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{w:()=>L});var E=ie(8002),b=ie(4402),j=ie(5345);function L(fe,Je){return"function"==typeof Je?Fe=>Fe.pipe(L((k,Re)=>(0,b.D)(fe(k,Re)).pipe((0,E.U)((Ye,xe)=>Je(k,Ye,Re,xe))))):Fe=>Fe.lift(new Pe(fe))}class Pe{constructor(Je){this.project=Je}call(Je,Fe){return Fe.subscribe(new le(Je,this.project))}}class le extends j.Ds{constructor(Je,Fe){super(Je),this.project=Fe,this.index=0}_next(Je){let Fe;const k=this.index++;try{Fe=this.project(Je,k)}catch(Re){return void this.destination.error(Re)}this._innerSub(Fe)}_innerSub(Je){const Fe=this.innerSubscription;Fe&&Fe.unsubscribe();const k=new j.IY(this),Re=this.destination;Re.add(k),this.innerSubscription=(0,j.ft)(Je,k),this.innerSubscription!==k&&Re.add(this.innerSubscription)}_complete(){const{innerSubscription:Je}=this;(!Je||Je.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Je){this.destination.next(Je)}}},5257:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{q:()=>L});var E=ie(7393),b=ie(7108),j=ie(9193);function L(fe){return Je=>0===fe?(0,j.c)():Je.lift(new Pe(fe))}class Pe{constructor(Je){if(this.total=Je,this.total<0)throw new b.W}call(Je,Fe){return Fe.subscribe(new le(Je,this.total))}}class le extends E.L{constructor(Je,Fe){super(Je),this.total=Fe,this.count=0}_next(Je){const Fe=this.total,k=++this.count;k<=Fe&&(this.destination.next(Je),k===Fe&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{b:()=>L});var E=ie(7393);function b(){}var j=ie(9105);function L(fe,Je,Fe){return function(Re){return Re.lift(new Pe(fe,Je,Fe))}}class Pe{constructor(Je,Fe,k){this.nextOrObserver=Je,this.error=Fe,this.complete=k}call(Je,Fe){return Fe.subscribe(new le(Je,this.nextOrObserver,this.error,this.complete))}}class le extends E.L{constructor(Je,Fe,k,Re){super(Je),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=k||b,this._tapComplete=Re||b,(0,j.m)(Fe)?(this._context=this,this._tapNext=Fe):Fe&&(this._context=Fe,this._tapNext=Fe.next||b,this._tapError=Fe.error||b,this._tapComplete=Fe.complete||b)}_next(Je){try{this._tapNext.call(this._context,Je)}catch(Fe){return void this.destination.error(Fe)}this.destination.next(Je)}_error(Je){try{this._tapError.call(this._context,Je)}catch(Fe){return void this.destination.error(Fe)}this.destination.error(Je)}_complete(){try{this._tapComplete.call(this._context)}catch(Je){return void this.destination.error(Je)}return this.destination.complete()}}},4635:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{T:()=>j});var E=ie(3410),b=ie(7393);function j(fe=le){return Je=>Je.lift(new L(fe))}class L{constructor(Je){this.errorFactory=Je}call(Je,Fe){return Fe.subscribe(new Pe(Je,this.errorFactory))}}class Pe extends b.L{constructor(Je,Fe){super(Je),this.errorFactory=Fe,this.hasValue=!1}_next(Je){this.hasValue=!0,this.destination.next(Je)}_complete(){if(this.hasValue)return this.destination.complete();{let Je;try{Je=this.errorFactory()}catch(Fe){Je=Fe}this.destination.error(Je)}}}function le(){return new E.K}},4087:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{r:()=>j});var E=ie(7574),b=ie(5319);function j(L,Pe){return new E.y(le=>{const fe=new b.w;let Je=0;return fe.add(Pe.schedule(function(){Je!==L.length?(le.next(L[Je++]),le.closed||fe.add(this.schedule())):le.complete()})),fe})}},6465:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{o:()=>j});var E=ie(5319);class b extends E.w{constructor(Pe,le){super()}schedule(Pe,le=0){return this}}class j extends b{constructor(Pe,le){super(Pe,le),this.scheduler=Pe,this.work=le,this.pending=!1}schedule(Pe,le=0){if(this.closed)return this;this.state=Pe;const fe=this.id,Je=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Je,fe,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(Je,this.id,le),this}requestAsyncId(Pe,le,fe=0){return setInterval(Pe.flush.bind(Pe,this),fe)}recycleAsyncId(Pe,le,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return le;clearInterval(le)}execute(Pe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(Pe,le);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,le){let Je,fe=!1;try{this.work(Pe)}catch(Fe){fe=!0,Je=!!Fe&&Fe||new Error(Fe)}if(fe)return this.unsubscribe(),Je}_unsubscribe(){const Pe=this.id,le=this.scheduler,fe=le.actions,Je=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Je&&fe.splice(Je,1),null!=Pe&&(this.id=this.recycleAsyncId(le,Pe,null)),this.delay=null}}},6102:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{v:()=>b});let E=(()=>{class j{constructor(Pe,le=j.now){this.SchedulerAction=Pe,this.now=le}schedule(Pe,le=0,fe){return new this.SchedulerAction(this,Pe).schedule(fe,le)}}return j.now=()=>Date.now(),j})();class b extends E{constructor(L,Pe=E.now){super(L,()=>b.delegate&&b.delegate!==this?b.delegate.now():Pe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(L,Pe=0,le){return b.delegate&&b.delegate!==this?b.delegate.schedule(L,Pe,le):super.schedule(L,Pe,le)}flush(L){const{actions:Pe}=this;if(this.active)return void Pe.push(L);let le;this.active=!0;do{if(le=L.execute(L.state,L.delay))break}while(L=Pe.shift());if(this.active=!1,le){for(;L=Pe.shift();)L.unsubscribe();throw le}}}},3637:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{z:()=>j,P:()=>L});var E=ie(6465);const j=new(ie(6102).v)(E.o),L=j},7771:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{c:()=>le,N:()=>Pe});var E=ie(6465),j=ie(6102);const Pe=new class extends j.v{}(class extends E.o{constructor(Je,Fe){super(Je,Fe),this.scheduler=Je,this.work=Fe}schedule(Je,Fe=0){return Fe>0?super.schedule(Je,Fe):(this.delay=Fe,this.state=Je,this.scheduler.flush(this),this)}execute(Je,Fe){return Fe>0||this.closed?super.execute(Je,Fe):this._execute(Je,Fe)}requestAsyncId(Je,Fe,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(Je,Fe,k):Je.flush(this)}}),le=Pe},377:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{hZ:()=>b});const b="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{W:()=>b});const b=(()=>{function j(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return j.prototype=Object.create(Error.prototype),j})()},3410:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{K:()=>b});const b=(()=>{function j(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return j.prototype=Object.create(Error.prototype),j})()},7971:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{N:()=>b});const b=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},4449:(Mn,Dt,ie)=>{"use strict";function E(b){setTimeout(()=>{throw b},0)}ie.d(Dt,{z:()=>E})},4487:(Mn,Dt,ie)=>{"use strict";function E(b){return b}ie.d(Dt,{y:()=>E})},9796:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{k:()=>E});const E=Array.isArray||(b=>b&&"number"==typeof b.length)},9489:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{z:()=>E});const E=b=>b&&"number"==typeof b.length&&"function"!=typeof b},9105:(Mn,Dt,ie)=>{"use strict";function E(b){return"function"==typeof b}ie.d(Dt,{m:()=>E})},1555:(Mn,Dt,ie)=>{"use strict";function E(b){return null!==b&&"object"==typeof b}ie.d(Dt,{K:()=>E})},4072:(Mn,Dt,ie)=>{"use strict";function E(b){return!!b&&"function"!=typeof b.subscribe&&"function"==typeof b.then}ie.d(Dt,{t:()=>E})},4869:(Mn,Dt,ie)=>{"use strict";function E(b){return b&&"function"==typeof b.schedule}ie.d(Dt,{K:()=>E})},7444:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{s:()=>Re});var E=ie(5015),b=ie(4449),L=ie(377),le=ie(6554),Je=ie(9489),Fe=ie(4072),k=ie(1555);const Re=Ye=>{if(Ye&&"function"==typeof Ye[le.L])return(Ye=>xe=>{const De=Ye[le.L]();if("function"!=typeof De.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return De.subscribe(xe)})(Ye);if((0,Je.z)(Ye))return(0,E.V)(Ye);if((0,Fe.t)(Ye))return(Ye=>xe=>(Ye.then(De=>{xe.closed||(xe.next(De),xe.complete())},De=>xe.error(De)).then(null,b.z),xe))(Ye);if(Ye&&"function"==typeof Ye[L.hZ])return(Ye=>xe=>{const De=Ye[L.hZ]();for(;;){let st;try{st=De.next()}catch(je){return xe.error(je),xe}if(st.done){xe.complete();break}if(xe.next(st.value),xe.closed)break}return"function"==typeof De.return&&xe.add(()=>{De.return&&De.return()}),xe})(Ye);{const De=`You provided ${(0,k.K)(Ye)?"an invalid object":`'${Ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(De)}}},5015:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{V:()=>E});const E=b=>j=>{for(let L=0,Pe=b.length;L<Pe&&!j.closed;L++)j.next(b[L]);j.complete()}},8259:function(Mn){Mn.exports=function(){"use strict";const Dt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ie="SweetAlert2:",b=A=>A.charAt(0).toUpperCase()+A.slice(1),j=A=>Array.prototype.slice.call(A),L=A=>{console.warn("".concat(ie," ").concat("object"==typeof A?A.join(" "):A))},Pe=A=>{console.error("".concat(ie," ").concat(A))},le=[],Je=(A,R)=>{(A=>{le.includes(A)||(le.push(A),L(A))})('"'.concat(A,'" is deprecated and will be removed in the next major release. Please use "').concat(R,'" instead.'))},Fe=A=>"function"==typeof A?A():A,k=A=>A&&"function"==typeof A.toPromise,Re=A=>k(A)?A.toPromise():Promise.resolve(A),Ye=A=>A&&Promise.resolve(A)===A,De=A=>A instanceof Element||(A=>"object"==typeof A&&A.jquery)(A),nt=A=>{const R={};for(const te in A)R[A[te]]="swal2-"+A[te];return R},Me=nt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Ve=nt(["success","warning","info","question","error"]),at=()=>document.body.querySelector(".".concat(Me.container)),At=A=>{const R=at();return R?R.querySelector(A):null},It=A=>At(".".concat(A)),bt=()=>It(Me.popup),tn=()=>It(Me.icon),xn=()=>It(Me.title),Wn=()=>It(Me["html-container"]),ke=()=>It(Me.image),$e=()=>It(Me["progress-steps"]),ce=()=>It(Me["validation-message"]),rt=()=>At(".".concat(Me.actions," .").concat(Me.confirm)),_t=()=>At(".".concat(Me.actions," .").concat(Me.deny)),qt=()=>At(".".concat(Me.loader)),Ut=()=>At(".".concat(Me.actions," .").concat(Me.cancel)),yn=()=>It(Me.actions),un=()=>It(Me.footer),fn=()=>It(Me["timer-progress-bar"]),dn=()=>It(Me.close),_n=()=>{const A=j(bt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((te,ze)=>(te=parseInt(te.getAttribute("tabindex")))>(ze=parseInt(ze.getAttribute("tabindex")))?1:te<ze?-1:0),R=j(bt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(te=>"-1"!==te.getAttribute("tabindex"));return(A=>{const R=[];for(let te=0;te<A.length;te++)-1===R.indexOf(A[te])&&R.push(A[te]);return R})(A.concat(R)).filter(te=>Bn(te))},$n=()=>!vn()&&!document.body.classList.contains(Me["no-backdrop"]),vn=()=>document.body.classList.contains(Me["toast-shown"]),Et={previousBodyPadding:null},Rt=(A,R)=>{if(A.textContent="",R){const ze=(new DOMParser).parseFromString(R,"text/html");j(ze.querySelector("head").childNodes).forEach(Vt=>{A.appendChild(Vt)}),j(ze.querySelector("body").childNodes).forEach(Vt=>{A.appendChild(Vt)})}},hn=(A,R)=>{if(!R)return!1;const te=R.split(/\s+/);for(let ze=0;ze<te.length;ze++)if(!A.classList.contains(te[ze]))return!1;return!0},Un=(A,R,te)=>{if(((A,R)=>{j(A.classList).forEach(te=>{!Object.values(Me).includes(te)&&!Object.values(Ve).includes(te)&&!Object.values(R.showClass).includes(te)&&A.classList.remove(te)})})(A,R),R.customClass&&R.customClass[te]){if("string"!=typeof R.customClass[te]&&!R.customClass[te].forEach)return L("Invalid type of customClass.".concat(te,'! Expected string or iterable object, got "').concat(typeof R.customClass[te],'"'));In(A,R.customClass[te])}},Gn=(A,R)=>{if(!R)return null;switch(R){case"select":case"textarea":case"file":return He(A,Me[R]);case"checkbox":return A.querySelector(".".concat(Me.checkbox," input"));case"radio":return A.querySelector(".".concat(Me.radio," input:checked"))||A.querySelector(".".concat(Me.radio," input:first-child"));case"range":return A.querySelector(".".concat(Me.range," input"));default:return He(A,Me.input)}},bn=A=>{if(A.focus(),"file"!==A.type){const R=A.value;A.value="",A.value=R}},kn=(A,R,te)=>{!A||!R||("string"==typeof R&&(R=R.split(/\s+/).filter(Boolean)),R.forEach(ze=>{A.forEach?A.forEach(Vt=>{te?Vt.classList.add(ze):Vt.classList.remove(ze)}):te?A.classList.add(ze):A.classList.remove(ze)}))},In=(A,R)=>{kn(A,R,!0)},Ct=(A,R)=>{kn(A,R,!1)},He=(A,R)=>{for(let te=0;te<A.childNodes.length;te++)if(hn(A.childNodes[te],R))return A.childNodes[te]},qe=(A,R,te)=>{te==="".concat(parseInt(te))&&(te=parseInt(te)),te||0===parseInt(te)?A.style[R]="number"==typeof te?"".concat(te,"px"):te:A.style.removeProperty(R)},Nt=(A,R="flex")=>{A.style.display=R},Tt=A=>{A.style.display="none"},Tn=(A,R,te,ze)=>{const Vt=A.querySelector(R);Vt&&(Vt.style[te]=ze)},nn=(A,R,te)=>{R?Nt(A,te):Tt(A)},Bn=A=>!(!A||!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)),ln=A=>A.scrollHeight>A.clientHeight,wt=A=>{const R=window.getComputedStyle(A),te=parseFloat(R.getPropertyValue("animation-duration")||"0"),ze=parseFloat(R.getPropertyValue("transition-duration")||"0");return te>0||ze>0},ht=(A,R=!1)=>{const te=fn();Bn(te)&&(R&&(te.style.transition="none",te.style.width="100%"),setTimeout(()=>{te.style.transition="width ".concat(A/1e3,"s linear"),te.style.width="0%"},10))},Bt=()=>"undefined"==typeof window||"undefined"==typeof document,or='\n <div aria-labelledby="'.concat(Me.title,'" aria-describedby="').concat(Me["html-container"],'" class="').concat(Me.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Me.close,'"></button>\n   <ul class="').concat(Me["progress-steps"],'"></ul>\n   <div class="').concat(Me.icon,'"></div>\n   <img class="').concat(Me.image,'" />\n   <h2 class="').concat(Me.title,'" id="').concat(Me.title,'"></h2>\n   <div class="').concat(Me["html-container"],'" id="').concat(Me["html-container"],'"></div>\n   <input class="').concat(Me.input,'" />\n   <input type="file" class="').concat(Me.file,'" />\n   <div class="').concat(Me.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Me.select,'"></select>\n   <div class="').concat(Me.radio,'"></div>\n   <label for="').concat(Me.checkbox,'" class="').concat(Me.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Me.label,'"></span>\n   </label>\n   <textarea class="').concat(Me.textarea,'"></textarea>\n   <div class="').concat(Me["validation-message"],'" id="').concat(Me["validation-message"],'"></div>\n   <div class="').concat(Me.actions,'">\n     <div class="').concat(Me.loader,'"></div>\n     <button type="button" class="').concat(Me.confirm,'"></button>\n     <button type="button" class="').concat(Me.deny,'"></button>\n     <button type="button" class="').concat(Me.cancel,'"></button>\n   </div>\n   <div class="').concat(Me.footer,'"></div>\n   <div class="').concat(Me["timer-progress-bar-container"],'">\n     <div class="').concat(Me["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),tr=()=>{_e.isVisible()&&_e.resetValidationMessage()},Ue=A=>{const R=(()=>{const A=at();return!!A&&(A.remove(),Ct([document.documentElement,document.body],[Me["no-backdrop"],Me["toast-shown"],Me["has-column"]]),!0)})();if(Bt())return void Pe("SweetAlert2 requires document to initialize");const te=document.createElement("div");te.className=Me.container,R&&In(te,Me["no-transition"]),Rt(te,or);const ze=(A=>"string"==typeof A?document.querySelector(A):A)(A.target);ze.appendChild(te),(A=>{const R=bt();R.setAttribute("role",A.toast?"alert":"dialog"),R.setAttribute("aria-live",A.toast?"polite":"assertive"),A.toast||R.setAttribute("aria-modal","true")})(A),(A=>{"rtl"===window.getComputedStyle(A).direction&&In(at(),Me.rtl)})(ze),(()=>{const A=bt(),R=He(A,Me.input),te=He(A,Me.file),ze=A.querySelector(".".concat(Me.range," input")),Vt=A.querySelector(".".concat(Me.range," output")),Cn=He(A,Me.select),gr=A.querySelector(".".concat(Me.checkbox," input")),bi=He(A,Me.textarea);R.oninput=tr,te.onchange=tr,Cn.onchange=tr,gr.onchange=tr,bi.oninput=tr,ze.oninput=()=>{tr(),Vt.value=ze.value},ze.onchange=()=>{tr(),ze.nextSibling.value=ze.value}})()},gt=(A,R)=>{A instanceof HTMLElement?R.appendChild(A):"object"==typeof A?Se(A,R):A&&Rt(R,A)},Se=(A,R)=>{A.jquery?Te(R,A):Rt(R,A.toString())},Te=(A,R)=>{if(A.textContent="",0 in R)for(let te=0;te in R;te++)A.appendChild(R[te].cloneNode(!0));else A.appendChild(R.cloneNode(!0))},Qe=(()=>{if(Bt())return!1;const A=document.createElement("div"),R={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const te in R)if(Object.prototype.hasOwnProperty.call(R,te)&&void 0!==A.style[te])return R[te];return!1})(),Lt=(A,R)=>{const te=yn(),ze=qt(),Vt=rt(),Cn=_t(),gr=Ut();R.showConfirmButton||R.showDenyButton||R.showCancelButton?Nt(te):Tt(te),Un(te,R,"actions"),Sn(Vt,"confirm",R),Sn(Cn,"deny",R),Sn(gr,"cancel",R),function(A,R,te,ze){if(!ze.buttonsStyling)return Ct([A,R,te],Me.styled);In([A,R,te],Me.styled),ze.confirmButtonColor&&(A.style.backgroundColor=ze.confirmButtonColor,In(A,Me["default-outline"])),ze.denyButtonColor&&(R.style.backgroundColor=ze.denyButtonColor,In(R,Me["default-outline"])),ze.cancelButtonColor&&(te.style.backgroundColor=ze.cancelButtonColor,In(te,Me["default-outline"]))}(Vt,Cn,gr,R),R.reverseButtons&&(te.insertBefore(gr,ze),te.insertBefore(Cn,ze),te.insertBefore(Vt,ze)),Rt(ze,R.loaderHtml),Un(ze,R,"loader")};function Sn(A,R,te){nn(A,te["show".concat(b(R),"Button")],"inline-block"),Rt(A,te["".concat(R,"ButtonText")]),A.setAttribute("aria-label",te["".concat(R,"ButtonAriaLabel")]),A.className=Me[R],Un(A,te,"".concat(R,"Button")),In(A,te["".concat(R,"ButtonClass")])}const Lr=(A,R)=>{const te=at();!te||(function(A,R){"string"==typeof R?A.style.background=R:R||In([document.documentElement,document.body],Me["no-backdrop"])}(te,R.backdrop),function(A,R){R in Me?In(A,Me[R]):(L('The "position" parameter is not valid, defaulting to "center"'),In(A,Me.center))}(te,R.position),function(A,R){if(R&&"string"==typeof R){const te="grow-".concat(R);te in Me&&In(A,Me[te])}}(te,R.grow),Un(te,R,"container"))};var zn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Hi=["input","file","range","select","radio","checkbox","textarea"],Sr=A=>{if(!Pi[A.input])return Pe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(A.input,'"'));const R=to(A.input),te=Pi[A.input](R,A);Nt(te),setTimeout(()=>{bn(te)})},Gi=(A,R)=>{const te=Gn(bt(),A);if(te){(A=>{for(let R=0;R<A.attributes.length;R++){const te=A.attributes[R].name;["type","value","style"].includes(te)||A.removeAttribute(te)}})(te);for(const ze in R)te.setAttribute(ze,R[ze])}},rr=A=>{const R=to(A.input);A.customClass&&In(R,A.customClass.input)},ri=(A,R)=>{(!A.placeholder||R.inputPlaceholder)&&(A.placeholder=R.inputPlaceholder)},Oi=(A,R,te)=>{if(te.inputLabel){A.id=Me.input;const ze=document.createElement("label"),Vt=Me["input-label"];ze.setAttribute("for",A.id),ze.className=Vt,In(ze,te.customClass.inputLabel),ze.innerText=te.inputLabel,R.insertAdjacentElement("beforebegin",ze)}},to=A=>{const R=Me[A]?Me[A]:Me.input;return He(bt(),R)},Pi={};Pi.text=Pi.email=Pi.password=Pi.number=Pi.tel=Pi.url=(A,R)=>("string"==typeof R.inputValue||"number"==typeof R.inputValue?A.value=R.inputValue:Ye(R.inputValue)||L('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof R.inputValue,'"')),Oi(A,A,R),ri(A,R),A.type=R.input,A),Pi.file=(A,R)=>(Oi(A,A,R),ri(A,R),A),Pi.range=(A,R)=>{const te=A.querySelector("input"),ze=A.querySelector("output");return te.value=R.inputValue,te.type=R.input,ze.value=R.inputValue,Oi(te,A,R),A},Pi.select=(A,R)=>{if(A.textContent="",R.inputPlaceholder){const te=document.createElement("option");Rt(te,R.inputPlaceholder),te.value="",te.disabled=!0,te.selected=!0,A.appendChild(te)}return Oi(A,A,R),A},Pi.radio=A=>(A.textContent="",A),Pi.checkbox=(A,R)=>{const te=Gn(bt(),"checkbox");te.value=1,te.id=Me.checkbox,te.checked=Boolean(R.inputValue);const ze=A.querySelector("span");return Rt(ze,R.inputPlaceholder),A},Pi.textarea=(A,R)=>{A.value=R.inputValue,ri(A,R),Oi(A,A,R);return setTimeout(()=>{if("MutationObserver"in window){const ze=parseInt(window.getComputedStyle(bt()).width);new MutationObserver(()=>{const Cn=A.offsetWidth+(ze=>parseInt(window.getComputedStyle(ze).marginLeft)+parseInt(window.getComputedStyle(ze).marginRight))(A);bt().style.width=Cn>ze?"".concat(Cn,"px"):null}).observe(A,{attributes:!0,attributeFilter:["style"]})}}),A};const Ri=(A,R)=>{const te=Wn();Un(te,R,"htmlContainer"),R.html?(gt(R.html,te),Nt(te,"block")):R.text?(te.textContent=R.text,Nt(te,"block")):Tt(te),((A,R)=>{const te=bt(),ze=zn.innerParams.get(A),Vt=!ze||R.input!==ze.input;Hi.forEach(Cn=>{const gr=Me[Cn],bi=He(te,gr);Gi(Cn,R.inputAttributes),bi.className=gr,Vt&&Tt(bi)}),R.input&&(Vt&&Sr(R),rr(R))})(A,R)},Do=(A,R)=>{for(const te in Ve)R.icon!==te&&Ct(A,Ve[te]);In(A,Ve[R.icon]),sr(A,R),Ki(),Un(A,R,"icon")},Ki=()=>{const A=bt(),R=window.getComputedStyle(A).getPropertyValue("background-color"),te=A.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ze=0;ze<te.length;ze++)te[ze].style.backgroundColor=R},on=(A,R)=>{A.textContent="",Rt(A,R.iconHtml?Vn(R.iconHtml):"success"===R.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===R.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Vn({question:"?",warning:"!",info:"i"}[R.icon]))},sr=(A,R)=>{if(R.iconColor){A.style.color=R.iconColor,A.style.borderColor=R.iconColor;for(const te of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Tn(A,te,"backgroundColor",R.iconColor);Tn(A,".swal2-success-ring","borderColor",R.iconColor)}},Vn=A=>'<div class="'.concat(Me["icon-content"],'">').concat(A,"</div>"),$r=(A,R)=>{const te=$e();if(!R.progressSteps||0===R.progressSteps.length)return Tt(te);Nt(te),te.textContent="",R.currentProgressStep>=R.progressSteps.length&&L("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),R.progressSteps.forEach((ze,Vt)=>{const Cn=(A=>{const R=document.createElement("li");return In(R,Me["progress-step"]),Rt(R,A),R})(ze);if(te.appendChild(Cn),Vt===R.currentProgressStep&&In(Cn,Me["active-progress-step"]),Vt!==R.progressSteps.length-1){const gr=(A=>{const R=document.createElement("li");return In(R,Me["progress-step-line"]),A.progressStepsDistance&&(R.style.width=A.progressStepsDistance),R})(R);te.appendChild(gr)}})},Yi=(A,R)=>{A.className="".concat(Me.popup," ").concat(Bn(A)?R.showClass.popup:""),R.toast?(In([document.documentElement,document.body],Me["toast-shown"]),In(A,Me.toast)):In(A,Me.modal),Un(A,R,"popup"),"string"==typeof R.customClass&&In(A,R.customClass),R.icon&&In(A,Me["icon-".concat(R.icon)])},Xn=(A,R)=>{((A,R)=>{const te=at(),ze=bt();R.toast?(qe(te,"width",R.width),ze.style.width="100%",ze.insertBefore(qt(),tn())):qe(ze,"width",R.width),qe(ze,"padding",R.padding),R.background&&(ze.style.background=R.background),Tt(ce()),Yi(ze,R)})(0,R),Lr(0,R),$r(0,R),((A,R)=>{const te=zn.innerParams.get(A),ze=tn();te&&R.icon===te.icon?(on(ze,R),Do(ze,R)):R.icon||R.iconHtml?R.icon&&-1===Object.keys(Ve).indexOf(R.icon)?(Pe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(R.icon,'"')),Tt(ze)):(Nt(ze),on(ze,R),Do(ze,R),In(ze,R.showClass.icon)):Tt(ze)})(A,R),((A,R)=>{const te=ke();if(!R.imageUrl)return Tt(te);Nt(te,""),te.setAttribute("src",R.imageUrl),te.setAttribute("alt",R.imageAlt),qe(te,"width",R.imageWidth),qe(te,"height",R.imageHeight),te.className=Me.image,Un(te,R,"image")})(0,R),((A,R)=>{const te=xn();nn(te,R.title||R.titleText,"block"),R.title&&gt(R.title,te),R.titleText&&(te.innerText=R.titleText),Un(te,R,"title")})(0,R),((A,R)=>{const te=dn();Rt(te,R.closeButtonHtml),Un(te,R,"closeButton"),nn(te,R.showCloseButton),te.setAttribute("aria-label",R.closeButtonAriaLabel)})(0,R),Ri(A,R),Lt(0,R),((A,R)=>{const te=un();nn(te,R.footer),R.footer&&gt(R.footer,te),Un(te,R,"footer")})(0,R),"function"==typeof R.didRender&&R.didRender(bt())},Kn=()=>rt()&&rt().click();const Wi=A=>{let R=bt();R||_e.fire(),R=bt();const te=qt();vn()?Tt(tn()):ei(R,A),Nt(te),R.setAttribute("data-loading",!0),R.setAttribute("aria-busy",!0),R.focus()},ei=(A,R)=>{const te=yn(),ze=qt();!R&&Bn(rt())&&(R=rt()),Nt(te),R&&(Tt(R),ze.setAttribute("data-button-to-replace",R.className)),ze.parentNode.insertBefore(ze,R),In([A,te],Me.loading)},Fn={},ir=A=>new Promise(R=>{if(!A)return R();const te=window.scrollX,ze=window.scrollY;Fn.restoreFocusTimeout=setTimeout(()=>{Fn.previousActiveElement&&Fn.previousActiveElement.focus?(Fn.previousActiveElement.focus(),Fn.previousActiveElement=null):document.body&&document.body.focus(),R()},100),window.scrollTo(te,ze)}),Nr=()=>{if(Fn.timeout)return(()=>{const A=fn(),R=parseInt(window.getComputedStyle(A).width);A.style.removeProperty("transition"),A.style.width="100%";const te=parseInt(window.getComputedStyle(A).width),ze=parseInt(R/te*100);A.style.removeProperty("transition"),A.style.width="".concat(ze,"%")})(),Fn.timeout.stop()},er=()=>{if(Fn.timeout){const A=Fn.timeout.start();return ht(A),A}};let Kr=!1;const Zi={};const wo=A=>{for(let R=A.target;R&&R!==document;R=R.parentNode)for(const te in Zi){const ze=R.getAttribute(te);if(ze)return void Zi[te].fire({template:ze})}},vi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Mr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Eo={},qo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yn=A=>Object.prototype.hasOwnProperty.call(vi,A),Ni=A=>Eo[A],ki=A=>{Yn(A)||L('Unknown parameter "'.concat(A,'"'))},Ro=A=>{qo.includes(A)&&L('The parameter "'.concat(A,'" is incompatible with toasts'))},fr=A=>{Ni(A)&&Je(A,Ni(A))};var qn=Object.freeze({isValidParameter:Yn,isUpdatableParameter:A=>-1!==Mr.indexOf(A),isDeprecatedParameter:Ni,argsToParams:A=>{const R={};return"object"!=typeof A[0]||De(A[0])?["title","html","icon"].forEach((te,ze)=>{const Vt=A[ze];"string"==typeof Vt||De(Vt)?R[te]=Vt:void 0!==Vt&&Pe("Unexpected type of ".concat(te,'! Expected "string" or "Element", got ').concat(typeof Vt))}):Object.assign(R,A[0]),R},isVisible:()=>Bn(bt()),clickConfirm:Kn,clickDeny:()=>_t()&&_t().click(),clickCancel:()=>Ut()&&Ut().click(),getContainer:at,getPopup:bt,getTitle:xn,getHtmlContainer:Wn,getImage:ke,getIcon:tn,getInputLabel:()=>It(Me["input-label"]),getCloseButton:dn,getActions:yn,getConfirmButton:rt,getDenyButton:_t,getCancelButton:Ut,getLoader:qt,getFooter:un,getTimerProgressBar:fn,getFocusableElements:_n,getValidationMessage:ce,isLoading:()=>bt().hasAttribute("data-loading"),fire:function(...A){return new this(...A)},mixin:function(A){return class extends(this){_main(ze,Vt){return super._main(ze,Object.assign({},A,Vt))}}},showLoading:Wi,enableLoading:Wi,getTimerLeft:()=>Fn.timeout&&Fn.timeout.getTimerLeft(),stopTimer:Nr,resumeTimer:er,toggleTimer:()=>{const A=Fn.timeout;return A&&(A.running?Nr():er())},increaseTimer:A=>{if(Fn.timeout){const R=Fn.timeout.increase(A);return ht(R,!0),R}},isTimerRunning:()=>Fn.timeout&&Fn.timeout.isRunning(),bindClickHandler:function(A="data-swal-template"){Zi[A]=this,Kr||(document.body.addEventListener("click",wo),Kr=!0)}});function Or(){const A=zn.innerParams.get(this);if(!A)return;const R=zn.domCache.get(this);Tt(R.loader),vn()?A.icon&&Nt(tn()):bo(R),Ct([R.popup,R.actions],Me.loading),R.popup.removeAttribute("aria-busy"),R.popup.removeAttribute("data-loading"),R.confirmButton.disabled=!1,R.denyButton.disabled=!1,R.cancelButton.disabled=!1}const bo=A=>{const R=A.popup.getElementsByClassName(A.loader.getAttribute("data-button-to-replace"));R.length?Nt(R[0],"inline-block"):!Bn(rt())&&!Bn(_t())&&!Bn(Ut())&&Tt(A.actions)};const W=()=>{null===Et.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Et.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Et.previousBodyPadding+(()=>{const A=document.createElement("div");A.className=Me["scrollbar-measure"],document.body.appendChild(A);const R=A.getBoundingClientRect().width-A.clientWidth;return document.body.removeChild(A),R})(),"px"))},dt=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const R=44;bt().scrollHeight>window.innerHeight-R&&(at().style.paddingBottom="".concat(R,"px"))}},xt=()=>{const A=at();let R;A.ontouchstart=te=>{R=an(te)},A.ontouchmove=te=>{R&&(te.preventDefault(),te.stopPropagation())}},an=A=>{const R=A.target,te=at();return!(pn(A)||Z(A)||R!==te&&(ln(te)||"INPUT"===R.tagName||"TEXTAREA"===R.tagName||ln(Wn())&&Wn().contains(R)))},pn=A=>A.touches&&A.touches.length&&"stylus"===A.touches[0].touchType,Z=A=>A.touches&&A.touches.length>1,ge=()=>{j(document.body.children).forEach(R=>{R.hasAttribute("data-previous-aria-hidden")?(R.setAttribute("aria-hidden",R.getAttribute("data-previous-aria-hidden")),R.removeAttribute("data-previous-aria-hidden")):R.removeAttribute("aria-hidden")})};var ne={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function ye(A,R,te,ze){vn()?de(A,ze):(ir(te).then(()=>de(A,ze)),Fn.keydownTarget.removeEventListener("keydown",Fn.keydownHandler,{capture:Fn.keydownListenerCapture}),Fn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(R.setAttribute("style","display:none !important"),R.removeAttribute("class"),R.innerHTML=""):R.remove(),$n()&&(null!==Et.previousBodyPadding&&(document.body.style.paddingRight="".concat(Et.previousBodyPadding,"px"),Et.previousBodyPadding=null),(()=>{if(hn(document.body,Me.iosfix)){const A=parseInt(document.body.style.top,10);Ct(document.body,Me.iosfix),document.body.style.top="",document.body.scrollTop=-1*A}})(),ge()),Ct([document.documentElement,document.body],[Me.shown,Me["height-auto"],Me["no-backdrop"],Me["toast-shown"]])}function Le(A){A=Dr(A);const R=ne.swalPromiseResolve.get(this),te=rn(this);this.isAwaitingPromise()?A.isDismissed||(br(this),R(A)):te&&R(A)}const rn=A=>{const R=bt();if(!R)return!1;const te=zn.innerParams.get(A);if(!te||hn(R,te.hideClass.popup))return!1;Ct(R,te.showClass.popup),In(R,te.hideClass.popup);const ze=at();return Ct(ze,te.showClass.backdrop),In(ze,te.hideClass.backdrop),no(A,R,te),!0};const br=A=>{A.isAwaitingPromise()&&(zn.awaitingPromise.delete(A),zn.innerParams.get(A)||A._destroy())},Dr=A=>void 0===A?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},A),no=(A,R,te)=>{const ze=at(),Vt=Qe&&wt(R);"function"==typeof te.willClose&&te.willClose(R),Vt?K(A,R,ze,te.returnFocus,te.didClose):ye(A,ze,te.returnFocus,te.didClose)},K=(A,R,te,ze,Vt)=>{Fn.swalCloseEventFinishedCallback=ye.bind(null,A,te,ze,Vt),R.addEventListener(Qe,function(Cn){Cn.target===R&&(Fn.swalCloseEventFinishedCallback(),delete Fn.swalCloseEventFinishedCallback)})},de=(A,R)=>{setTimeout(()=>{"function"==typeof R&&R.bind(A.params)(),A._destroy()})};function Y(A,R,te){const ze=zn.domCache.get(A);R.forEach(Vt=>{ze[Vt].disabled=te})}function pe(A,R){if(!A)return!1;if("radio"===A.type){const ze=A.parentNode.parentNode.querySelectorAll("input");for(let Vt=0;Vt<ze.length;Vt++)ze[Vt].disabled=R}else A.disabled=R}class Pr{constructor(R,te){this.callback=R,this.remaining=te,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(R){const te=this.running;return te&&this.stop(),this.remaining+=R,te&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var xr={email:(A,R)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(A)?Promise.resolve():Promise.resolve(R||"Invalid email address"),url:(A,R)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(A)?Promise.resolve():Promise.resolve(R||"Invalid URL")};function ls(A){(function(A){A.inputValidator||Object.keys(xr).forEach(R=>{A.input===R&&(A.inputValidator=xr[R])})})(A),A.showLoaderOnConfirm&&!A.preConfirm&&L("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(A){(!A.target||"string"==typeof A.target&&!document.querySelector(A.target)||"string"!=typeof A.target&&!A.target.appendChild)&&(L('Target parameter is not valid, defaulting to "body"'),A.target="body")}(A),"string"==typeof A.title&&(A.title=A.title.split("\n").join("<br />")),Ue(A)}const ro=["swal-title","swal-html","swal-footer"],Fi=A=>{const R={};return j(A.querySelectorAll("swal-param")).forEach(te=>{ti(te,["name","value"]);const ze=te.getAttribute("name");let Vt=te.getAttribute("value");"boolean"==typeof vi[ze]&&"false"===Vt&&(Vt=!1),"object"==typeof vi[ze]&&(Vt=JSON.parse(Vt)),R[ze]=Vt}),R},Er=A=>{const R={};return j(A.querySelectorAll("swal-button")).forEach(te=>{ti(te,["type","color","aria-label"]);const ze=te.getAttribute("type");R["".concat(ze,"ButtonText")]=te.innerHTML,R["show".concat(b(ze),"Button")]=!0,te.hasAttribute("color")&&(R["".concat(ze,"ButtonColor")]=te.getAttribute("color")),te.hasAttribute("aria-label")&&(R["".concat(ze,"ButtonAriaLabel")]=te.getAttribute("aria-label"))}),R},di=A=>{const R={},te=A.querySelector("swal-image");return te&&(ti(te,["src","width","height","alt"]),te.hasAttribute("src")&&(R.imageUrl=te.getAttribute("src")),te.hasAttribute("width")&&(R.imageWidth=te.getAttribute("width")),te.hasAttribute("height")&&(R.imageHeight=te.getAttribute("height")),te.hasAttribute("alt")&&(R.imageAlt=te.getAttribute("alt"))),R},ko=A=>{const R={},te=A.querySelector("swal-icon");return te&&(ti(te,["type","color"]),te.hasAttribute("type")&&(R.icon=te.getAttribute("type")),te.hasAttribute("color")&&(R.iconColor=te.getAttribute("color")),R.iconHtml=te.innerHTML),R},Fo=A=>{const R={},te=A.querySelector("swal-input");te&&(ti(te,["type","label","placeholder","value"]),R.input=te.getAttribute("type")||"text",te.hasAttribute("label")&&(R.inputLabel=te.getAttribute("label")),te.hasAttribute("placeholder")&&(R.inputPlaceholder=te.getAttribute("placeholder")),te.hasAttribute("value")&&(R.inputValue=te.getAttribute("value")));const ze=A.querySelectorAll("swal-input-option");return ze.length&&(R.inputOptions={},j(ze).forEach(Vt=>{ti(Vt,["value"]);const Cn=Vt.getAttribute("value");R.inputOptions[Cn]=Vt.innerHTML})),R},co=(A,R)=>{const te={};for(const ze in R){const Vt=R[ze],Cn=A.querySelector(Vt);Cn&&(ti(Cn,[]),te[Vt.replace(/^swal-/,"")]=Cn.innerHTML.trim())}return te},Co=A=>{const R=ro.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);j(A.children).forEach(te=>{const ze=te.tagName.toLowerCase();-1===R.indexOf(ze)&&L("Unrecognized element <".concat(ze,">"))})},ti=(A,R)=>{j(A.attributes).forEach(te=>{-1===R.indexOf(te.name)&&L(['Unrecognized attribute "'.concat(te.name,'" on <').concat(A.tagName.toLowerCase(),">."),"".concat(R.length?"Allowed attributes are: ".concat(R.join(", ")):"To set the value, use HTML within the element.")])})},vr=A=>{const R=at(),te=bt();"function"==typeof A.willOpen&&A.willOpen(te);const Vt=window.getComputedStyle(document.body).overflowY;ss(R,te,A),setTimeout(()=>{hr(R,te)},10),$n()&&(ji(R,A.scrollbarPadding,Vt),j(document.body.children).forEach(R=>{R===at()||R.contains(at())||(R.hasAttribute("aria-hidden")&&R.setAttribute("data-previous-aria-hidden",R.getAttribute("aria-hidden")),R.setAttribute("aria-hidden","true"))})),!vn()&&!Fn.previousActiveElement&&(Fn.previousActiveElement=document.activeElement),"function"==typeof A.didOpen&&setTimeout(()=>A.didOpen(te)),Ct(R,Me["no-transition"])},ua=A=>{const R=bt();if(A.target!==R)return;const te=at();R.removeEventListener(Qe,ua),te.style.overflowY="auto"},hr=(A,R)=>{Qe&&wt(R)?(A.style.overflowY="hidden",R.addEventListener(Qe,ua)):A.style.overflowY="auto"},ji=(A,R,te)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!hn(document.body,Me.iosfix)){const R=document.body.scrollTop;document.body.style.top="".concat(-1*R,"px"),In(document.body,Me.iosfix),xt(),dt()}})(),R&&"hidden"!==te&&W(),setTimeout(()=>{A.scrollTop=0})},ss=(A,R,te)=>{In(A,te.showClass.backdrop),R.style.setProperty("opacity","0","important"),Nt(R,"grid"),setTimeout(()=>{In(R,te.showClass.popup),R.style.removeProperty("opacity")},10),In([document.documentElement,document.body],Me.shown),te.heightAuto&&te.backdrop&&!te.toast&&In([document.documentElement,document.body],Me["height-auto"])},eo=A=>A.checked?1:0,js=A=>A.checked?A.value:null,lo=A=>A.files.length?null!==A.getAttribute("multiple")?A.files:A.files[0]:null,Jt=(A,R)=>{const te=bt(),ze=Vt=>ea[R.input](te,Ai(Vt),R);k(R.inputOptions)||Ye(R.inputOptions)?(Wi(rt()),Re(R.inputOptions).then(Vt=>{A.hideLoading(),ze(Vt)})):"object"==typeof R.inputOptions?ze(R.inputOptions):Pe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof R.inputOptions))},Cr=(A,R)=>{const te=A.getInput();Tt(te),Re(R.inputValue).then(ze=>{te.value="number"===R.input?parseFloat(ze)||0:"".concat(ze),Nt(te),te.focus(),A.hideLoading()}).catch(ze=>{Pe("Error in inputValue promise: ".concat(ze)),te.value="",Nt(te),te.focus(),A.hideLoading()})},ea={select:(A,R,te)=>{const ze=He(A,Me.select),Vt=(Cn,gr,bi)=>{const Li=document.createElement("option");Li.value=bi,Rt(Li,gr),Li.selected=Qo(bi,te.inputValue),Cn.appendChild(Li)};R.forEach(Cn=>{const gr=Cn[0],bi=Cn[1];if(Array.isArray(bi)){const Li=document.createElement("optgroup");Li.label=gr,Li.disabled=!1,ze.appendChild(Li),bi.forEach(Uo=>Vt(Li,Uo[1],Uo[0]))}else Vt(ze,bi,gr)}),ze.focus()},radio:(A,R,te)=>{const ze=He(A,Me.radio);R.forEach(Cn=>{const gr=Cn[0],bi=Cn[1],Li=document.createElement("input"),Uo=document.createElement("label");Li.type="radio",Li.name=Me.radio,Li.value=gr,Qo(gr,te.inputValue)&&(Li.checked=!0);const us=document.createElement("span");Rt(us,bi),us.className=Me.label,Uo.appendChild(Li),Uo.appendChild(us),ze.appendChild(Uo)});const Vt=ze.querySelectorAll("input");Vt.length&&Vt[0].focus()}},Ai=A=>{const R=[];return"undefined"!=typeof Map&&A instanceof Map?A.forEach((te,ze)=>{let Vt=te;"object"==typeof Vt&&(Vt=Ai(Vt)),R.push([ze,Vt])}):Object.keys(A).forEach(te=>{let ze=A[te];"object"==typeof ze&&(ze=Ai(ze)),R.push([te,ze])}),R},Qo=(A,R)=>R&&R.toString()===A.toString(),_i=(A,R)=>{const te=zn.innerParams.get(A),ze=((A,R)=>{const te=A.getInput();if(!te)return null;switch(R.input){case"checkbox":return eo(te);case"radio":return js(te);case"file":return lo(te);default:return R.inputAutoTrim?te.value.trim():te.value}})(A,te);te.inputValidator?Jo(A,ze,R):A.getInput().checkValidity()?"deny"===R?go(A,ze):Gr(A,ze):(A.enableButtons(),A.showValidationMessage(te.validationMessage))},Jo=(A,R,te)=>{const ze=zn.innerParams.get(A);A.disableInput(),Promise.resolve().then(()=>Re(ze.inputValidator(R,ze.validationMessage))).then(Cn=>{A.enableButtons(),A.enableInput(),Cn?A.showValidationMessage(Cn):"deny"===te?go(A,R):Gr(A,R)})},go=(A,R)=>{const te=zn.innerParams.get(A||void 0);te.showLoaderOnDeny&&Wi(_t()),te.preDeny?(zn.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>Re(te.preDeny(R,te.validationMessage))).then(Vt=>{!1===Vt?A.hideLoading():A.closePopup({isDenied:!0,value:void 0===Vt?R:Vt})}).catch(Vt=>as(A||void 0,Vt))):A.closePopup({isDenied:!0,value:R})},Wo=(A,R)=>{A.closePopup({isConfirmed:!0,value:R})},as=(A,R)=>{A.rejectPromise(R)},Gr=(A,R)=>{const te=zn.innerParams.get(A||void 0);te.showLoaderOnConfirm&&Wi(),te.preConfirm?(A.resetValidationMessage(),zn.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>Re(te.preConfirm(R,te.validationMessage))).then(Vt=>{Bn(ce())||!1===Vt?A.hideLoading():Wo(A,void 0===Vt?R:Vt)}).catch(Vt=>as(A||void 0,Vt))):Wo(A,R)},fs=(A,R,te)=>{const ze=_n();if(ze.length)return(R+=te)===ze.length?R=0:-1===R&&(R=ze.length-1),ze[R].focus();bt().focus()},$o=["ArrowRight","ArrowDown"],io=["ArrowLeft","ArrowUp"],Bs=(A,R,te)=>{const ze=zn.innerParams.get(A);!ze||(ze.stopKeydownPropagation&&R.stopPropagation(),"Enter"===R.key?ca(A,R,ze):"Tab"===R.key?es(R,ze):[...$o,...io].includes(R.key)?fo(R.key):"Escape"===R.key&&na(R,ze,te))},ca=(A,R,te)=>{if(!R.isComposing&&R.target&&A.getInput()&&R.target.outerHTML===A.getInput().outerHTML){if(["textarea","file"].includes(te.input))return;Kn(),R.preventDefault()}},es=(A,R)=>{const te=A.target,ze=_n();let Vt=-1;for(let Cn=0;Cn<ze.length;Cn++)if(te===ze[Cn]){Vt=Cn;break}fs(0,Vt,A.shiftKey?-1:1),A.stopPropagation(),A.preventDefault()},fo=A=>{if(![rt(),_t(),Ut()].includes(document.activeElement))return;const Vt=$o.includes(A)?"nextElementSibling":"previousElementSibling",Cn=document.activeElement[Vt];Cn&&Cn.focus()},na=(A,R,te)=>{Fe(R.allowEscapeKey)&&(A.preventDefault(),te(Dt.esc))},vs=(A,R,te)=>{R.popup.onclick=()=>{const ze=zn.innerParams.get(A);ze.showConfirmButton||ze.showDenyButton||ze.showCancelButton||ze.showCloseButton||ze.timer||ze.input||te(Dt.close)}};let Rs=!1;const xs=A=>{A.popup.onmousedown=()=>{A.container.onmouseup=function(R){A.container.onmouseup=void 0,R.target===A.container&&(Rs=!0)}}},wi=A=>{A.container.onmousedown=()=>{A.popup.onmouseup=function(R){A.popup.onmouseup=void 0,(R.target===A.popup||A.popup.contains(R.target))&&(Rs=!0)}}},mo=(A,R,te)=>{R.container.onclick=ze=>{const Vt=zn.innerParams.get(A);Rs?Rs=!1:ze.target===R.container&&Fe(Vt.allowOutsideClick)&&te(Dt.backdrop)}};const ys=(A,R)=>{const te=(A=>{const R="string"==typeof A.template?document.querySelector(A.template):A.template;if(!R)return{};const te=R.content;return Co(te),Object.assign(Fi(te),Er(te),di(te),ko(te),Fo(te),co(te,ro))})(A),ze=Object.assign({},vi,R,te,A);return ze.showClass=Object.assign({},vi.showClass,ze.showClass),ze.hideClass=Object.assign({},vi.hideClass,ze.hideClass),ze},xo=(A,R,te)=>new Promise((ze,Vt)=>{const Cn=gr=>{A.closePopup({isDismissed:!0,dismiss:gr})};ne.swalPromiseResolve.set(A,ze),ne.swalPromiseReject.set(A,Vt),R.confirmButton.onclick=()=>(A=>{const R=zn.innerParams.get(A);A.disableButtons(),R.input?_i(A,"confirm"):Gr(A,!0)})(A),R.denyButton.onclick=()=>(A=>{const R=zn.innerParams.get(A);A.disableButtons(),R.returnInputValueOnDeny?_i(A,"deny"):go(A,!1)})(A),R.cancelButton.onclick=()=>((A,R)=>{A.disableButtons(),R(Dt.cancel)})(A,Cn),R.closeButton.onclick=()=>Cn(Dt.close),((A,R,te)=>{zn.innerParams.get(A).toast?vs(A,R,te):(xs(R),wi(R),mo(A,R,te))})(A,R,Cn),((A,R,te,ze)=>{R.keydownTarget&&R.keydownHandlerAdded&&(R.keydownTarget.removeEventListener("keydown",R.keydownHandler,{capture:R.keydownListenerCapture}),R.keydownHandlerAdded=!1),te.toast||(R.keydownHandler=Vt=>Bs(A,Vt,ze),R.keydownTarget=te.keydownListenerCapture?window:bt(),R.keydownListenerCapture=te.keydownListenerCapture,R.keydownTarget.addEventListener("keydown",R.keydownHandler,{capture:R.keydownListenerCapture}),R.keydownHandlerAdded=!0)})(A,Fn,te,Cn),((A,R)=>{"select"===R.input||"radio"===R.input?Jt(A,R):["text","email","number","tel","textarea"].includes(R.input)&&(k(R.inputValue)||Ye(R.inputValue))&&(Wi(rt()),Cr(A,R))})(A,te),vr(te),ya(Fn,te,Cn),vo(R,te),setTimeout(()=>{R.container.scrollTop=0})}),la=A=>{const R={popup:bt(),container:at(),actions:yn(),confirmButton:rt(),denyButton:_t(),cancelButton:Ut(),loader:qt(),closeButton:dn(),validationMessage:ce(),progressSteps:$e()};return zn.domCache.set(A,R),R},ya=(A,R,te)=>{const ze=fn();Tt(ze),R.timer&&(A.timeout=new Pr(()=>{te("timer"),delete A.timeout},R.timer),R.timerProgressBar&&(Nt(ze),setTimeout(()=>{A.timeout&&A.timeout.running&&ht(R.timer)})))},vo=(A,R)=>{if(!R.toast){if(!Fe(R.allowEnterKey))return Qi();ds(A,R)||fs(0,-1,1)}},ds=(A,R)=>R.focusDeny&&Bn(A.denyButton)?(A.denyButton.focus(),!0):R.focusCancel&&Bn(A.cancelButton)?(A.cancelButton.focus(),!0):!(!R.focusConfirm||!Bn(A.confirmButton)||(A.confirmButton.focus(),0)),Qi=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const Hs=A=>{hi(A),delete A.params,delete Fn.keydownHandler,delete Fn.keydownTarget,delete Fn.currentInstance},hi=A=>{A.isAwaitingPromise()?(Ms(zn,A),zn.awaitingPromise.set(A,!0)):(Ms(ne,A),Ms(zn,A))},Ms=(A,R)=>{for(const te in A)A[te].delete(R)};var y=Object.freeze({hideLoading:Or,disableLoading:Or,getInput:function(A){const R=zn.innerParams.get(A||this),te=zn.domCache.get(A||this);return te?Gn(te.popup,R.input):null},close:Le,isAwaitingPromise:function(){return!!zn.awaitingPromise.get(this)},rejectPromise:function(A){const R=ne.swalPromiseReject.get(this);br(this),R&&R(A)},closePopup:Le,closeModal:Le,closeToast:Le,enableButtons:function(){Y(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Y(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return pe(this.getInput(),!1)},disableInput:function(){return pe(this.getInput(),!0)},showValidationMessage:function(A){const R=zn.domCache.get(this),te=zn.innerParams.get(this);Rt(R.validationMessage,A),R.validationMessage.className=Me["validation-message"],te.customClass&&te.customClass.validationMessage&&In(R.validationMessage,te.customClass.validationMessage),Nt(R.validationMessage);const ze=this.getInput();ze&&(ze.setAttribute("aria-invalid",!0),ze.setAttribute("aria-describedby",Me["validation-message"]),bn(ze),In(ze,Me.inputerror))},resetValidationMessage:function(){const A=zn.domCache.get(this);A.validationMessage&&Tt(A.validationMessage);const R=this.getInput();R&&(R.removeAttribute("aria-invalid"),R.removeAttribute("aria-describedby"),Ct(R,Me.inputerror))},getProgressSteps:function(){return zn.domCache.get(this).progressSteps},_main:function(A,R={}){(A=>{!A.backdrop&&A.allowOutsideClick&&L('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const R in A)ki(R),A.toast&&Ro(R),fr(R)})(Object.assign({},R,A)),Fn.currentInstance&&(Fn.currentInstance._destroy(),$n()&&ge()),Fn.currentInstance=this;const te=ys(A,R);ls(te),Object.freeze(te),Fn.timeout&&(Fn.timeout.stop(),delete Fn.timeout),clearTimeout(Fn.restoreFocusTimeout);const ze=la(this);return Xn(this,te),zn.innerParams.set(this,te),xo(this,ze,te)},update:function(A){const R=bt(),te=zn.innerParams.get(this);if(!R||hn(R,te.hideClass.popup))return L("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ze={};Object.keys(A).forEach(Cn=>{_e.isUpdatableParameter(Cn)?ze[Cn]=A[Cn]:L('Invalid parameter to update: "'.concat(Cn,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const Vt=Object.assign({},te,ze);Xn(this,Vt),zn.innerParams.set(this,Vt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,A),writable:!1,enumerable:!0}})},_destroy:function(){const A=zn.domCache.get(this),R=zn.innerParams.get(this);R?(A.popup&&Fn.swalCloseEventFinishedCallback&&(Fn.swalCloseEventFinishedCallback(),delete Fn.swalCloseEventFinishedCallback),Fn.deferDisposalTimer&&(clearTimeout(Fn.deferDisposalTimer),delete Fn.deferDisposalTimer),"function"==typeof R.didDestroy&&R.didDestroy(),Hs(this)):hi(this)}});let U;class X{constructor(...R){if("undefined"==typeof window)return;U=this;const te=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:te,writable:!1,enumerable:!0,configurable:!0}});const ze=this._main(this.params);zn.promise.set(this,ze)}then(R){return zn.promise.get(this).then(R)}finally(R){return zn.promise.get(this).finally(R)}}Object.assign(X.prototype,y),Object.assign(X,qn),Object.keys(y).forEach(A=>{X[A]=function(...R){if(U)return U[A](...R)}}),X.DismissReason=Dt,X.version="11.1.9";const _e=X;return _e.default=_e,_e}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Dt,ie){var E=Dt.createElement("style");if(Dt.getElementsByTagName("head")[0].appendChild(E),E.styleSheet)E.styleSheet.disabled||(E.styleSheet.cssText=ie);else try{E.innerHTML=ie}catch(b){E.innerText=ie}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},4892:(Mn,Dt,ie)=>{"use strict";ie.r(Dt),ie.d(Dt,{IngresoModule:()=>Bn});var E=ie(8583),b=ie(6476),j=ie(5245),L=ie(3018),Pe=ie(1562),le=ie(2941),fe=ie(665);let Je=(()=>{class pt{constructor(wt,ht,Yt){this.fireAuth=wt,this.router=ht,this.authService=Yt}ngOnInit(){}irAlRegistro(){this.router.navigate(["/registro"])}loginWithGoogle(){this.authService.GoogleAuth()}login(){try{this.authService.loginWithEmailAndPassword(this.usrName,this.usrPass)}catch(wt){}}clearInputs(){this.usrName="",this.usrPass=""}fillInputs(wt,ht){this.usrName=wt,this.usrPass=ht}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.Y36(Pe.zQ),L.Y36(b.F0),L.Y36(le.V))},pt.\u0275cmp=L.Xpm({type:pt,selectors:[["app-login"]],decls:37,vars:2,consts:[["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.82.0"],["rel","canonical","href","https://getbootstrap.com/docs/5.0/examples/sign-in/"],[1,"form-signin"],["src","../../../../assets/favicon.ico","alt","","width","72","height","57",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","pass",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["type","button",1,"w-100","mt-3","btn","btn-lg","btn-primary",3,"click"],[1,"container"],[1,"row"],[1,"col-sm"]],template:function(wt,ht){1&wt&&(L.TgZ(0,"head"),L._UZ(1,"meta",0),L._UZ(2,"meta",1),L._UZ(3,"meta",2),L._UZ(4,"meta",3),L._UZ(5,"meta",4),L._UZ(6,"link",5),L.qZA(),L.TgZ(7,"body"),L.TgZ(8,"main",6),L.TgZ(9,"form"),L._UZ(10,"img",7),L.TgZ(11,"h1",8),L._uU(12,"Por favor, ingrese al sistema"),L.qZA(),L.TgZ(13,"div",9),L.TgZ(14,"input",10),L.NdJ("ngModelChange",function(Bt){return ht.usrName=Bt}),L.qZA(),L.TgZ(15,"label",11),L._uU(16,"Correo electronico"),L.qZA(),L.qZA(),L.TgZ(17,"div",9),L.TgZ(18,"input",12),L.NdJ("ngModelChange",function(Bt){return ht.usrPass=Bt}),L.qZA(),L.TgZ(19,"label",13),L._uU(20,"Contrase\xf1a"),L.qZA(),L.qZA(),L.TgZ(21,"button",14),L.NdJ("click",function(){return ht.login()}),L._uU(22,"Ingresar"),L.qZA(),L.TgZ(23,"button",14),L.NdJ("click",function(){return ht.loginWithGoogle()}),L._uU(24," Ingresar con Google "),L.qZA(),L.TgZ(25,"div",15),L.TgZ(26,"div",16),L.TgZ(27,"div",17),L.TgZ(28,"button",14),L.NdJ("click",function(){return ht.fillInputs("matias_travian@hotmail.com","soyadmin123")}),L._uU(29,"Admin"),L.qZA(),L.qZA(),L.TgZ(30,"div",17),L.TgZ(31,"button",14),L.NdJ("click",function(){return ht.fillInputs("denu.moreno.1990@gmail.com","pameladaniela")}),L._uU(32,"Especialista"),L.qZA(),L.qZA(),L.TgZ(33,"div",17),L.TgZ(34,"button",14),L.NdJ("click",function(){return ht.fillInputs("moll.matias.a@gmail.com","isanoe20")}),L._uU(35,"Paciente"),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L._UZ(36,"router-outlet")),2&wt&&(L.xp6(14),L.Q6J("ngModel",ht.usrName),L.xp6(4),L.Q6J("ngModel",ht.usrPass))},directives:[fe.Y7,fe.JL,fe.F,fe.Fj,fe.JJ,fe.On,b.lC],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:25%;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}",".bd-placeholder-img[_ngcontent-%COMP%] {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\n          font-size: 3.5rem;\n        }\n      }"]}),pt})();var Fe=ie(4762),k=ie(8002);class Re{constructor(ln,wt,ht,Yt,Bt,or,Ar,tr,An){this.nombre=ln,this.apellido=wt,this.edad=ht,this.dni=Yt,this.fotoUno=Bt,this.fotoDos=or,this.obraSocial=Ar,this.mail=tr,this.pass=An}}class Ye{constructor(ln,wt,ht,Yt,Bt,or,Ar,tr,An){this.nombre=ln,this.apellido=wt,this.edad=ht,this.dni=Yt,this.fotoUno=Bt,this.especialidad=or,this.mail=Ar,this.pass=tr,this.enabled=An}}class xe{constructor(ln,wt,ht,Yt,Bt,or,Ar){this.nombre=ln,this.apellido=wt,this.edad=ht,this.dni=Yt,this.fotoUno=Bt,this.mail=or,this.pass=Ar}}var De=ie(21);let st=(()=>{class pt{constructor(wt,ht){this.db=wt,this.af=ht,this.dbPath="/especialidades",this.EspecialidadesRef=wt.collection(this.dbPath)}getAll(){return console.log(this.EspecialidadesRef),this.EspecialidadesRef}create(wt){return this.EspecialidadesRef.add({especialidad:wt})}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.LFG(De.ST),L.LFG(Pe.zQ))},pt.\u0275prov=L.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})();var je=ie(1841),nt=ie(3194),Me=ie(5917),Ve=ie(6215);const At_loadScript=function(pt,ln,wt,ht,Yt){window.ng2recaptchaloaded=()=>{ln(grecaptcha)};const Bt=document.createElement("script");Bt.innerHTML="",Bt.src=`${ht||"https://www.google.com/recaptcha/api.js"}?render=${pt}&onload=ng2recaptchaloaded${wt}`,Yt&&(Bt.nonce=Yt),Bt.async=!0,Bt.defer=!0,document.head.appendChild(Bt)},It=new L.OlP("recaptcha-language"),bt=new L.OlP("recaptcha-base-url"),tn=new L.OlP("recaptcha-nonce-tag"),xn=new L.OlP("recaptcha-settings"),Wn=new L.OlP("recaptcha-v3-site-key");let ke=(()=>{class pt{constructor(wt,ht,Yt,Bt,or){this.platformId=wt,this.language=ht,this.baseUrl=Yt,this.nonce=Bt,this.v3SiteKey=or,this.init(),this.ready=(0,E.NF)(this.platformId)?pt.ready.asObservable():(0,Me.of)()}init(){if(!pt.ready&&(0,E.NF)(this.platformId)){const wt=new Ve.X(null);pt.ready=wt,At_loadScript(this.v3SiteKey||"explicit",Bt=>wt.next(Bt),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.LFG(L.Lbi),L.LFG(It,8),L.LFG(bt,8),L.LFG(tn,8),L.LFG(Wn,8))},pt.\u0275prov=L.Yz7({token:pt,factory:pt.\u0275fac}),pt.ready=null,pt})(),$e=0,ce=(()=>{class pt{constructor(wt,ht,Yt,Bt){this.elementRef=wt,this.loader=ht,this.zone=Yt,this.id="ngrecaptcha-"+$e++,this.errorMode="default",this.resolved=new L.vpe,this.error=new L.vpe,Bt&&(this.siteKey=Bt.siteKey,this.theme=Bt.theme,this.type=Bt.type,this.size=Bt.size,this.badge=Bt.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(wt=>{null!=wt&&wt.render instanceof Function&&(this.grecaptcha=wt,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(wt){this.error.emit(wt)}captchaResponseCallback(wt){this.resolved.emit(wt)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const wt={badge:this.badge,callback:ht=>{this.zone.run(()=>this.captchaResponseCallback(ht))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(wt["error-callback"]=(...ht)=>{this.zone.run(()=>this.errored(ht))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,wt),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.Y36(L.SBq),L.Y36(ke),L.Y36(L.R0b),L.Y36(xn,8))},pt.\u0275cmp=L.Xpm({type:pt,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(wt,ht){2&wt&&L.uIk("id",ht.id)},inputs:{id:"id",errorMode:"errorMode",siteKey:"siteKey",theme:"theme",type:"type",size:"size",badge:"badge",tabIndex:"tabIndex"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(wt,ht){},encapsulation:2}),pt})(),rt=(()=>{class pt{}return pt.\u0275fac=function(wt){return new(wt||pt)},pt.\u0275mod=L.oAB({type:pt}),pt.\u0275inj=L.cJS({}),pt})(),_t=(()=>{class pt{}return pt.\u0275fac=function(wt){return new(wt||pt)},pt.\u0275mod=L.oAB({type:pt}),pt.\u0275inj=L.cJS({providers:[ke],imports:[[rt]]}),pt})(),Ut=(()=>{class pt{constructor(wt){this.host=wt,this.requiresControllerReset=!1}writeValue(wt){wt?this.host.__unsafe_widgetValue!==wt&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(wt){this.onChange=wt,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(wt){this.onTouched=wt}onResolve(wt){this.onChange&&this.onChange(wt),this.onTouched&&this.onTouched()}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.Y36(ce))},pt.\u0275dir=L.lG2({type:pt,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(wt,ht){1&wt&&L.NdJ("resolved",function(Bt){return ht.onResolve(Bt)})},features:[L._Bn([{multi:!0,provide:fe.JU,useExisting:(0,L.Gpc)(()=>pt)}])]}),pt})(),yn=(()=>{class pt{}return pt.\u0275fac=function(wt){return new(wt||pt)},pt.\u0275mod=L.oAB({type:pt}),pt.\u0275inj=L.cJS({imports:[[fe.u5,rt]]}),pt})(),un=(()=>{class pt{constructor(wt){this.especialidadesService=wt,this.nameSpeciality="",this.eventNewSpeciality=new L.vpe,this.eventClose=new L.vpe}ngOnInit(){}eventoCerrar(){this.eventClose.emit()}agregarEspecialidad(){console.log(this.nameSpeciality),this.eventNewSpeciality.emit(this.nameSpeciality)}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.Y36(st))},pt.\u0275cmp=L.Xpm({type:pt,selectors:[["app-modal-agregar-especialidad"]],outputs:{eventClose:"eventClose",eventNewSpeciality:"eventNewSpeciality"},decls:9,vars:1,consts:[[1,"container"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre de la nueva",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(wt,ht){1&wt&&(L.TgZ(0,"div",0),L.TgZ(1,"div",1),L.TgZ(2,"label",2),L._uU(3,"Nombre"),L.qZA(),L.TgZ(4,"input",3),L.NdJ("ngModelChange",function(Bt){return ht.nameSpeciality=Bt}),L.qZA(),L.qZA(),L.TgZ(5,"button",4),L.NdJ("click",function(){return ht.agregarEspecialidad()}),L._uU(6,"Agregar especialidad"),L.qZA(),L.TgZ(7,"button",5),L.NdJ("click",function(){return ht.eventoCerrar()}),L._uU(8,"Cancelar"),L.qZA(),L.qZA()),2&wt&&(L.xp6(4),L.Q6J("ngModel",ht.nameSpeciality))},directives:[fe.Fj,fe.JJ,fe.On],styles:[""]}),pt})();function fn(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El nombre es requerido"),L.qZA())}function dn(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El nombre no puede tener espacios"),L.qZA())}function Zt(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El apellido es requerido"),L.qZA())}function _n(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"La edad es requerida"),L.qZA())}function $n(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"La edad debe ser mayo a 18 y menor a 99"),L.qZA())}function vn(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"La contrase\xf1a es requerido"),L.qZA())}function vt(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El email es requerido"),L.qZA())}function Et(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El formato es invaldo"),L.qZA())}function Rt(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"La foto es requerida"),L.qZA())}function hn(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"La foto es requerida"),L.qZA())}function jt(pt,ln){if(1&pt){const wt=L.EpF();L.TgZ(0,"div",3),L.TgZ(1,"label",32),L._uU(2,"Foto Perfil Dos"),L.qZA(),L.TgZ(3,"input",33),L.NdJ("change",function(Yt){return L.CHM(wt),L.oxw().onFileChanged(Yt)}),L.qZA(),L.YNc(4,hn,2,0,"small",8),L.qZA()}if(2&pt){const wt=L.oxw();L.xp6(4),L.Q6J("ngIf",(null==wt.formGroup.get("fotoDos").errors?null:wt.formGroup.get("fotoDos").errors.required)&&wt.formGroup.get("fotoDos").touched)}}function Un(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El obraSocial es requerido"),L.qZA())}function Gn(pt,ln){if(1&pt&&(L.TgZ(0,"div",3),L.TgZ(1,"label",34),L._uU(2,"Obra Social"),L.qZA(),L._UZ(3,"input",35),L.YNc(4,Un,2,0,"small",8),L.qZA()),2&pt){const wt=L.oxw();L.xp6(4),L.Q6J("ngIf",(null==wt.formGroup.get("obraSocial").errors?null:wt.formGroup.get("obraSocial").errors.required)&&wt.formGroup.get("obraSocial").touched)}}function bn(pt,ln){1&pt&&(L.TgZ(0,"small",31),L._uU(1,"El dni es requerido"),L.qZA())}function kn(pt,ln){if(1&pt&&(L.TgZ(0,"option"),L._uU(1),L.qZA()),2&pt){const wt=ln.$implicit;L.xp6(1),L.hij(" ",wt,"")}}function In(pt,ln){if(1&pt){const wt=L.EpF();L.TgZ(0,"div"),L.TgZ(1,"div",3),L.TgZ(2,"label",36),L._uU(3,"Especialidades"),L.qZA(),L.TgZ(4,"select",37),L.NdJ("change",function(){return L.CHM(wt),L.oxw().agregarEsp()}),L.TgZ(5,"option",38),L._uU(6,"--Seleccione uno--"),L.qZA(),L.YNc(7,kn,2,1,"option",39),L.TgZ(8,"option",40),L._uU(9,"Agregar una especialidad"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&pt){const wt=L.oxw();L.xp6(7),L.Q6J("ngForOf",wt.especialidades)}}function Ct(pt,ln){1&pt&&(L.TgZ(0,"button",41),L._uU(1,"Volver al inicio"),L.qZA())}function He(pt,ln){if(1&pt){const wt=L.EpF();L.TgZ(0,"div",42),L.TgZ(1,"app-modal-agregar-especialidad",43),L.NdJ("eventClose",function(){L.CHM(wt);const Yt=L.oxw();return Yt.seAgregoEsp=!Yt.seAgregoEsp})("eventNewSpeciality",function(Yt){return L.CHM(wt),L.oxw().seCreoNuevaEspecialidad(Yt)}),L.qZA(),L.qZA()}}function qe(pt,ln){1&pt&&L._UZ(0,"div")}function Nt(pt,ln){if(1&pt){const wt=L.EpF();L.TgZ(0,"div",44),L.TgZ(1,"div",45),L.TgZ(2,"div",46),L.TgZ(3,"h5",47),L._uU(4),L.qZA(),L.TgZ(5,"button",48),L.NdJ("click",function(){return L.CHM(wt),L.oxw().mostrarModal=!1}),L.qZA(),L.qZA(),L.TgZ(6,"div",49),L._uU(7),L.qZA(),L.TgZ(8,"div",50),L.TgZ(9,"button",51),L.NdJ("click",function(){return L.CHM(wt),L.oxw().mostrarModal=!1}),L._uU(10,"Aceptar"),L.qZA(),L.qZA(),L.qZA(),L.qZA()}if(2&pt){const wt=L.oxw();L.xp6(4),L.Oqu(wt.modal.titulo),L.xp6(3),L.hij(" ",wt.modal.cuerpo," ")}}const Tn=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Je},{path:"home",component:j.O},{path:"registro/:tipoRegistro",component:(()=>{class pt{constructor(wt,ht,Yt,Bt,or,Ar,tr){this.router=wt,this.auth=ht,this.route=Yt,this.fb=Bt,this.especialidadesService=or,this.http=Ar,this.fireStorage=tr,this.fileName="",this.mostrarModal=!1,this.captchaResolved=!1,this.nuevoPaciente=null,this.nuevosEspecialista=null,this.nuevoAdmisnitrador=null,this.modal={titulo:"",cuerpo:""},this.especialidades=[],this.basePath="/images",this.downloadableURL="",this.downloadableURL2=""}onFileChanged(wt){return(0,Fe.__awaiter)(this,void 0,void 0,function*(){const ht=wt.target.files[0];ht?(this.task=this.fireStorage.upload(`${this.basePath}/${ht.name}`,ht),this.progressValue=this.task.percentageChanges(),(yield this.task).ref.getDownloadURL().then(Bt=>{""==this.downloadableURL&&""==this.downloadableURL2?this.downloadableURL=Bt:""!=this.downloadableURL&&""==this.downloadableURL2&&(this.downloadableURL2=Bt)})):this.downloadableURL=""})}ngOnInit(){this.downloadableURL="",this.downloadableURL2="",this.getEspecialidades(),this.route.params.subscribe(wt=>this.tipoRegistro=wt.tipoRegistro),console.log(this.tipoRegistro),this.formGroup="paciente"==this.tipoRegistro?this.formGroupPaciente():"especialista"==this.tipoRegistro?this.formGroupEspecialista():this.formGroupAdministrador()}formGroupAdministrador(){return this.fb.group({nombre:["",[fe.kI.required,this.spaceValidator]],apellido:["",fe.kI.required],edad:["",[fe.kI.required,fe.kI.min(18),fe.kI.max(99)]],dni:["",fe.kI.required],email:["",[fe.kI.required,fe.kI.email]],contrase\u00f1a:["",fe.kI.required],foto:["",fe.kI.required],reCaptcha:["",fe.kI.required]})}formGroupEspecialista(){return this.fb.group({nombre:["",[fe.kI.required,this.spaceValidator]],apellido:["",fe.kI.required],edad:["",[fe.kI.required,fe.kI.min(18),fe.kI.max(99)]],dni:["",fe.kI.required],email:["",[fe.kI.required,fe.kI.email]],contrase\u00f1a:["",fe.kI.required],especialidad:["",fe.kI.required],foto:["",fe.kI.required],reCaptcha:["",fe.kI.required]})}formGroupPaciente(){return this.fb.group({nombre:["",[fe.kI.required,this.spaceValidator]],apellido:["",fe.kI.required],edad:["",[fe.kI.required,fe.kI.min(18),fe.kI.max(99)]],dni:["",fe.kI.required],email:["",[fe.kI.required,fe.kI.email]],contrase\u00f1a:["",fe.kI.required],obraSocial:["",fe.kI.required],foto:["",fe.kI.required],fotoDos:["",fe.kI.required],reCaptcha:["",fe.kI.required]})}getEspecialidades(){console.log("testss"),this.especialidadesService.getAll().snapshotChanges().pipe((0,k.U)(wt=>{console.log(wt),this.especialidades=[],wt.map(ht=>{console.log(ht.payload.doc.data().especialidad),this.especialidades.push(ht.payload.doc.data().especialidad)})})).subscribe()}agregarEsp(){console.log(this.formGroup.controls.especialidad.value),this.seAgregoEsp="agregar"==this.formGroup.controls.especialidad.value}registroWithEmailAndPassword(){"especialista"==this.tipoRegistro?this.nuevosEspecialista=this.createEspecialista():"paciente"==this.tipoRegistro?this.nuevoPaciente=this.createPaciente():this.nuevoAdmisnitrador=this.createAdministrador(),this.auth.registroWithEmailAndPassword(null!=this.nuevoPaciente?this.nuevoPaciente:null!=this.nuevosEspecialista?this.nuevosEspecialista:this.nuevoAdmisnitrador)}seCreoNuevaEspecialidad(wt){this.especialidadesService.create(wt)}createAdministrador(){return new xe(this.formGroup.getRawValue().nombre,this.formGroup.getRawValue().apellido,this.formGroup.getRawValue().edad,this.formGroup.getRawValue().dni,this.downloadableURL,this.formGroup.getRawValue().email,this.formGroup.getRawValue().contrase\u00f1a)}createEspecialista(){return new Ye(this.formGroup.getRawValue().nombre,this.formGroup.getRawValue().apellido,this.formGroup.getRawValue().edad,this.formGroup.getRawValue().dni,this.downloadableURL,this.formGroup.getRawValue().especialidad,this.formGroup.getRawValue().email,this.formGroup.getRawValue().contrase\u00f1a,!1)}createPaciente(){return new Re(this.formGroup.getRawValue().nombre,this.formGroup.getRawValue().apellido,this.formGroup.getRawValue().edad,this.formGroup.getRawValue().dni,this.downloadableURL,this.downloadableURL2,this.formGroup.getRawValue().obraSocial,this.formGroup.getRawValue().email,this.formGroup.getRawValue().contrase\u00f1a)}spaceValidator(wt){return wt.value.includes(" ")?{contieneEspacios:!0}:null}}return pt.\u0275fac=function(wt){return new(wt||pt)(L.Y36(b.F0),L.Y36(le.V),L.Y36(b.gz),L.Y36(fe.qu),L.Y36(st),L.Y36(je.eN),L.Y36(nt.Q1))},pt.\u0275cmp=L.Xpm({type:pt,selectors:[["app-registro"]],decls:59,vars:22,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","mb-5"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","sexo",1,"form-label"],["type","text","id","sexo","formControlName","contrase\xf1a","placeholder","Ingrese contrase\xf1a",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Ingrese email","formControlName","email",1,"form-control"],["for","foto",1,"form-label"],["type","file","accept","image/png,image/jpeg","id","foto","placeholder","Ingrese foto","formControlName","foto",1,"form-control",3,"change"],["class","col-md-12 mb-5",4,"ngIf"],["for","dni",1,"form-label"],["type","dni","id","dni","placeholder","Ingrese dni","formControlName","dni",1,"form-control"],[4,"ngIf"],["formControlName","reCaptcha",2,"margin-bottom","2%"],[1,"col-md-12","d-grid","gap-2"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["routerLink","/","type","button","class","btn btn-primary",4,"ngIf"],["class","modalAgregar",4,"ngIf"],[4,"ngIf","ngIfThen"],["class","modal fade modalFix shadow","id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel"],["showModal",""],[1,"invalid"],["for","fotoDos",1,"form-label"],["type","file","accept","image/png,image/jpeg","id","fotoDos","placeholder","Ingrese foto","formControlName","fotoDos",1,"form-control",3,"change"],["for","obraSocial",1,"form-label"],["type","obraSocial","id","obraSocial","placeholder","Ingrese obraSocial","formControlName","obraSocial",1,"form-control"],["for","especialidades",1,"form-label"],["id","sexo","formControlName","especialidad",1,"form-select",3,"change"],["value",""],[4,"ngFor","ngForOf"],["value","agregar"],["routerLink","/","type","button",1,"btn","btn-primary"],[1,"modalAgregar"],[3,"eventClose","eventNewSpeciality"],[1,"modal-dialog","modalFix","shadow"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(wt,ht){if(1&wt&&(L.TgZ(0,"div",0),L.TgZ(1,"form",1),L.NdJ("ngSubmit",function(){return ht.registroWithEmailAndPassword()}),L.TgZ(2,"div",2),L.TgZ(3,"div",3),L.TgZ(4,"h2"),L._uU(5),L.ALo(6,"titlecase"),L.qZA(),L.qZA(),L.qZA(),L.TgZ(7,"div",4),L.TgZ(8,"div",5),L.TgZ(9,"label",6),L._uU(10,"Nombre"),L.qZA(),L._UZ(11,"input",7),L.YNc(12,fn,2,0,"small",8),L.YNc(13,dn,2,0,"small",8),L.qZA(),L.TgZ(14,"div",5),L.TgZ(15,"label",9),L._uU(16,"Apellido"),L.qZA(),L._UZ(17,"input",10),L.YNc(18,Zt,2,0,"small",8),L.qZA(),L.TgZ(19,"div",5),L.TgZ(20,"label",11),L._uU(21,"Edad"),L.qZA(),L._UZ(22,"input",12),L.YNc(23,_n,2,0,"small",8),L.YNc(24,$n,2,0,"small",8),L.qZA(),L.TgZ(25,"div",5),L.TgZ(26,"label",13),L._uU(27,"Contrase\xf1a"),L.qZA(),L._UZ(28,"input",14),L.YNc(29,vn,2,0,"small",8),L.qZA(),L.TgZ(30,"div",3),L.TgZ(31,"label",15),L._uU(32,"Email"),L.qZA(),L._UZ(33,"input",16),L.YNc(34,vt,2,0,"small",8),L.YNc(35,Et,2,0,"small",8),L.qZA(),L.TgZ(36,"div",3),L.TgZ(37,"label",17),L._uU(38,"Foto Perfil Uno"),L.qZA(),L.TgZ(39,"input",18),L.NdJ("change",function(Bt){return ht.onFileChanged(Bt)}),L.qZA(),L.YNc(40,Rt,2,0,"small",8),L.qZA(),L.YNc(41,jt,5,1,"div",19),L.YNc(42,Gn,5,1,"div",19),L.TgZ(43,"div",3),L.TgZ(44,"label",20),L._uU(45,"Dni"),L.qZA(),L._UZ(46,"input",21),L.YNc(47,bn,2,0,"small",8),L.qZA(),L.YNc(48,In,10,1,"div",22),L._UZ(49,"re-captcha",23),L.qZA(),L.TgZ(50,"div",2),L.TgZ(51,"div",24),L.TgZ(52,"button",25),L._uU(53," Registrarse "),L.qZA(),L.YNc(54,Ct,2,0,"button",26),L.qZA(),L.qZA(),L.qZA(),L.qZA(),L.YNc(55,He,2,0,"div",27),L.YNc(56,qe,1,0,"div",28),L.YNc(57,Nt,11,2,"ng-template",29,30,L.W1O)),2&wt){const Yt=L.MAs(58);L.xp6(1),L.Q6J("formGroup",ht.formGroup),L.xp6(4),L.hij("Registro ",L.lcZ(6,20,ht.tipoRegistro),""),L.xp6(7),L.Q6J("ngIf",(null==ht.formGroup.get("nombre").errors?null:ht.formGroup.get("nombre").errors.required)&&ht.formGroup.get("nombre").touched),L.xp6(1),L.Q6J("ngIf",(null==ht.formGroup.get("nombre").errors?null:ht.formGroup.get("nombre").errors.contieneEspacios)&&ht.formGroup.get("nombre").touched),L.xp6(5),L.Q6J("ngIf",(null==ht.formGroup.get("apellido").errors?null:ht.formGroup.get("apellido").errors.required)&&ht.formGroup.get("apellido").touched),L.xp6(5),L.Q6J("ngIf",(null==ht.formGroup.get("edad").errors?null:ht.formGroup.get("edad").errors.required)&&ht.formGroup.get("edad").touched),L.xp6(1),L.Q6J("ngIf",((null==ht.formGroup.get("edad").errors?null:ht.formGroup.get("edad").errors.min)||(null==ht.formGroup.get("edad").errors?null:ht.formGroup.get("edad").errors.max))&&ht.formGroup.get("edad").touched),L.xp6(5),L.Q6J("ngIf",(null==ht.formGroup.get("contrase\xf1a").errors?null:ht.formGroup.get("contrase\xf1a").errors.required)&&ht.formGroup.get("contrase\xf1a").touched),L.xp6(5),L.Q6J("ngIf",(null==ht.formGroup.get("email").errors?null:ht.formGroup.get("email").errors.required)&&ht.formGroup.get("email").touched),L.xp6(1),L.Q6J("ngIf",(null==ht.formGroup.get("email").errors?null:ht.formGroup.get("email").errors.email)&&ht.formGroup.get("email").touched),L.xp6(5),L.Q6J("ngIf",(null==ht.formGroup.get("foto").errors?null:ht.formGroup.get("foto").errors.required)&&ht.formGroup.get("foto").touched),L.xp6(1),L.Q6J("ngIf","paciente"==ht.tipoRegistro),L.xp6(1),L.Q6J("ngIf","paciente"==ht.tipoRegistro),L.xp6(5),L.Q6J("ngIf",(null==ht.formGroup.get("dni").errors?null:ht.formGroup.get("dni").errors.required)&&ht.formGroup.get("dni").touched),L.xp6(1),L.Q6J("ngIf","especialista"==ht.tipoRegistro),L.xp6(4),L.Q6J("disabled",ht.formGroup.invalid),L.xp6(2),L.Q6J("ngIf",!ht.auth.isLogged),L.xp6(1),L.Q6J("ngIf",ht.seAgregoEsp),L.xp6(1),L.Q6J("ngIf",ht.mostrarModal)("ngIfThen",Yt)}},directives:[fe.Y7,fe.JL,fe.sg,fe.Fj,fe.JJ,fe.u,E.O5,fe.wV,ce,Ut,fe.EJ,fe.YN,fe.$B,E.sg,b.rH,un],pipes:[E.rS],styles:[".container[_ngcontent-%COMP%]{max-width:600px;padding:60px;position:relative;box-shadow:1px 1px 31px -5px #000000bf}.shadow[_ngcontent-%COMP%]{background-color:#000c}.bodyShadow[_ngcontent-%COMP%]{max-width:600px;padding:60px;position:relative;box-shadow:1px 1px 31px -5px #000000bf;background-color:#000c}.modalAgregar[_ngcontent-%COMP%]{position:absolute;display:block;height:25%;width:25%;top:38.5%;left:38.5%;background-color:#7fffd4}.spinner[_ngcontent-%COMP%]{position:absolute;height:100px;width:100px;top:50%;left:50%;margin-left:-50px;margin-top:-50px;background:url(giphy.2d243ac6ae724ba2df02.gif);background-size:100%}.formulario[_ngcontent-%COMP%]   div[class^=col-md-][_ngcontent-%COMP%]{height:90px}.invalid[_ngcontent-%COMP%]{color:red}"]}),pt})()}];let nn=(()=>{class pt{}return pt.\u0275fac=function(wt){return new(wt||pt)},pt.\u0275mod=L.oAB({type:pt}),pt.\u0275inj=L.cJS({imports:[[b.Bz.forChild(Tn)],b.Bz]}),pt})(),Bn=(()=>{class pt{}return pt.\u0275fac=function(wt){return new(wt||pt)},pt.\u0275mod=L.oAB({type:pt}),pt.\u0275inj=L.cJS({providers:[{provide:xn,useValue:{siteKey:"6Lf1wOIcAAAAAL4DzTbtL9w6CFZxhWGYVX8RYAiJ"}}],imports:[[E.ez,fe.u5,fe.UX,_t,yn,nn]]}),pt})()},7336:(Mn,Dt,ie)=>{"use strict";ie.r(Dt),ie.d(Dt,{UsuariosModule:()=>Me});var E=ie(8583),b=ie(6476),j=ie(3018);let L=(()=>{class Ve{constructor(At){this.router=At}ngOnInit(){}irRegistro(At){this.router.navigate(["ingreso/registro",At])}}return Ve.\u0275fac=function(At){return new(At||Ve)(j.Y36(b.F0))},Ve.\u0275cmp=j.Xpm({type:Ve,selectors:[["app-home-us"]],decls:7,vars:0,consts:[[1,"d-grid","gap-2","col-6","mx-auto","centrado"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(At,It){1&At&&(j.TgZ(0,"div",0),j.TgZ(1,"h3"),j._uU(2,"Dar de alta usuarios de tipo: "),j.qZA(),j.TgZ(3,"button",1),j.NdJ("click",function(){return It.irRegistro("paciente")}),j._uU(4,"Paciente"),j.qZA(),j.TgZ(5,"button",2),j.NdJ("click",function(){return It.irRegistro("administrador")}),j._uU(6,"Administrador"),j.qZA(),j.qZA())},styles:[""]}),Ve})();var Pe=ie(8002),le=ie(2941);function fe(Ve,at){1&Ve&&(j.TgZ(0,"th",2),j._uU(1,"Especialidad"),j.qZA())}function Je(Ve,at){1&Ve&&(j.TgZ(0,"th",2),j._uU(1,"Habilitar Cuenta"),j.qZA())}function Fe(Ve,at){if(1&Ve&&(j.TgZ(0,"td"),j._uU(1),j.qZA()),2&Ve){const At=j.oxw().$implicit;j.xp6(1),j.Oqu(At.especialidad)}}function k(Ve,at){if(1&Ve){const At=j.EpF();j.TgZ(0,"button",10),j.NdJ("click",function(){j.CHM(At);const bt=j.oxw(2).$implicit;return j.oxw(2).changeEstado(bt,!1)}),j._uU(1,"Inhabilitar cuenta"),j.qZA()}}function Re(Ve,at){if(1&Ve){const At=j.EpF();j.TgZ(0,"button",11),j.NdJ("click",function(){j.CHM(At);const bt=j.oxw(2).$implicit;return j.oxw(2).changeEstado(bt,!0)}),j._uU(1,"Habilitar cuenta"),j.qZA()}}function Ye(Ve,at){if(1&Ve&&(j.TgZ(0,"td"),j.TgZ(1,"div",7),j.YNc(2,k,2,0,"button",8),j.YNc(3,Re,2,0,"button",9),j.qZA(),j.qZA()),2&Ve){const At=j.oxw().$implicit;j.xp6(2),j.Q6J("ngIf",At.enabled),j.xp6(1),j.Q6J("ngIf",!At.enabled)}}function xe(Ve,at){if(1&Ve&&(j.TgZ(0,"tbody"),j.TgZ(1,"tr"),j.TgZ(2,"th",5),j._uU(3),j.qZA(),j.TgZ(4,"td"),j._uU(5),j.qZA(),j.TgZ(6,"td"),j._uU(7),j.qZA(),j.TgZ(8,"td"),j._uU(9),j.qZA(),j.TgZ(10,"td"),j._uU(11),j.qZA(),j.YNc(12,Fe,2,1,"td",6),j.YNc(13,Ye,4,2,"td",6),j.qZA(),j.qZA()),2&Ve){const At=at.$implicit,It=j.oxw(2);j.xp6(3),j.Oqu(At.nombre),j.xp6(2),j.Oqu(At.apellido),j.xp6(2),j.Oqu(At.mail),j.xp6(2),j.Oqu(At.edad),j.xp6(2),j.Oqu(At.dni),j.xp6(1),j.Q6J("ngIf",It.isEspecialista),j.xp6(1),j.Q6J("ngIf",It.isEspecialista)}}function De(Ve,at){if(1&Ve&&(j.TgZ(0,"table",1),j.TgZ(1,"thead"),j.TgZ(2,"tr"),j.TgZ(3,"th",2),j._uU(4,"Nombre"),j.qZA(),j.TgZ(5,"th",2),j._uU(6,"Apellido"),j.qZA(),j.TgZ(7,"th",2),j._uU(8,"Mail"),j.qZA(),j.TgZ(9,"th",2),j._uU(10,"Edad"),j.qZA(),j.TgZ(11,"th",2),j._uU(12,"Dni"),j.qZA(),j.YNc(13,fe,2,0,"th",3),j.YNc(14,Je,2,0,"th",3),j.qZA(),j.qZA(),j.YNc(15,xe,14,7,"tbody",4),j.qZA()),2&Ve){const At=j.oxw();j.xp6(13),j.Q6J("ngIf",At.isEspecialista),j.xp6(1),j.Q6J("ngIf",At.isEspecialista),j.xp6(1),j.Q6J("ngForOf",At.listaUsuarios)}}const je=[{path:"",redirectTo:"homeUsuario",pathMatch:"full"},{path:"homeUsuario",component:L},{path:"listaUsuarios/:isEspecialista",component:(()=>{class Ve{constructor(At,It){this.route=At,this.ingresoService=It,this.seEjecutoOnInit=!1,this.route.params.subscribe(bt=>{this.isEspecialista="true"==bt.isEspecialista,this.seEjecutoOnInit&&this.ngOnInit()})}changeEstado(At,It){At.enabled=It}ngOnInit(){this.seEjecutoOnInit=!0,this.listIds=new Array,this.listaUsuarios=new Array,this.isEspecialista?this.ingresoService.getAllEspecialistas().snapshotChanges().pipe((0,Pe.U)(At=>{At.map(It=>{this.listIds.push(It.payload.doc.id),this.listaUsuarios.push(It.payload.doc.data())})})).subscribe():this.ingresoService.getAllPacientes().snapshotChanges().pipe((0,Pe.U)(At=>{At.map(It=>{this.listIds.push(It.payload.doc.id),this.listaUsuarios.push(It.payload.doc.data())})})).subscribe()}ngOnDestroy(){for(let At=0;At<this.listaUsuarios.length;At++)"especialidad"in this.listaUsuarios[At]&&(console.log(this.listaUsuarios[At]),this.ingresoService.updateEspecialista(this.listIds[At],this.listaUsuarios[At].enabled))}}return Ve.\u0275fac=function(At){return new(At||Ve)(j.Y36(b.gz),j.Y36(le.V))},Ve.\u0275cmp=j.Xpm({type:Ve,selectors:[["app-lista-usuarios"]],decls:1,vars:1,consts:[["class","table",4,"ngIf"],[1,"table"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[4,"ngIf"],[1,"row"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(At,It){1&At&&j.YNc(0,De,16,3,"table",0),2&At&&j.Q6J("ngIf",It.listaUsuarios)},directives:[E.O5,E.sg],styles:[""]}),Ve})()},{path:"**",redirectTo:"homeUsuario",pathMatch:"full"}];let nt=(()=>{class Ve{}return Ve.\u0275fac=function(At){return new(At||Ve)},Ve.\u0275mod=j.oAB({type:Ve}),Ve.\u0275inj=j.cJS({imports:[[b.Bz.forChild(je)],b.Bz]}),Ve})(),Me=(()=>{class Ve{}return Ve.\u0275fac=function(At){return new(At||Ve)},Ve.\u0275mod=j.oAB({type:Ve}),Ve.\u0275inj=j.cJS({imports:[[E.ez,nt]]}),Ve})()},5245:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{O:()=>b});var E=ie(3018);let b=(()=>{class j{constructor(){}ngOnInit(){}}return j.\u0275fac=function(Pe){return new(Pe||j)},j.\u0275cmp=E.Xpm({type:j,selectors:[["app-home"]],decls:2,vars:0,template:function(Pe,le){1&Pe&&(E.TgZ(0,"p"),E._uU(1,"home works!"),E.qZA())},styles:[""]}),j})()},2941:(Mn,Dt,ie)=>{"use strict";ie.d(Dt,{V:()=>gc});var M,E=ie(9759),Pe=(ie(6423),ie(9192),ie(5171),ie(266)),le=ie(4685),fe=ie(300);ie(2870),(M=Pe.U).prototype.loadBundle=Pe.c,M.prototype.namedQuery=Pe.u;var k=ie(4762),Re=ie(6034),Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xe=function(M){function N(G,ae,he){var Oe=M.call(this,ae)||this;return Object.setPrototypeOf(Oe,N.prototype),Oe.code=G,Oe.details=he,Oe}return(0,k.__extends)(N,M),N}(Error),je=function(){function M(N,G){var ae=this;this.auth=null,this.messaging=null,this.auth=N.getImmediate({optional:!0}),this.messaging=G.getImmediate({optional:!0}),this.auth||N.get().then(function(he){return ae.auth=he},function(){}),this.messaging||G.get().then(function(he){return ae.messaging=he},function(){})}return M.prototype.getAuthToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N;return(0,k.__generator)(this,function(G){switch(G.label){case 0:if(!this.auth)return[2,void 0];G.label=1;case 1:return G.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(N=G.sent())?[2,N.accessToken]:[2,void 0];case 3:return G.sent(),[2,void 0];case 4:return[2]}})})},M.prototype.getInstanceIdToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(N){switch(N.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];N.label=1;case 1:return N.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,N.sent()];case 3:return N.sent(),[2,void 0];case 4:return[2]}})})},M.prototype.getContext=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,this.getAuthToken()];case 1:return N=ae.sent(),[4,this.getInstanceIdToken()];case 2:return G=ae.sent(),[2,{authToken:N,instanceIdToken:G}]}})})},M}();function Ve(M,N){var G={};for(var ae in M)M.hasOwnProperty(ae)&&(G[ae]=N(M[ae]));return G}var at=function(){function M(){}return M.prototype.encode=function(N){var G=this;if(null==N)return null;if(N instanceof Number&&(N=N.valueOf()),"number"==typeof N&&isFinite(N)||!0===N||!1===N||"[object String]"===Object.prototype.toString.call(N))return N;if(N instanceof Date)return N.toISOString();if(Array.isArray(N))return N.map(function(ae){return G.encode(ae)});if("function"==typeof N||"object"==typeof N)return Ve(N,function(ae){return G.encode(ae)});throw new Error("Data cannot be encoded in JSON: "+N)},M.prototype.decode=function(N){var G=this;if(null==N)return N;if(N["@type"])switch(N["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var ae=Number(N.value);if(isNaN(ae))throw new Error("Data cannot be decoded from JSON: "+N);return ae;default:throw new Error("Data cannot be decoded from JSON: "+N)}return Array.isArray(N)?N.map(function(he){return G.decode(he)}):"function"==typeof N||"object"==typeof N?Ve(N,function(he){return G.decode(he)}):N},M}(),It=function(){function M(N,G,ae,he,Oe,ct){var ft=this;void 0===Oe&&(Oe="us-central1"),this.app_=N,this.appCheckProvider=he,this.fetchImpl=ct,this.serializer=new at,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(ft.deleteService())}},this.contextProvider=new je(G,ae),this.cancelAllRequests=new Promise(function(en){ft.deleteService=function(){return en()}});try{var Wt=new URL(Oe);this.customDomain=Wt.origin,this.region="us-central1"}catch(en){this.customDomain=null,this.region=Oe}}return Object.defineProperty(M.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),M.prototype._url=function(N){var G=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+G+"/"+this.region+"/"+N:null!==this.customDomain?this.customDomain+"/"+N:"https://"+this.region+"-"+G+".cloudfunctions.net/"+N},M.prototype.useEmulator=function(N,G){this.emulatorOrigin="http://"+N+":"+G},M.prototype.useFunctionsEmulator=function(N){this.emulatorOrigin=N},M.prototype.httpsCallable=function(N,G){var ae=this;return function(he){return ae.call(N,he,G||{})}},M.prototype.postJSON=function(N,G,ae){return(0,k.__awaiter)(this,void 0,void 0,function(){var he,Oe,ct;return(0,k.__generator)(this,function(ft){switch(ft.label){case 0:return ae["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(he=ft.sent())&&(ae["X-Firebase-AppCheck"]=he),ft.label=2;case 2:return ft.trys.push([2,4,,5]),[4,this.fetchImpl(N,{method:"POST",body:JSON.stringify(G),headers:ae})];case 3:return Oe=ft.sent(),[3,5];case 4:return ft.sent(),[2,{status:0,json:null}];case 5:ct=null,ft.label=6;case 6:return ft.trys.push([6,8,,9]),[4,Oe.json()];case 7:return ct=ft.sent(),[3,9];case 8:return ft.sent(),[3,9];case 9:return[2,{status:Oe.status,json:ct}]}})})},M.prototype.getAppCheckToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return(N=this.appCheckProvider.getImmediate({optional:!0}))?[4,N.getToken()]:[3,2];case 1:return[2,ae.sent().token];case 2:return[2,null]}})})},M.prototype.call=function(N,G,ae){return(0,k.__awaiter)(this,void 0,void 0,function(){var he,Oe,ct,ft,en,wn,ar,Ur,Si,gi;return(0,k.__generator)(this,function(ks){switch(ks.label){case 0:return he=this._url(N),G=this.serializer.encode(G),Oe={data:G},ct={},[4,this.contextProvider.getContext()];case 1:return(ft=ks.sent()).authToken&&(ct.Authorization="Bearer "+ft.authToken),ft.instanceIdToken&&(ct["Firebase-Instance-ID-Token"]=ft.instanceIdToken),en=function(M){var N,G=new Promise(function(ae,he){N=setTimeout(function(){he(new xe("deadline-exceeded","deadline-exceeded"))},M)});return{timer:N,promise:G}}(ae.timeout||7e4),wn=en.timer,ar=en.promise,[4,Promise.race([bt(wn,this.postJSON(he,Oe,ct)),ar,bt(wn,this.cancelAllRequests)])];case 2:if(!(Ur=ks.sent()))throw new xe("cancelled","Firebase Functions instance was deleted.");if(Si=function(M,N,G){var ae=function(M){if(M>=200&&M<300)return"ok";switch(M){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(M),he=ae,Oe=void 0;try{var ct=N&&N.error;if(ct){var ft=ct.status;if("string"==typeof ft){if(!Ye[ft])return new xe("internal","internal");ae=Ye[ft],he=ft}var Wt=ct.message;"string"==typeof Wt&&(he=Wt),void 0!==(Oe=ct.details)&&(Oe=G.decode(Oe))}}catch(en){}return"ok"===ae?null:new xe(ae,he,Oe)}(Ur.status,Ur.json,this.serializer))throw Si;if(!Ur.json)throw new xe("internal","Response is not valid JSON object.");if(void 0===(gi=Ur.json.data)&&(gi=Ur.json.result),void 0===gi)throw new xe("internal","Response is missing data field.");return[2,{data:this.serializer.decode(gi)}]}})})},M}();function bt(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,N];case 1:return G=ae.sent(),clearTimeout(M),[2,G]}})})}(function(M,N){var G={Functions:It};M.INTERNAL.registerComponent(new Re.Component("functions",function(he,Oe){var ct=Oe.instanceIdentifier,ft=he.getProvider("app").getImmediate(),Wt=he.getProvider("auth-internal"),en=he.getProvider("app-check-internal"),wn=he.getProvider("messaging");return new It(ft,Wt,wn,en,ct,N)},"PUBLIC").setServiceProps(G).setMultipleInstances(!0))})(E.default,fetch.bind(self)),E.default.registerVersion("@firebase/functions","0.6.15");var dn,$e=ie(6676),lt="w:0.4.32",Zt=((dn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dn["not-registered"]="Firebase Installation is not registered.",dn["installation-not-found"]="Firebase Installation not found.",dn["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',dn["app-offline"]="Could not process request. Application offline.",dn["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",dn),_n=new le.ErrorFactory("installations","Installations",Zt);function $n(M){return M instanceof le.FirebaseError&&M.code.includes("request-failed")}function vn(M){return"https://firebaseinstallations.googleapis.com/v1/projects/"+M.projectId+"/installations"}function vt(M){return{token:M.token,requestStatus:2,expiresIn:Un(M.expiresIn),creationTime:Date.now()}}function Et(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,N.json()];case 1:return G=he.sent(),[2,_n.create("request-failed",{requestName:M,serverCode:(ae=G.error).code,serverMessage:ae.message,serverStatus:ae.status})]}})})}function Rt(M){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey})}function hn(M,N){var G=N.refreshToken,ae=Rt(M);return ae.append("Authorization",function(M){return"FIS_v2 "+M}(G)),ae}function jt(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N;return(0,k.__generator)(this,function(G){switch(G.label){case 0:return[4,M()];case 1:return(N=G.sent()).status>=500&&N.status<600?[2,M()]:[2,N]}})})}function Un(M){return Number(M.replace("s","000"))}function bn(M,N){var G=N.fid;return(0,k.__awaiter)(this,void 0,void 0,function(){var ae,he,ct,ft,Wt;return(0,k.__generator)(this,function(wn){switch(wn.label){case 0:return ae=vn(M),he=Rt(M),ct={method:"POST",headers:he,body:JSON.stringify({fid:G,authVersion:"FIS_v2",appId:M.appId,sdkVersion:lt})},[4,jt(function(){return fetch(ae,ct)})];case 1:return(ft=wn.sent()).ok?[4,ft.json()]:[3,3];case 2:return[2,{fid:(Wt=wn.sent()).fid||G,registrationStatus:2,refreshToken:Wt.refreshToken,authToken:vt(Wt.authToken)}];case 3:return[4,Et("Create Installation",ft)];case 4:throw wn.sent()}})})}function kn(M){return new Promise(function(N){setTimeout(N,M)})}var Ct=/^[cdef][\w-]{21}$/;function qe(){try{var M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;var G=function(M){return function(M){return btoa(String.fromCharCode.apply(String,(0,k.__spreadArray)([],(0,k.__read)(M)))).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return Ct.test(G)?G:""}catch(ae){return""}}function Tt(M){return M.appName+"!"+M.appId}var Tn=new Map;function nn(M,N){var G=Tt(M);ln(G,N),function(M,N){var G=Yt();G&&G.postMessage({key:M,fid:N}),Bt()}(G,N)}function ln(M,N){var G,ae,he=Tn.get(M);if(he)try{for(var Oe=(0,k.__values)(he),ct=Oe.next();!ct.done;ct=Oe.next())(0,ct.value)(N)}catch(Wt){G={error:Wt}}finally{try{ct&&!ct.done&&(ae=Oe.return)&&ae.call(Oe)}finally{if(G)throw G.error}}}var ht=null;function Yt(){return!ht&&"BroadcastChannel"in self&&((ht=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(M){ln(M.data.key,M.data.fid)}),ht}function Bt(){0===Tn.size&&ht&&(ht.close(),ht=null)}var tr="firebase-installations-store",An=null;function Fr(){return An||(An=(0,$e.openDb)("firebase-installations-database",1,function(M){switch(M.oldVersion){case 0:M.createObjectStore(tr)}})),An}function wr(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe,ct;return(0,k.__generator)(this,function(ft){switch(ft.label){case 0:return G=Tt(M),[4,Fr()];case 1:return ae=ft.sent(),he=ae.transaction(tr,"readwrite"),[4,(Oe=he.objectStore(tr)).get(G)];case 2:return ct=ft.sent(),[4,Oe.put(N,G)];case 3:return ft.sent(),[4,he.complete];case 4:return ft.sent(),(!ct||ct.fid!==N.fid)&&nn(M,N.fid),[2,N]}})})}function et(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return N=Tt(M),[4,Fr()];case 1:return G=he.sent(),[4,(ae=G.transaction(tr,"readwrite")).objectStore(tr).delete(N)];case 2:return he.sent(),[4,ae.complete];case 3:return he.sent(),[2]}})})}function Ue(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe,ct,ft;return(0,k.__generator)(this,function(Wt){switch(Wt.label){case 0:return G=Tt(M),[4,Fr()];case 1:return ae=Wt.sent(),he=ae.transaction(tr,"readwrite"),[4,(Oe=he.objectStore(tr)).get(G)];case 2:return ct=Wt.sent(),void 0!==(ft=N(ct))?[3,4]:[4,Oe.delete(G)];case 3:return Wt.sent(),[3,6];case 4:return[4,Oe.put(ft,G)];case 5:Wt.sent(),Wt.label=6;case 6:return[4,he.complete];case 7:return Wt.sent(),ft&&(!ct||ct.fid!==ft.fid)&&nn(M,ft.fid),[2,ft]}})})}function gt(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,Ue(M,function(Oe){var ct=function(M){return Ht(M||{fid:qe(),registrationStatus:0})}(Oe),ft=function(M,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(_n.create("app-offline"))};var ae={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},he=function(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return he.trys.push([0,2,,7]),[4,bn(M,N)];case 1:return G=he.sent(),[2,wr(M,G)];case 2:return $n(ae=he.sent())&&409===ae.customData.serverCode?[4,et(M)]:[3,4];case 3:return he.sent(),[3,6];case 4:return[4,wr(M,{fid:N.fid,registrationStatus:0})];case 5:he.sent(),he.label=6;case 6:throw ae;case 7:return[2]}})})}(M,ae);return{installationEntry:ae,registrationPromise:he}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:yt(M)}:{installationEntry:N}}(M,ct);return N=ft.registrationPromise,ft.installationEntry})];case 1:return""!==(G=he.sent()).fid?[3,3]:(ae={},[4,N]);case 2:return[2,(ae.installationEntry=he.sent(),ae)];case 3:return[2,{installationEntry:G,registrationPromise:N}]}})})}function yt(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae,he;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return[4,Lt(M)];case 1:N=Oe.sent(),Oe.label=2;case 2:return 1!==N.registrationStatus?[3,5]:[4,kn(100)];case 3:return Oe.sent(),[4,Lt(M)];case 4:return N=Oe.sent(),[3,2];case 5:return 0!==N.registrationStatus?[3,7]:[4,gt(M)];case 6:return G=Oe.sent(),ae=G.installationEntry,(he=G.registrationPromise)?[2,he]:[2,ae];case 7:return[2,N]}})})}function Lt(M){return Ue(M,function(N){if(!N)throw _n.create("installation-not-found");return Ht(N)})}function Ht(M){return function(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Ln(M,N){var G=M.appConfig,ae=M.platformLoggerProvider;return(0,k.__awaiter)(this,void 0,void 0,function(){var he,Oe,ct,Wt,en;return(0,k.__generator)(this,function(Ur){switch(Ur.label){case 0:return he=function(M,N){var G=N.fid;return vn(M)+"/"+G+"/authTokens:generate"}(G,N),Oe=hn(G,N),(ct=ae.getImmediate({optional:!0}))&&Oe.append("x-firebase-client",ct.getPlatformInfoString()),Wt={method:"POST",headers:Oe,body:JSON.stringify({installation:{sdkVersion:lt}})},[4,jt(function(){return fetch(he,Wt)})];case 1:return(en=Ur.sent()).ok?[4,en.json()]:[3,3];case 2:return[2,vt(Ur.sent())];case 3:return[4,Et("Generate Auth Token",en)];case 4:throw Ur.sent()}})})}function nr(M,N){return void 0===N&&(N=!1),(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,Oe;return(0,k.__generator)(this,function(ct){switch(ct.label){case 0:return[4,Ue(M.appConfig,function(ft){if(!Wr(ft))throw _n.create("not-registered");var Wt=ft.authToken;if(!N&&function(M){return 2===M.requestStatus&&!function(M){var N=Date.now();return N<M.creationTime||M.creationTime+M.expiresIn<N+36e5}(M)}(Wt))return ft;if(1===Wt.requestStatus)return G=function(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,zn(M.appConfig)];case 1:G=he.sent(),he.label=2;case 2:return 1!==G.authToken.requestStatus?[3,5]:[4,kn(100)];case 3:return he.sent(),[4,zn(M.appConfig)];case 4:return G=he.sent(),[3,2];case 5:return 0===(ae=G.authToken).requestStatus?[2,nr(M,N)]:[2,ae]}})})}(M,N),ft;if(!navigator.onLine)throw _n.create("app-offline");var en=function(M){var N={requestStatus:1,requestTime:Date.now()};return(0,k.__assign)((0,k.__assign)({},M),{authToken:N})}(ft);return G=function(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,he,ae;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return Oe.trys.push([0,3,,8]),[4,Ln(M,N)];case 1:return G=Oe.sent(),ae=(0,k.__assign)((0,k.__assign)({},N),{authToken:G}),[4,wr(M.appConfig,ae)];case 2:return Oe.sent(),[2,G];case 3:return!$n(he=Oe.sent())||401!==he.customData.serverCode&&404!==he.customData.serverCode?[3,5]:[4,et(M.appConfig)];case 4:return Oe.sent(),[3,7];case 5:return ae=(0,k.__assign)((0,k.__assign)({},N),{authToken:{requestStatus:0}}),[4,wr(M.appConfig,ae)];case 6:Oe.sent(),Oe.label=7;case 7:throw he;case 8:return[2]}})})}(M,en),en})];case 1:return ae=ct.sent(),G?[4,G]:[3,3];case 2:return Oe=ct.sent(),[3,4];case 3:Oe=ae.authToken,ct.label=4;case 4:return[2,Oe]}})})}function zn(M){return Ue(M,function(N){if(!Wr(N))throw _n.create("not-registered");return function(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(N.authToken)?(0,k.__assign)((0,k.__assign)({},N),{authToken:{requestStatus:0}}):N})}function Wr(M){return void 0!==M&&2===M.registrationStatus}function to(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N;return(0,k.__generator)(this,function(G){switch(G.label){case 0:return[4,gt(M)];case 1:return(N=G.sent().registrationPromise)?[4,N]:[3,3];case 2:G.sent(),G.label=3;case 3:return[2]}})})}function Pi(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe;return(0,k.__generator)(this,function(ct){switch(ct.label){case 0:return G=function(M,N){var G=N.fid;return vn(M)+"/"+G}(M,N),ae=hn(M,N),he={method:"DELETE",headers:ae},[4,jt(function(){return fetch(G,he)})];case 1:return(Oe=ct.sent()).ok?[3,3]:[4,Et("Delete Installation",Oe)];case 2:throw ct.sent();case 3:return[2]}})})}function Do(M){return _n.create("missing-app-config-values",{valueName:M})}!function(M){M.INTERNAL.registerComponent(new Re.Component("installations",function(G){var ae=G.getProvider("app").getImmediate(),ct={appConfig:function(M){var N,G;if(!M||!M.options)throw Do("App Configuration");if(!M.name)throw Do("App Name");try{for(var he=(0,k.__values)(["projectId","apiKey","appId"]),Oe=he.next();!Oe.done;Oe=he.next()){var ct=Oe.value;if(!M.options[ct])throw Do(ct)}}catch(ft){N={error:ft}}finally{try{Oe&&!Oe.done&&(G=he.return)&&G.call(he)}finally{if(N)throw N.error}}return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(ae),platformLoggerProvider:G.getProvider("platform-logger")};return{app:ae,getId:function(){return function(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,gt(M.appConfig)];case 1:return N=he.sent(),G=N.installationEntry,(ae=N.registrationPromise)?ae.catch(console.error):nr(M).catch(console.error),[2,G.fid]}})})}(ct)},getToken:function(Wt){return function(M,N){return void 0===N&&(N=!1),(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,to(M.appConfig)];case 1:return ae.sent(),[4,nr(M,N)];case 2:return[2,ae.sent().token]}})})}(ct,Wt)},delete:function(){return function(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,Ue(N=M.appConfig,function(he){if(!he||0!==he.registrationStatus)return he})];case 1:if(!(G=ae.sent()))return[3,6];if(1!==G.registrationStatus)return[3,2];throw _n.create("delete-pending-registration");case 2:if(2!==G.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw _n.create("app-offline");case 3:return[4,Pi(N,G)];case 4:return ae.sent(),[4,et(N)];case 5:ae.sent(),ae.label=6;case 6:return[2]}})})}(ct)},onIdChange:function(Wt){return function(M,N){var G=M.appConfig;return function(M,N){Yt();var G=Tt(M),ae=Tn.get(G);ae||(ae=new Set,Tn.set(G,ae)),ae.add(N)}(G,N),function(){!function(M,N){var G=Tt(M),ae=Tn.get(G);!ae||(ae.delete(N),0===ae.size&&Tn.delete(G),Bt())}(G,N)}}(ct,Wt)}}},"PUBLIC")),M.registerVersion("@firebase/installations","0.4.32")}(E.default);var on,sr=((on={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',on["only-available-in-window"]="This method is available in a Window context.",on["only-available-in-sw"]="This method is available in a service worker context.",on["permission-default"]="The notification permission was not granted and dismissed instead.",on["permission-blocked"]="The notification permission was not granted and blocked instead.",on["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",on["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",on["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",on["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",on["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",on["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",on["token-update-no-token"]="FCM returned no token when updating the user to push.",on["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",on["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",on["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",on["invalid-vapid-key"]="The public VAPID key must be a string.",on["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",on),Vn=new le.ErrorFactory("messaging","Messaging",sr),Xr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Br="FCM_MSG",Xn="google.c.a.c_id",Rr=(()=>(function(M){M.PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked"}(Rr||(Rr={})),Rr))();function cr(M){var N=new Uint8Array(M);return btoa(String.fromCharCode.apply(String,(0,k.__spreadArray)([],(0,k.__read)(N)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wi(M){for(var G=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(G),he=new Uint8Array(ae.length),Oe=0;Oe<ae.length;++Oe)he[Oe]=ae.charCodeAt(Oe);return he}var ei="fcm_token_details_db",Fn="fcm_token_object_Store";function zr(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var ae,Oe=this;return(0,k.__generator)(this,function(ct){switch(ct.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!ct.sent().map(function(ft){return ft.name}).includes(ei))return[2,null];ct.label=2;case 2:return ae=null,[4,(0,$e.openDb)(ei,5,function(ft){return(0,k.__awaiter)(Oe,void 0,void 0,function(){var Wt,en,wn,ar;return(0,k.__generator)(this,function(Ur){switch(Ur.label){case 0:return ft.oldVersion<2?[2]:ft.objectStoreNames.contains(Fn)?[4,(Wt=ft.transaction.objectStore(Fn)).index("fcmSenderId").get(M)]:[2];case 1:return en=Ur.sent(),[4,Wt.clear()];case 2:if(Ur.sent(),!en)return[2];if(2===ft.oldVersion){if(!(wn=en).auth||!wn.p256dh||!wn.endpoint)return[2];ae={token:wn.fcmToken,createTime:null!==(ar=wn.createTime)&&void 0!==ar?ar:Date.now(),subscriptionOptions:{auth:wn.auth,p256dh:wn.p256dh,endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:"string"==typeof wn.vapidKey?wn.vapidKey:cr(wn.vapidKey)}}}else(3===ft.oldVersion||4===ft.oldVersion)&&(ae={token:(wn=en).fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:cr(wn.auth),p256dh:cr(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:cr(wn.vapidKey)}});return[2]}})})})];case 3:return ct.sent().close(),[4,(0,$e.deleteDb)(ei)];case 4:return ct.sent(),[4,(0,$e.deleteDb)("fcm_vapid_details_db")];case 5:return ct.sent(),[4,(0,$e.deleteDb)("undefined")];case 6:return ct.sent(),[2,ir(ae)?ae:null]}})})}function ir(M){if(!M||!M.subscriptionOptions)return!1;var N=M.subscriptionOptions;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}var er="firebase-messaging-store",Hr=null;function mi(){return Hr||(Hr=(0,$e.openDb)("firebase-messaging-database",1,function(M){switch(M.oldVersion){case 0:M.createObjectStore(er)}})),Hr}function Po(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,ae,he;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return N=kr(M),[4,mi()];case 1:return[4,Oe.sent().transaction(er).objectStore(er).get(N)];case 2:return(ae=Oe.sent())?[2,ae]:[3,3];case 3:return[4,zr(M.appConfig.senderId)];case 4:return(he=Oe.sent())?[4,Kr(M,he)]:[3,6];case 5:return Oe.sent(),[2,he];case 6:return[2]}})})}function Kr(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return G=kr(M),[4,mi()];case 1:return ae=Oe.sent(),[4,(he=ae.transaction(er,"readwrite")).objectStore(er).put(N,G)];case 2:return Oe.sent(),[4,he.complete];case 3:return Oe.sent(),[2,N]}})})}function Zi(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return N=kr(M),[4,mi()];case 1:return G=he.sent(),[4,(ae=G.transaction(er,"readwrite")).objectStore(er).delete(N)];case 2:return he.sent(),[4,ae.complete];case 3:return he.sent(),[2]}})})}function kr(M){return M.appConfig.appId}function wo(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe,ft;return(0,k.__generator)(this,function(en){switch(en.label){case 0:return[4,qo(M)];case 1:G=en.sent(),ae=Yn(N),he={method:"POST",headers:G,body:JSON.stringify(ae)},en.label=2;case 2:return en.trys.push([2,5,,6]),[4,fetch(Eo(M.appConfig),he)];case 3:return[4,en.sent().json()];case 4:return Oe=en.sent(),[3,6];case 5:throw ft=en.sent(),Vn.create("token-subscribe-failed",{errorInfo:ft});case 6:if(Oe.error)throw Vn.create("token-subscribe-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw Vn.create("token-subscribe-no-token");return[2,Oe.token]}})})}function vi(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe,ft;return(0,k.__generator)(this,function(en){switch(en.label){case 0:return[4,qo(M)];case 1:G=en.sent(),ae=Yn(N.subscriptionOptions),he={method:"PATCH",headers:G,body:JSON.stringify(ae)},en.label=2;case 2:return en.trys.push([2,5,,6]),[4,fetch(Eo(M.appConfig)+"/"+N.token,he)];case 3:return[4,en.sent().json()];case 4:return Oe=en.sent(),[3,6];case 5:throw ft=en.sent(),Vn.create("token-update-failed",{errorInfo:ft});case 6:if(Oe.error)throw Vn.create("token-update-failed",{errorInfo:Oe.error.message});if(!Oe.token)throw Vn.create("token-update-no-token");return[2,Oe.token]}})})}function Mr(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,Oe,ft;return(0,k.__generator)(this,function(Wt){switch(Wt.label){case 0:return[4,qo(M)];case 1:G=Wt.sent(),ae={method:"DELETE",headers:G},Wt.label=2;case 2:return Wt.trys.push([2,5,,6]),[4,fetch(Eo(M.appConfig)+"/"+N,ae)];case 3:return[4,Wt.sent().json()];case 4:if((Oe=Wt.sent()).error)throw Vn.create("token-unsubscribe-failed",{errorInfo:Oe.error.message});return[3,6];case 5:throw ft=Wt.sent(),Vn.create("token-unsubscribe-failed",{errorInfo:ft});case 6:return[2]}})})}function Eo(M){return"https://fcmregistrations.googleapis.com/v1/projects/"+M.projectId+"/registrations"}function qo(M){var N=M.appConfig,G=M.installations;return(0,k.__awaiter)(this,void 0,void 0,function(){var ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,G.getToken()];case 1:return ae=he.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":"FIS "+ae})]}})})}function Yn(M){var he=M.vapidKey,Oe={web:{endpoint:M.endpoint,auth:M.auth,p256dh:M.p256dh}};return he!==Xr&&(Oe.web.applicationPubKey=he),Oe}function Ni(M,N,G){return(0,k.__awaiter)(this,void 0,void 0,function(){var ae,he,Oe,ct;return(0,k.__generator)(this,function(ft){switch(ft.label){case 0:if("granted"!==Notification.permission)throw Vn.create("permission-blocked");return[4,_r(N,G)];case 1:return ae=ft.sent(),[4,Po(M)];case 2:return he=ft.sent(),Oe={vapidKey:G,swScope:N.scope,endpoint:ae.endpoint,auth:cr(ae.getKey("auth")),p256dh:cr(ae.getKey("p256dh"))},he?[3,3]:[2,fr(M,Oe)];case 3:if(function(M,N){return N.vapidKey===M.vapidKey&&N.endpoint===M.endpoint&&N.auth===M.auth&&N.p256dh===M.p256dh}(he.subscriptionOptions,Oe))return[3,8];ft.label=4;case 4:return ft.trys.push([4,6,,7]),[4,Mr(M,he.token)];case 5:return ft.sent(),[3,7];case 6:return ct=ft.sent(),console.warn(ct),[3,7];case 7:return[2,fr(M,Oe)];case 8:return Date.now()>=he.createTime+6048e5?[2,Ro({token:he.token,createTime:Date.now(),subscriptionOptions:Oe},M,N)]:[2,he.token];case 9:return[2]}})})}function ki(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,Po(M)];case 1:return(G=he.sent())?[4,Mr(M,G.token)]:[3,4];case 2:return he.sent(),[4,Zi(M)];case 3:he.sent(),he.label=4;case 4:return[4,N.pushManager.getSubscription()];case 5:return(ae=he.sent())?[2,ae.unsubscribe()]:[2,!0]}})})}function Ro(M,N,G){return(0,k.__awaiter)(this,void 0,void 0,function(){var ae,he,Oe;return(0,k.__generator)(this,function(ct){switch(ct.label){case 0:return ct.trys.push([0,3,,5]),[4,vi(N,M)];case 1:return ae=ct.sent(),he=(0,k.__assign)((0,k.__assign)({},M),{token:ae,createTime:Date.now()}),[4,Kr(N,he)];case 2:return ct.sent(),[2,ae];case 3:return Oe=ct.sent(),[4,ki(N,G)];case 4:throw ct.sent(),Oe;case 5:return[2]}})})}function fr(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,wo(M,N)];case 1:return G=he.sent(),ae={token:G,createTime:Date.now(),subscriptionOptions:N},[4,Kr(M,ae)];case 2:return he.sent(),[2,ae.token]}})})}function _r(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,M.pushManager.getSubscription()];case 1:return(G=ae.sent())?[2,G]:[2,M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wi(N)})]}})})}function Ie(M){return"object"==typeof M&&!!M&&Xn in M}function Ge(M){return new Promise(function(N){setTimeout(N,M)})}var dt=function(){function M(N){var G=this;this.firebaseDependencies=N,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(ae){ae.waitUntil(G.onPush(ae))}),self.addEventListener("pushsubscriptionchange",function(ae){ae.waitUntil(G.onSubChange(ae))}),self.addEventListener("notificationclick",function(ae){ae.waitUntil(G.onNotificationClick(ae))})}return Object.defineProperty(M.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),M.prototype.setBackgroundMessageHandler=function(N){if(this.isOnBackgroundMessageUsed=!1,!N||"function"!=typeof N)throw Vn.create("invalid-bg-handler");this.bgMessageHandler=N},M.prototype.onBackgroundMessage=function(N){var G=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=N,function(){G.bgMessageHandler=null}},M.prototype.getToken=function(){var N,G;return(0,k.__awaiter)(this,void 0,void 0,function(){var ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return this.vapidKey?[3,2]:[4,Po(this.firebaseDependencies)];case 1:ae=he.sent(),this.vapidKey=null!==(G=null===(N=null==ae?void 0:ae.subscriptionOptions)||void 0===N?void 0:N.vapidKey)&&void 0!==G?G:Xr,he.label=2;case 2:return[2,Ni(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},M.prototype.deleteToken=function(){return ki(this.firebaseDependencies,self.registration)},M.prototype.requestPermission=function(){throw Vn.create("only-available-in-window")},M.prototype.usePublicVapidKey=function(N){if(null!==this.vapidKey)throw Vn.create("use-vapid-key-after-get-token");if("string"!=typeof N||0===N.length)throw Vn.create("invalid-vapid-key");this.vapidKey=N},M.prototype.useServiceWorker=function(){throw Vn.create("only-available-in-window")},M.prototype.onMessage=function(){throw Vn.create("only-available-in-window")},M.prototype.onTokenRefresh=function(){throw Vn.create("only-available-in-window")},M.prototype.onPush=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe;return(0,k.__generator)(this,function(ct){switch(ct.label){case 0:return(G=function(M){var N=M.data;if(!N)return null;try{return N.json()}catch(G){return null}}(N))?[4,F()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(M){return M.some(function(N){return"visible"===N.visibilityState&&!N.url.startsWith("chrome-extension://")})}(ae=ct.sent())?[2,z(ae,G)]:(he=!1,G.notification?[4,ge(xt(G))]:[3,3]);case 2:ct.sent(),he=!0,ct.label=3;case 3:return!0===he&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(Oe=function(M){var N={from:M.from,collapseKey:M.collapse_key,messageId:M.fcm_message_id};return function(M,N){if(N.notification){M.notification={};var G=N.notification.title;G&&(M.notification.title=G);var ae=N.notification.body;ae&&(M.notification.body=ae);var he=N.notification.image;he&&(M.notification.image=he)}}(N,M),function(M,N){!N.data||(M.data=N.data)}(N,M),function(M,N){if(N.fcmOptions){M.fcmOptions={};var G=N.fcmOptions.link;G&&(M.fcmOptions.link=G);var ae=N.fcmOptions.analytics_label;ae&&(M.fcmOptions.analyticsLabel=ae)}}(N,M),N}(G),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(Oe):this.bgMessageHandler.next(Oe)),[4,Ge(1e3)]);case 4:return ct.sent(),[2]}})})},M.prototype.onSubChange=function(N){var G,ae;return(0,k.__awaiter)(this,void 0,void 0,function(){var Oe;return(0,k.__generator)(this,function(ct){switch(ct.label){case 0:return N.newSubscription?[3,2]:[4,ki(this.firebaseDependencies,self.registration)];case 1:return ct.sent(),[2];case 2:return[4,Po(this.firebaseDependencies)];case 3:return Oe=ct.sent(),[4,ki(this.firebaseDependencies,self.registration)];case 4:return ct.sent(),[4,Ni(this.firebaseDependencies,self.registration,null!==(ae=null===(G=null==Oe?void 0:Oe.subscriptionOptions)||void 0===G?void 0:G.vapidKey)&&void 0!==ae?ae:Xr)];case 5:return ct.sent(),[2]}})})},M.prototype.onNotificationClick=function(N){var G,ae;return(0,k.__awaiter)(this,void 0,void 0,function(){var he,Oe,ct,ft,Wt;return(0,k.__generator)(this,function(en){switch(en.label){case 0:return(he=null===(ae=null===(G=N.notification)||void 0===G?void 0:G.data)||void 0===ae?void 0:ae[Br])?N.action?[2]:(N.stopImmediatePropagation(),N.notification.close(),(Oe=function(M){var N,G,ae;return(null!==(G=null===(N=M.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==G?G:null===(ae=M.notification)||void 0===ae?void 0:ae.click_action)||(Ie(M.data)?self.location.origin:null)}(he))?(ct=new URL(Oe,self.location.href),ft=new URL(self.location.origin),ct.host!==ft.host?[2]:[4,pn(ct)]):[2]):[2];case 1:return(Wt=en.sent())?[3,4]:[4,self.clients.openWindow(Oe)];case 2:return Wt=en.sent(),[4,Ge(3e3)];case 3:return en.sent(),[3,6];case 4:return[4,Wt.focus()];case 5:Wt=en.sent(),en.label=6;case 6:return Wt?(he.messageType=Rr.NOTIFICATION_CLICKED,he.isFirebaseMessaging=!0,[2,Wt.postMessage(he)]):[2]}})})},M}();function xt(M){var N,G=(0,k.__assign)({},M.notification);return G.data=((N={})[Br]=M,N),G}function pn(M){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae,he,Oe,ct,ft;return(0,k.__generator)(this,function(Wt){switch(Wt.label){case 0:return[4,F()];case 1:N=Wt.sent();try{for(G=(0,k.__values)(N),ae=G.next();!ae.done;ae=G.next())if(he=ae.value,Oe=new URL(he.url,self.location.href),M.host===Oe.host)return[2,he]}catch(en){ct={error:en}}finally{try{ae&&!ae.done&&(ft=G.return)&&ft.call(G)}finally{if(ct)throw ct.error}}return[2,null]}})})}function z(M,N){var G,ae;N.isFirebaseMessaging=!0,N.messageType=Rr.PUSH_RECEIVED;try{for(var he=(0,k.__values)(M),Oe=he.next();!Oe.done;Oe=he.next())Oe.value.postMessage(N)}catch(ft){G={error:ft}}finally{try{Oe&&!Oe.done&&(ae=he.return)&&ae.call(he)}finally{if(G)throw G.error}}}function F(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ge(M){var N,G=M.actions,ae=Notification.maxActions;return G&&ae&&G.length>ae&&console.warn("This browser only supports "+ae+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(N=M.title)&&void 0!==N?N:"",M)}var ye=function(){function M(N){var G=this;this.firebaseDependencies=N,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(ae){return G.messageEventListener(ae)})}return Object.defineProperty(M.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),M.prototype.messageEventListener=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return(G=N.data).isFirebaseMessaging?(this.onMessageCallback&&G.messageType===Rr.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(M){return delete M.messageType,delete M.isFirebaseMessaging,M}(Object.assign({},G))):this.onMessageCallback.next(Object.assign({},G))),Ie(ae=G.data)&&"1"===ae["google.c.a.e"]?[4,this.logEvent(G.messageType,ae)]:[3,2]):[2];case 1:he.sent(),he.label=2;case 2:return[2]}})})},M.prototype.getVapidKey=function(){return this.vapidKey},M.prototype.getSwReg=function(){return this.swRegistration},M.prototype.getToken=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(G){switch(G.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:G.sent(),G.label=2;case 2:if("granted"!==Notification.permission)throw Vn.create("permission-blocked");return[4,this.updateVapidKey(null==N?void 0:N.vapidKey)];case 3:return G.sent(),[4,this.updateSwReg(null==N?void 0:N.serviceWorkerRegistration)];case 4:return G.sent(),[2,Ni(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},M.prototype.updateVapidKey=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(G){return N?this.vapidKey=N:this.vapidKey||(this.vapidKey=Xr),[2]})})},M.prototype.updateSwReg=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(G){switch(G.label){case 0:return N||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:G.sent(),G.label=2;case 2:if(!N&&this.swRegistration)return[2];if(!(N instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");return this.swRegistration=N,[2]}})})},M.prototype.registerDefaultSw=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return ae.trys.push([0,2,,3]),N=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return N.swRegistration=ae.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw G=ae.sent(),Vn.create("failed-service-worker-registration",{browserErrorMessage:G.message});case 3:return[2]}})})},M.prototype.deleteToken=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(N){switch(N.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:N.sent(),N.label=2;case 2:return[2,ki(this.firebaseDependencies,this.swRegistration)]}})})},M.prototype.requestPermission=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N;return(0,k.__generator)(this,function(G){switch(G.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(N=G.sent()))return[2];throw Vn.create("denied"===N?"permission-blocked":"permission-default")}})})},M.prototype.usePublicVapidKey=function(N){if(null!==this.vapidKey)throw Vn.create("use-vapid-key-after-get-token");if("string"!=typeof N||0===N.length)throw Vn.create("invalid-vapid-key");this.vapidKey=N},M.prototype.useServiceWorker=function(N){if(!(N instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");if(this.swRegistration)throw Vn.create("use-sw-after-get-token");this.swRegistration=N},M.prototype.onMessage=function(N){var G=this;return this.onMessageCallback=N,function(){G.onMessageCallback=null}},M.prototype.setBackgroundMessageHandler=function(){throw Vn.create("only-available-in-sw")},M.prototype.onBackgroundMessage=function(){throw Vn.create("only-available-in-sw")},M.prototype.onTokenRefresh=function(){return function(){}},M.prototype.logEvent=function(N,G){return(0,k.__awaiter)(this,void 0,void 0,function(){var ae;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return ae=function(M){switch(M){case Rr.NOTIFICATION_CLICKED:return"notification_open";case Rr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return Oe.sent().logEvent(ae,{message_id:G[Xn],message_name:G["google.c.a.c_l"],message_time:G["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},M}();function rn(M){return Vn.create("missing-app-config-values",{valueName:M})}var Dr={isSupported:no};function no(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}E.default.INTERNAL.registerComponent(new Re.Component("messaging",function(M){var N=M.getProvider("app").getImmediate(),G=function(M){var N,G;if(!M||!M.options)throw rn("App Configuration Object");if(!M.name)throw rn("App Name");var he=M.options;try{for(var Oe=(0,k.__values)(["projectId","apiKey","appId","messagingSenderId"]),ct=Oe.next();!ct.done;ct=Oe.next()){var ft=ct.value;if(!he[ft])throw rn(ft)}}catch(Wt){N={error:Wt}}finally{try{ct&&!ct.done&&(G=Oe.return)&&G.call(Oe)}finally{if(N)throw N.error}}return{appName:M.name,projectId:he.projectId,apiKey:he.apiKey,appId:he.appId,senderId:he.messagingSenderId}}(N),Oe={app:N,appConfig:G,installations:M.getProvider("installations").getImmediate(),analyticsProvider:M.getProvider("analytics-internal")};if(!no())throw Vn.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new dt(Oe):new ye(Oe)},"PUBLIC").setServiceProps(Dr)),ie(990);var yi,Jn="FB-PERF-TRACE-MEASURE",si="@firebase/performance/config",Qr="@firebase/performance/configexpire",ro="Performance",Fi=((yi={})["trace started"]="Trace {$traceName} was started before.",yi["trace stopped"]="Trace {$traceName} is not running.",yi["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",yi["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",yi["no window"]="Window is not available.",yi["no app id"]="App id is not available.",yi["no project id"]="Project id is not available.",yi["no api key"]="Api key is not available.",yi["invalid cc log"]="Attempted to queue invalid cc event",yi["FB not default"]="Performance can only start when Firebase app instance is the default one.",yi["RC response not ok"]="RC response is not ok",yi["invalid attribute name"]="Attribute name {$attributeName} is invalid.",yi["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",yi["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",yi["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",yi),Er=new le.ErrorFactory("performance",ro,Fi),di=new fe.Logger(ro);di.logLevel=fe.LogLevel.INFO;var ko,Fo,co=function(){function M(N){if(this.window=N,!N)throw Er.create("no window");this.performance=N.performance,this.PerformanceObserver=N.PerformanceObserver,this.windowLocation=N.location,this.navigator=N.navigator,this.document=N.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=N.localStorage),N.perfMetrics&&N.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=N.perfMetrics.onFirstInputDelay)}return M.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},M.prototype.mark=function(N){!this.performance||!this.performance.mark||this.performance.mark(N)},M.prototype.measure=function(N,G,ae){!this.performance||!this.performance.measure||this.performance.measure(N,G,ae)},M.prototype.getEntriesByType=function(N){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(N):[]},M.prototype.getEntriesByName=function(N){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(N):[]},M.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},M.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,le.isIndexedDBAvailable)()||(di.info("IndexedDB is not supported by current browswer"),!1):(di.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},M.prototype.setupObserver=function(N,G){this.PerformanceObserver&&new this.PerformanceObserver(function(he){for(var Oe=0,ct=he.getEntries();Oe<ct.length;Oe++)G(ct[Oe])}).observe({entryTypes:[N]})},M.getInstance=function(){return void 0===ko&&(ko=new M(Fo)),ko},M}();function ti(M,N){var G=M.length-N.length;if(G<0||G>1)throw Er.create("invalid String merger input");for(var ae=[],he=0;he<M.length;he++)ae.push(M.charAt(he)),N.length>he&&ae.push(N.charAt(he));return ae.join("")}var Vr,ua,vr=function(){function M(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ti("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ti("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return M.prototype.getAppId=function(){var N=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!N)throw Er.create("no app id");return N},M.prototype.getProjectId=function(){var N=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!N)throw Er.create("no project id");return N},M.prototype.getApiKey=function(){var N=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!N)throw Er.create("no api key");return N},M.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},M.getInstance=function(){return void 0===Vr&&(Vr=new M),Vr},M}();function ji(){return ua}var Ii=(()=>(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.VISIBLE=1]="VISIBLE",M[M.HIDDEN=2]="HIDDEN"}(Ii||(Ii={})),Ii))(),To=["firebase_","google_","ga_"],eo=new RegExp("^[a-zA-Z]\\w*$");function Jt(){var M=co.getInstance().navigator;return"serviceWorker"in M?M.serviceWorker.controller?2:3:1}function Cr(){switch(co.getInstance().document.visibilityState){case"visible":return Ii.VISIBLE;case"hidden":return Ii.HIDDEN;default:return Ii.UNKNOWN}}function ea(){var N=co.getInstance().navigator.connection;switch(N&&N.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Wo="Could not fetch config, will use default configs";function Gr(M){if(!M)return M;var N=vr.getInstance(),G=M.entries||{};return N.loggingEnabled=void 0===G.fpr_enabled||"true"===String(G.fpr_enabled),G.fpr_log_source&&(N.logSource=Number(G.fpr_log_source)),G.fpr_log_endpoint_url&&(N.logEndPointUrl=G.fpr_log_endpoint_url),G.fpr_log_transport_key&&(N.transportKey=G.fpr_log_transport_key),void 0!==G.fpr_vc_network_request_sampling_rate&&(N.networkRequestsSamplingRate=Number(G.fpr_vc_network_request_sampling_rate)),void 0!==G.fpr_vc_trace_sampling_rate&&(N.tracesSamplingRate=Number(G.fpr_vc_trace_sampling_rate)),N.logTraceAfterSampling=fs(N.tracesSamplingRate),N.logNetworkAfterSampling=fs(N.networkRequestsSamplingRate),M}function fs(M){return Math.random()<=M}var io,$o=1;function Bs(){return $o=2,io=io||function(){var M=co.getInstance().document;return new Promise(function(N){if(M&&"complete"!==M.readyState){var G=function(){"complete"===M.readyState&&(M.removeEventListener("readystatechange",G),N())};M.addEventListener("readystatechange",G)}else N()})}().then(function(){return function(){var M=vr.getInstance().installationsService.getId();return M.then(function(N){ua=N}),M}()}).then(function(M){return function(M){var N=function(){var M=co.getInstance().localStorage;if(M){var N=M.getItem(Qr);if(N&&function(M){return Number(M)>Date.now()}(N)){var G=M.getItem(si);if(G)try{return JSON.parse(G)}catch(he){return}}}}();return N?(Gr(N),Promise.resolve()):function(M){return function(){var M=vr.getInstance().installationsService.getToken();return M.then(function(N){}),M}().then(function(N){var ae="https://firebaseremoteconfig.googleapis.com/v1/projects/"+vr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+vr.getInstance().getApiKey(),he=new Request(ae,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+N},body:JSON.stringify({app_instance_id:M,app_instance_id_token:N,app_id:vr.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(he).then(function(Oe){if(Oe.ok)return Oe.json();throw Er.create("RC response not ok")})}).catch(function(){di.info(Wo)})}(M).then(Gr).then(function(G){return function(M){var N=co.getInstance().localStorage;!M||!N||(N.setItem(si,JSON.stringify(M)),N.setItem(Qr,String(Date.now()+60*vr.getInstance().configTimeToLive*60*1e3)))}(G)},function(){})}(M)}).then(function(){return na()},function(){return na()})}function na(){$o=3}var ts,wi=3,mo=[],Ns=!1;function xo(M){setTimeout(function(){if(0!==wi){if(!mo.length)return xo(1e4);!function(){var M=mo.splice(0,1e3),N=M.map(function(ae){return{source_extension_json_proto3:ae.message,event_time_ms:String(ae.eventTime)}});(function(M,N){return function(M){var N=vr.getInstance().getFlTransportFullUrl();return fetch(N,{method:"POST",body:JSON.stringify(M)})}(M).then(function(G){return G.ok||di.info("Call to Firebase backend failed."),G.json()}).then(function(G){var ae=Number(G.nextRequestWaitMillis),he=1e4;isNaN(ae)||(he=Math.max(ae,he));var Oe=G.logResponseDetails;Array.isArray(Oe)&&Oe.length>0&&"RETRY_REQUEST_LATER"===Oe[0].responseAction&&(mo=(0,k.__spreadArray)((0,k.__spreadArray)([],N),mo),di.info("Retry transport request later.")),wi=3,xo(he)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:vr.getInstance().logSource,log_event:N},M).catch(function(){mo=(0,k.__spreadArray)((0,k.__spreadArray)([],M),mo),wi--,di.info("Tries left: "+wi+"."),xo(1e4)})}()}},M)}function ds(M){if(!M.eventTime||!M.message)throw Er.create("invalid cc log");mo=(0,k.__spreadArray)((0,k.__spreadArray)([],mo),[M])}function $i(M,N){ts||(ts=function(M){return function(){for(var N=[],G=0;G<arguments.length;G++)N[G]=arguments[G];ds({message:M.apply(void 0,N),eventTime:Date.now()})}}(y)),ts(M,N)}function Hs(M){var N=vr.getInstance();!N.instrumentationEnabled&&M.isAuto||!N.dataCollectionEnabled&&!M.isAuto||!co.getInstance().requiredApisAvailable()||M.isAuto&&Cr()!==Ii.VISIBLE||(3===$o?hi(M):Bs().then(function(){return hi(M)},function(){return hi(M)}))}function hi(M){if(ji()){var N=vr.getInstance();!N.loggingEnabled||!N.logTraceAfterSampling||setTimeout(function(){return $i(M,1)},0)}}function y(M,N){return 0===N?function(M){var N={url:M.url,http_method:M.httpMethod||0,http_response_code:200,response_payload_bytes:M.responsePayloadBytes,client_start_time_us:M.startTimeUs,time_to_response_initiated_us:M.timeToResponseInitiatedUs,time_to_response_completed_us:M.timeToResponseCompletedUs},G={application_info:_e(),network_request_metric:N};return JSON.stringify(G)}(M):function(M){var N={name:M.name,is_auto:M.isAuto,client_start_time_us:M.startTimeUs,duration_us:M.durationUs};0!==Object.keys(M.counters).length&&(N.counters=M.counters);var G=M.getAttributes();0!==Object.keys(G).length&&(N.custom_attributes=G);var ae={application_info:_e(),trace_metric:N};return JSON.stringify(ae)}(M)}function _e(){return{google_app_id:vr.getInstance().getAppId(),app_instance_id:ji(),web_app_info:{sdk_version:"0.4.18",page_url:co.getInstance().getUrl(),service_worker_status:Jt(),visibility_state:Cr(),effective_connection_type:ea()},application_process_state:0}}var te=["_fp","_fcp","_fid"],Cn=function(){function M(N,G,ae){void 0===G&&(G=!1),this.name=N,this.isAuto=G,this.state=1,this.customAttributes={},this.counters={},this.api=co.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=ae||Jn+"-"+this.randomId+"-"+this.name,ae&&this.calculateTraceMetrics())}return M.prototype.start=function(){if(1!==this.state)throw Er.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},M.prototype.stop=function(){if(2!==this.state)throw Er.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Hs(this)},M.prototype.record=function(N,G,ae){if(N<=0)throw Er.create("nonpositive trace startTime",{traceName:this.name});if(G<=0)throw Er.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*G),this.startTimeUs=Math.floor(1e3*N),ae&&ae.attributes&&(this.customAttributes=(0,k.__assign)({},ae.attributes)),ae&&ae.metrics)for(var he=0,Oe=Object.keys(ae.metrics);he<Oe.length;he++){var ct=Oe[he];isNaN(Number(ae.metrics[ct]))||(this.counters[ct]=Number(Math.floor(ae.metrics[ct])))}Hs(this)},M.prototype.incrementMetric=function(N,G){void 0===G&&(G=1),this.putMetric(N,void 0===this.counters[N]?G:this.counters[N]+G)},M.prototype.putMetric=function(N,G){if(!function(M,N){return!(0===M.length||M.length>100)&&(N&&N.startsWith("_wt_")&&te.indexOf(M)>-1||!M.startsWith("_"))}(N,this.name))throw Er.create("invalid custom metric name",{customMetricName:N});this.counters[N]=function(M){var N=Math.floor(M);return N<M&&di.info("Metric value should be an Integer, setting the value as : "+N+"."),N}(G)},M.prototype.getMetric=function(N){return this.counters[N]||0},M.prototype.putAttribute=function(N,G){var ae=function(M){return!(0===M.length||M.length>40||To.some(function(G){return M.startsWith(G)})||!M.match(eo))}(N),he=function(M){return 0!==M.length&&M.length<=100}(G);if(ae&&he)this.customAttributes[N]=G;else{if(!ae)throw Er.create("invalid attribute name",{attributeName:N});if(!he)throw Er.create("invalid attribute value",{attributeValue:G})}},M.prototype.getAttribute=function(N){return this.customAttributes[N]},M.prototype.removeAttribute=function(N){void 0!==this.customAttributes[N]&&delete this.customAttributes[N]},M.prototype.getAttributes=function(){return(0,k.__assign)({},this.customAttributes)},M.prototype.setStartTime=function(N){this.startTimeUs=N},M.prototype.setDuration=function(N){this.durationUs=N},M.prototype.calculateTraceMetrics=function(){var N=this.api.getEntriesByName(this.traceMeasure),G=N&&N[0];G&&(this.durationUs=Math.floor(1e3*G.duration),this.startTimeUs=Math.floor(1e3*(G.startTime+this.api.getTimeOrigin())))},M.createOobTrace=function(N,G,ae){var he=co.getInstance().getUrl();if(he){var Oe=new M("_wt_"+he,!0),ct=Math.floor(1e3*co.getInstance().getTimeOrigin());if(Oe.setStartTime(ct),N&&N[0]&&(Oe.setDuration(Math.floor(1e3*N[0].duration)),Oe.putMetric("domInteractive",Math.floor(1e3*N[0].domInteractive)),Oe.putMetric("domContentLoadedEventEnd",Math.floor(1e3*N[0].domContentLoadedEventEnd)),Oe.putMetric("loadEventEnd",Math.floor(1e3*N[0].loadEventEnd))),G){var en=G.find(function(ar){return"first-paint"===ar.name});en&&en.startTime&&Oe.putMetric("_fp",Math.floor(1e3*en.startTime));var wn=G.find(function(ar){return"first-contentful-paint"===ar.name});wn&&wn.startTime&&Oe.putMetric("_fcp",Math.floor(1e3*wn.startTime)),ae&&Oe.putMetric("_fid",Math.floor(1e3*ae))}Hs(Oe)}},M.createUserTimingTrace=function(N){Hs(new M(N,!1,N))},M}();function gr(M){var N=M;if(N&&void 0!==N.responseStart){var G=co.getInstance().getTimeOrigin(),ae=Math.floor(1e3*(N.startTime+G)),he=N.responseStart?Math.floor(1e3*(N.responseStart-N.startTime)):void 0,Oe=Math.floor(1e3*(N.responseEnd-N.startTime));!function(M){var N=vr.getInstance();if(N.instrumentationEnabled){var G=M.url,ae=N.logEndPointUrl.split("?")[0],he=N.flTransportEndpointUrl.split("?")[0];G===ae||G===he||!N.loggingEnabled||!N.logNetworkAfterSampling||setTimeout(function(){return $i(M,0)},0)}}({url:N.name&&N.name.split("?")[0],responsePayloadBytes:N.transferSize,startTimeUs:ae,timeToResponseInitiatedUs:he,timeToResponseCompletedUs:Oe})}}function Li(){!ji()||(setTimeout(function(){return function(){var M=co.getInstance(),N=M.getEntriesByType("navigation"),G=M.getEntriesByType("paint");if(M.onFirstInputDelay){var ae=setTimeout(function(){Cn.createOobTrace(N,G),ae=void 0},5e3);M.onFirstInputDelay(function(he){ae&&(clearTimeout(ae),Cn.createOobTrace(N,G,he))})}else Cn.createOobTrace(N,G)}()},0),setTimeout(function(){return function(){for(var M=co.getInstance(),G=0,ae=M.getEntriesByType("resource");G<ae.length;G++)gr(ae[G]);M.setupObserver("resource",gr)}()},0),setTimeout(function(){return function(){for(var M=co.getInstance(),G=0,ae=M.getEntriesByType("measure");G<ae.length;G++)_a(ae[G]);M.setupObserver("measure",_a)}()},0))}function _a(M){var N=M.name;N.substring(0,Jn.length)!==Jn&&Cn.createUserTimingTrace(N)}var zo=function(){function M(N){this.app=N,co.getInstance().requiredApisAvailable()&&(0,le.validateIndexedDBOpenable)().then(function(G){G&&(Ns||(xo(5500),Ns=!0),Bs().then(Li,Li))}).catch(function(G){di.info("Environment doesn't support IndexedDB: "+G)})}return M.prototype.trace=function(N){return new Cn(N)},Object.defineProperty(M.prototype,"instrumentationEnabled",{get:function(){return vr.getInstance().instrumentationEnabled},set:function(N){vr.getInstance().instrumentationEnabled=N},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"dataCollectionEnabled",{get:function(){return vr.getInstance().dataCollectionEnabled},set:function(N){vr.getInstance().dataCollectionEnabled=N},enumerable:!1,configurable:!0}),M}();!function(M){M.INTERNAL.registerComponent(new Re.Component("performance",function(G){return function(G,ae){if("[DEFAULT]"!==G.name)throw Er.create("FB not default");if("undefined"==typeof window)throw Er.create("no window");return function(M){Fo=M}(window),vr.getInstance().firebaseAppInstance=G,vr.getInstance().installationsService=ae,new zo(G)}(G.getProvider("app").getImmediate(),G.getProvider("installations").getImmediate())},"PUBLIC")),M.registerVersion("@firebase/performance","0.4.18")}(E.default);var wa="https://www.googletagmanager.com/gtag/js",ho=(()=>(function(M){M.EVENT="event",M.SET="set",M.CONFIG="config"}(ho||(ho={})),ho))(),ha=(()=>(function(M){M.ADD_SHIPPING_INFO="add_shipping_info",M.ADD_PAYMENT_INFO="add_payment_info",M.ADD_TO_CART="add_to_cart",M.ADD_TO_WISHLIST="add_to_wishlist",M.BEGIN_CHECKOUT="begin_checkout",M.CHECKOUT_PROGRESS="checkout_progress",M.EXCEPTION="exception",M.GENERATE_LEAD="generate_lead",M.LOGIN="login",M.PAGE_VIEW="page_view",M.PURCHASE="purchase",M.REFUND="refund",M.REMOVE_FROM_CART="remove_from_cart",M.SCREEN_VIEW="screen_view",M.SEARCH="search",M.SELECT_CONTENT="select_content",M.SELECT_ITEM="select_item",M.SELECT_PROMOTION="select_promotion",M.SET_CHECKOUT_OPTION="set_checkout_option",M.SHARE="share",M.SIGN_UP="sign_up",M.TIMING_COMPLETE="timing_complete",M.VIEW_CART="view_cart",M.VIEW_ITEM="view_item",M.VIEW_ITEM_LIST="view_item_list",M.VIEW_PROMOTION="view_promotion",M.VIEW_SEARCH_RESULTS="view_search_results"}(ha||(ha={})),ha))(),x=new fe.Logger("@firebase/analytics");function oe(M,N,G,ae,he,Oe){return(0,k.__awaiter)(this,void 0,void 0,function(){var ct,ft,Wt,en;return(0,k.__generator)(this,function(wn){switch(wn.label){case 0:ct=ae[he],wn.label=1;case 1:return wn.trys.push([1,7,,8]),ct?[4,N[ct]]:[3,3];case 2:return wn.sent(),[3,6];case 3:return[4,Promise.all(G)];case 4:return ft=wn.sent(),(Wt=ft.find(function(ar){return ar.measurementId===he}))?[4,N[Wt.appId]]:[3,6];case 5:wn.sent(),wn.label=6;case 6:return[3,8];case 7:return en=wn.sent(),x.error(en),[3,8];case 8:return M(ho.CONFIG,he,Oe),[2]}})})}function we(M,N,G,ae,he){return(0,k.__awaiter)(this,void 0,void 0,function(){var Oe,ct,ft,Wt,en,wn,Si;return(0,k.__generator)(this,function(gi){switch(gi.label){case 0:return gi.trys.push([0,4,,5]),Oe=[],he&&he.send_to?(ct=he.send_to,Array.isArray(ct)||(ct=[ct]),[4,Promise.all(G)]):[3,2];case 1:for(ft=gi.sent(),Wt=function(Ao){var ks=ft.find(function(pa){return pa.measurementId===Ao}),po=ks&&N[ks.appId];if(!po)return Oe=[],"break";Oe.push(po)},en=0,wn=ct;en<wn.length&&"break"!==Wt(wn[en]);en++);gi.label=2;case 2:return 0===Oe.length&&(Oe=Object.values(N)),[4,Promise.all(Oe)];case 3:return gi.sent(),M(ho.EVENT,ae,he||{}),[3,5];case 4:return Si=gi.sent(),x.error(Si),[3,5];case 5:return[2]}})})}var Hn,Xt=((Hn={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Hn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Hn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Hn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Hn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Hn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Hn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Hn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Hn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Hn),Zn=new le.ErrorFactory("analytics","Analytics",Xt),Gs=new(function(){function M(N,G){void 0===N&&(N={}),void 0===G&&(G=1e3),this.throttleMetadata=N,this.intervalMillis=G}return M.prototype.getThrottleMetadata=function(N){return this.throttleMetadata[N]},M.prototype.setThrottleMetadata=function(N,G){this.throttleMetadata[N]=G},M.prototype.deleteThrottleMetadata=function(N){delete this.throttleMetadata[N]},M}());function ws(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function ra(M){var N;return(0,k.__awaiter)(this,void 0,void 0,function(){var G,he,Oe,ct,ft,Wt;return(0,k.__generator)(this,function(en){switch(en.label){case 0:return G=M.appId,he={method:"GET",headers:ws(M.apiKey)},Oe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",G),[4,fetch(Oe,he)];case 1:if(200===(ct=en.sent()).status||304===ct.status)return[3,6];ft="",en.label=2;case 2:return en.trys.push([2,4,,5]),[4,ct.json()];case 3:return Wt=en.sent(),(null===(N=Wt.error)||void 0===N?void 0:N.message)&&(ft=Wt.error.message),[3,5];case 4:return en.sent(),[3,5];case 5:throw Zn.create("config-fetch-failed",{httpStatus:ct.status,responseMessage:ft});case 6:return[2,ct.json()]}})})}function ka(M,N,G,ae){var he=N.throttleEndTimeMillis,Oe=N.backoffCount;return void 0===ae&&(ae=Gs),(0,k.__awaiter)(this,void 0,void 0,function(){var ct,ft,Wt,en,wn,ar,Ur;return(0,k.__generator)(this,function(Si){switch(Si.label){case 0:ct=M.appId,ft=M.measurementId,Si.label=1;case 1:return Si.trys.push([1,3,,4]),[4,Bu(G,he)];case 2:return Si.sent(),[3,4];case 3:if(Wt=Si.sent(),ft)return x.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+ft+' provided in the "measurementId" field in the local Firebase config. ['+Wt.message+"]"),[2,{appId:ct,measurementId:ft}];throw Wt;case 4:return Si.trys.push([4,6,,7]),[4,ra(M)];case 5:return en=Si.sent(),ae.deleteThrottleMetadata(ct),[2,en];case 6:if(!function(M){if(!(M instanceof le.FirebaseError&&M.customData))return!1;var N=Number(M.customData.httpStatus);return 429===N||500===N||503===N||504===N}(wn=Si.sent())){if(ae.deleteThrottleMetadata(ct),ft)return x.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+ft+' provided in the "measurementId" field in the local Firebase config. ['+wn.message+"]"),[2,{appId:ct,measurementId:ft}];throw wn}return ar=503===Number(wn.customData.httpStatus)?(0,le.calculateBackoffMillis)(Oe,ae.intervalMillis,30):(0,le.calculateBackoffMillis)(Oe,ae.intervalMillis),Ur={throttleEndTimeMillis:Date.now()+ar,backoffCount:Oe+1},ae.setThrottleMetadata(ct,Ur),x.debug("Calling attemptFetch again in "+ar+" millis"),[2,ka(M,Ur,G,ae)];case 7:return[2]}})})}function Bu(M,N){return new Promise(function(G,ae){var he=Math.max(N-Date.now(),0),Oe=setTimeout(G,he);M.addEventListener(function(){clearTimeout(Oe),ae(Zn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}var Ya=function(){function M(){this.listeners=[]}return M.prototype.addEventListener=function(N){this.listeners.push(N)},M.prototype.abort=function(){this.listeners.forEach(function(N){return N()})},M}();var Fa,Bo,jo={},ia=[],Iu={},Za="dataLayer",lc="gtag",fc=!1;function Qa(M){if(fc)throw Zn.create("already-initialized");M.dataLayerName&&(Za=M.dataLayerName),M.gtagName&&(lc=M.gtagName)}function dc(M,N){!function(){var M=[];if((0,le.isBrowserExtension)()&&M.push("This is a browser extension environment."),(0,le.areCookiesEnabled)()||M.push("Cookies are not available."),M.length>0){var N=M.map(function(ae,he){return"("+(he+1)+") "+ae}).join(" "),G=Zn.create("invalid-analytics-context",{errorInfo:N});x.warn(G.message)}}();var G=M.options.appId;if(!G)throw Zn.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Zn.create("no-api-key");x.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+M.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jo[G])throw Zn.create("already-exists",{id:G});if(!fc){!function(M){var N=[];Array.isArray(window[M])?N=window[M]:window[M]=N}(Za);var ae=function(M,N,G,ae,he){var Oe=function(){for(var ct=[],ft=0;ft<arguments.length;ft++)ct[ft]=arguments[ft];window[ae].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Oe=window[he]),window[he]=function(M,N,G,ae){return function(Oe,ct,ft){return(0,k.__awaiter)(this,void 0,void 0,function(){var Wt;return(0,k.__generator)(this,function(en){switch(en.label){case 0:return en.trys.push([0,6,,7]),Oe!==ho.EVENT?[3,2]:[4,we(M,N,G,ct,ft)];case 1:return en.sent(),[3,5];case 2:return Oe!==ho.CONFIG?[3,4]:[4,oe(M,N,G,ae,ct,ft)];case 3:return en.sent(),[3,5];case 4:M(ho.SET,ct),en.label=5;case 5:return[3,7];case 6:return Wt=en.sent(),x.error(Wt),[3,7];case 7:return[2]}})})}}(Oe,M,N,G),{gtagCore:Oe,wrappedGtag:window[he]}}(jo,ia,Iu,Za,lc);Bo=ae.wrappedGtag,Fa=ae.gtagCore,fc=!0}return jo[G]=function(M,N,G,ae,he,Oe){return(0,k.__awaiter)(this,void 0,void 0,function(){var ct,ft,Wt,en,wn,ar,Ur;return(0,k.__generator)(this,function(Si){switch(Si.label){case 0:return(ct=function(M,N,G){return void 0===N&&(N=Gs),(0,k.__awaiter)(this,void 0,void 0,function(){var ae,he,Oe,ct,ft,Wt,en=this;return(0,k.__generator)(this,function(wn){if(Oe=(ae=M.options).apiKey,ct=ae.measurementId,!(he=ae.appId))throw Zn.create("no-app-id");if(!Oe){if(ct)return[2,{measurementId:ct,appId:he}];throw Zn.create("no-api-key")}return ft=N.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new Ya,setTimeout(function(){return(0,k.__awaiter)(en,void 0,void 0,function(){return(0,k.__generator)(this,function(ar){return Wt.abort(),[2]})})},6e4),[2,ka({appId:he,apiKey:Oe,measurementId:ct},ft,Wt,N)]})})}(M)).then(function(gi){G[gi.measurementId]=gi.appId,M.options.measurementId&&gi.measurementId!==M.options.measurementId&&x.warn("The measurement ID in the local Firebase config ("+M.options.measurementId+") does not match the measurement ID fetched from the server ("+gi.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(gi){return x.error(gi)}),N.push(ct),ft=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var M;return(0,k.__generator)(this,function(N){switch(N.label){case 0:return(0,le.isIndexedDBAvailable)()?[3,1]:(x.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return N.trys.push([1,3,,4]),[4,(0,le.validateIndexedDBOpenable)()];case 2:return N.sent(),[3,4];case 3:return M=N.sent(),x.warn(Zn.create("indexeddb-unavailable",{errorInfo:M}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(gi){if(gi)return ae.getId()}),[4,Promise.all([ct,ft])];case 1:return Wt=Si.sent(),en=Wt[0],wn=Wt[1],function(){for(var M=window.document.getElementsByTagName("script"),N=0,G=Object.values(M);N<G.length;N++){var ae=G[N];if(ae.src&&ae.src.includes(wa))return ae}return null}()||function(M,N){var G=document.createElement("script");G.src=wa+"?l="+M+"&id="+N,G.async=!0,document.head.appendChild(G)}(Oe,en.measurementId),he("js",new Date),(Ur={}).origin="firebase",Ur.update=!0,ar=Ur,null!=wn&&(ar.firebase_id=wn),he(ho.CONFIG,en.measurementId,ar),[2,en.measurementId]}})})}(M,ia,Iu,N,Fa,Za),{app:M,logEvent:function(ft,Wt,en){(function(M,N,G,ae,he){return(0,k.__awaiter)(this,void 0,void 0,function(){var Oe,ct;return(0,k.__generator)(this,function(ft){switch(ft.label){case 0:return he&&he.global?(M(ho.EVENT,G,ae),[2]):[3,1];case 1:return[4,N];case 2:Oe=ft.sent(),ct=(0,k.__assign)((0,k.__assign)({},ae),{send_to:Oe}),M(ho.EVENT,G,ct),ft.label=3;case 3:return[2]}})})})(Bo,jo[G],ft,Wt,en).catch(function(wn){return x.error(wn)})},setCurrentScreen:function(ft,Wt){(function(M,N,G,ae){return(0,k.__awaiter)(this,void 0,void 0,function(){var he;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return ae&&ae.global?(M(ho.SET,{screen_name:G}),[2,Promise.resolve()]):[3,1];case 1:return[4,N];case 2:he=Oe.sent(),M(ho.CONFIG,he,{update:!0,screen_name:G}),Oe.label=3;case 3:return[2]}})})})(Bo,jo[G],ft,Wt).catch(function(en){return x.error(en)})},setUserId:function(ft,Wt){(function(M,N,G,ae){return(0,k.__awaiter)(this,void 0,void 0,function(){var he;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return ae&&ae.global?(M(ho.SET,{user_id:G}),[2,Promise.resolve()]):[3,1];case 1:return[4,N];case 2:he=Oe.sent(),M(ho.CONFIG,he,{update:!0,user_id:G}),Oe.label=3;case 3:return[2]}})})})(Bo,jo[G],ft,Wt).catch(function(en){return x.error(en)})},setUserProperties:function(ft,Wt){(function(M,N,G,ae){return(0,k.__awaiter)(this,void 0,void 0,function(){var he,Oe,ct,ft,Wt;return(0,k.__generator)(this,function(en){switch(en.label){case 0:if(!ae||!ae.global)return[3,1];for(he={},Oe=0,ct=Object.keys(G);Oe<ct.length;Oe++)he["user_properties."+(ft=ct[Oe])]=G[ft];return M(ho.SET,he),[2,Promise.resolve()];case 1:return[4,N];case 2:Wt=en.sent(),M(ho.CONFIG,Wt,{update:!0,user_properties:G}),en.label=3;case 3:return[2]}})})})(Bo,jo[G],ft,Wt).catch(function(en){return x.error(en)})},setAnalyticsCollectionEnabled:function(ft){(function(M,N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,M];case 1:return G=ae.sent(),window["ga-disable-"+G]=!N,[2]}})})})(jo[G],ft).catch(function(Wt){return x.error(Wt)})},INTERNAL:{delete:function(){return delete jo[G],Promise.resolve()}}}}var qu="analytics";function nf(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(N){switch(N.label){case 0:if((0,le.isBrowserExtension)())return[2,!1];if(!(0,le.areCookiesEnabled)())return[2,!1];if(!(0,le.isIndexedDBAvailable)())return[2,!1];N.label=1;case 1:return N.trys.push([1,3,,4]),[4,(0,le.validateIndexedDBOpenable)()];case 2:return[2,N.sent()];case 3:return N.sent(),[2,!1];case 4:return[2]}})})}!function(M){M.INTERNAL.registerComponent(new Re.Component(qu,function(G){return dc(G.getProvider("app").getImmediate(),G.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Qa,EventName:ha,isSupported:nf})),M.INTERNAL.registerComponent(new Re.Component("analytics-internal",function(G){try{return{logEvent:G.getProvider(qu).getImmediate().logEvent}}catch(he){throw Zn.create("interop-component-reg-failed",{reason:he})}},"PRIVATE")),M.registerVersion("@firebase/analytics","0.6.18")}(E.default);var qs,rf=function(){function M(N,G,ae,he){this.client=N,this.storage=G,this.storageCache=ae,this.logger=he}return M.prototype.isCachedDataFresh=function(N,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var ae=Date.now()-G,he=ae<=N;return this.logger.debug("Config fetch cache check. Cache age millis: "+ae+". Cache max age millis (minimumFetchIntervalMillis setting): "+N+". Is cache hit: "+he+"."),he},M.prototype.fetch=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae,he,Oe,ct;return(0,k.__generator)(this,function(ft){switch(ft.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return G=ft.sent(),ae=G[0],(he=G[1])&&this.isCachedDataFresh(N.cacheMaxAgeMillis,ae)?[2,he]:(N.eTag=he&&he.eTag,[4,this.client.fetch(N)]);case 2:return Oe=ft.sent(),ct=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===Oe.status&&ct.push(this.storage.setLastSuccessfulFetchResponse(Oe)),[4,Promise.all(ct)];case 3:return ft.sent(),[2,Oe]}})})},M}(),Xc=((qs={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",qs["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",qs["registration-api-key"]="Undefined API key. Check Firebase app initialization.",qs["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",qs["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",qs["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",qs["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",qs["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",qs["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",qs["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',qs["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',qs["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",qs["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",qs),oa=new le.ErrorFactory("remoteconfig","Remote Config",Xc);function rs(M){return void 0===M&&(M=navigator),M.languages&&M.languages[0]||M.language}var Wu=function(){function M(N,G,ae,he,Oe,ct){this.firebaseInstallations=N,this.sdkVersion=G,this.namespace=ae,this.projectId=he,this.apiKey=Oe,this.appId=ct}return M.prototype.fetch=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,Oe,ct,ft,Wt,en,wn,ar,Ur,Si,gi,Ao,ks,po,pa,ga,zs;return(0,k.__generator)(this,function(Es){switch(Es.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:G=Es.sent(),Oe=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",ct=Oe+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Wt={sdk_version:this.sdkVersion,app_instance_id:G[0],app_instance_id_token:G[1],app_id:this.appId,language_code:rs()},en={method:"POST",headers:ft,body:JSON.stringify(Wt)},wn=fetch(ct,en),ar=new Promise(function(Yu,No){N.signal.addEventListener(function(){var Zu=new Error("The operation was aborted.");Zu.name="AbortError",No(Zu)})}),Es.label=2;case 2:return Es.trys.push([2,5,,6]),[4,Promise.race([wn,ar])];case 3:return Es.sent(),[4,wn];case 4:return Ur=Es.sent(),[3,6];case 5:throw Si=Es.sent(),gi="fetch-client-network","AbortError"===Si.name&&(gi="fetch-timeout"),oa.create(gi,{originalErrorMessage:Si.message});case 6:if(Ao=Ur.status,ks=Ur.headers.get("ETag")||void 0,200!==Ur.status)return[3,11];ga=void 0,Es.label=7;case 7:return Es.trys.push([7,9,,10]),[4,Ur.json()];case 8:return ga=Es.sent(),[3,10];case 9:throw zs=Es.sent(),oa.create("fetch-client-parse",{originalErrorMessage:zs.message});case 10:po=ga.entries,pa=ga.state,Es.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===pa?Ao=500:"NO_CHANGE"===pa?Ao=304:("NO_TEMPLATE"===pa||"EMPTY_CONFIG"===pa)&&(po={}),304!==Ao&&200!==Ao)throw oa.create("fetch-status",{httpStatus:Ao});return[2,{status:Ao,eTag:ks,config:po}]}})})},M}(),el=function(){function M(){this.listeners=[]}return M.prototype.addEventListener=function(N){this.listeners.push(N)},M.prototype.abort=function(){this.listeners.forEach(function(N){return N()})},M}(),of=["1","true","t","yes","y","on"],hc=function(){function M(N,G){void 0===G&&(G=""),this._source=N,this._value=G}return M.prototype.asString=function(){return this._value},M.prototype.asBoolean=function(){return"static"!==this._source&&of.indexOf(this._value.toLowerCase())>=0},M.prototype.asNumber=function(){if("static"===this._source)return 0;var N=Number(this._value);return isNaN(N)&&(N=0),N},M.prototype.getSource=function(){return this._source},M}(),gs=function(){function M(N,G,ae,he,Oe){this.app=N,this._client=G,this._storageCache=ae,this._storage=he,this._logger=Oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return M.prototype.setLogLevel=function(N){switch(N){case"debug":this._logger.logLevel=fe.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=fe.LogLevel.SILENT;break;default:this._logger.logLevel=fe.LogLevel.ERROR}},Object.defineProperty(M.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),M.prototype.activate=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return N=he.sent(),ae=N[1],(G=N[0])&&G.config&&G.eTag&&G.eTag!==ae?[4,Promise.all([this._storageCache.setActiveConfig(G.config),this._storage.setActiveConfigEtag(G.eTag)])]:[2,!1];case 2:return he.sent(),[2,!0]}})})},M.prototype.ensureInitialized=function(){var N=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){N._isInitializationComplete=!0})),this._initializePromise},M.prototype.fetch=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae,he=this;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:N=new el,setTimeout(function(){return(0,k.__awaiter)(he,void 0,void 0,function(){return(0,k.__generator)(this,function(ct){return N.abort(),[2]})})},this.settings.fetchTimeoutMillis),Oe.label=1;case 1:return Oe.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:N})];case 2:return Oe.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return Oe.sent(),[3,6];case 4:return G=Oe.sent(),ae=function(M,N){return M instanceof le.FirebaseError&&-1!==M.code.indexOf("fetch-throttle")}(G)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(ae)];case 5:throw Oe.sent(),G;case 6:return[2]}})})},M.prototype.fetchAndActivate=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){return(0,k.__generator)(this,function(N){switch(N.label){case 0:return[4,this.fetch()];case 1:return N.sent(),[2,this.activate()]}})})},M.prototype.getAll=function(){var N=this;return function(M,N){return void 0===M&&(M={}),void 0===N&&(N={}),Object.keys((0,k.__assign)((0,k.__assign)({},M),N))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(G,ae){return G[ae]=N.getValue(ae),G},{})},M.prototype.getBoolean=function(N){return this.getValue(N).asBoolean()},M.prototype.getNumber=function(N){return this.getValue(N).asNumber()},M.prototype.getString=function(N){return this.getValue(N).asString()},M.prototype.getValue=function(N){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+N+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var G=this._storageCache.getActiveConfig();return G&&void 0!==G[N]?new hc("remote",G[N]):this.defaultConfig&&void 0!==this.defaultConfig[N]?new hc("default",String(this.defaultConfig[N])):(this._logger.debug('Returning static value for key "'+N+'". Define a default or remote value if this is unintentional.'),new hc("static"))},M}();function Ps(M,N){var G=M.target.error||void 0;return oa.create(N,{originalErrorMessage:G&&G.message})}var xa="app_namespace_store",Va=function(){function M(N,G,ae,he){void 0===he&&(he=new Promise(function(M,N){var G=indexedDB.open("firebase_remote_config",1);G.onerror=function(ae){N(Ps(ae,"storage-open"))},G.onsuccess=function(ae){M(ae.target.result)},G.onupgradeneeded=function(ae){var he=ae.target.result;switch(ae.oldVersion){case 0:he.createObjectStore(xa,{keyPath:"compositeKey"})}}})),this.appId=N,this.appName=G,this.namespace=ae,this.openDbPromise=he}return M.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},M.prototype.setLastFetchStatus=function(N){return this.set("last_fetch_status",N)},M.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},M.prototype.setLastSuccessfulFetchTimestampMillis=function(N){return this.set("last_successful_fetch_timestamp_millis",N)},M.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},M.prototype.setLastSuccessfulFetchResponse=function(N){return this.set("last_successful_fetch_response",N)},M.prototype.getActiveConfig=function(){return this.get("active_config")},M.prototype.setActiveConfig=function(N){return this.set("active_config",N)},M.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},M.prototype.setActiveConfigEtag=function(N){return this.set("active_config_etag",N)},M.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},M.prototype.setThrottleMetadata=function(N){return this.set("throttle_metadata",N)},M.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},M.prototype.get=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae=this;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,this.openDbPromise];case 1:return G=he.sent(),[2,new Promise(function(Oe,ct){var Wt=G.transaction([xa],"readonly").objectStore(xa),en=ae.createCompositeKey(N);try{var wn=Wt.get(en);wn.onerror=function(ar){ct(Ps(ar,"storage-get"))},wn.onsuccess=function(ar){var Ur=ar.target.result;Oe(Ur?Ur.value:void 0)}}catch(ar){ct(oa.create("storage-get",{originalErrorMessage:ar&&ar.message}))}})]}})})},M.prototype.set=function(N,G){return(0,k.__awaiter)(this,void 0,void 0,function(){var ae,he=this;return(0,k.__generator)(this,function(Oe){switch(Oe.label){case 0:return[4,this.openDbPromise];case 1:return ae=Oe.sent(),[2,new Promise(function(ct,ft){var en=ae.transaction([xa],"readwrite").objectStore(xa),wn=he.createCompositeKey(N);try{var ar=en.put({compositeKey:wn,value:G});ar.onerror=function(Ur){ft(Ps(Ur,"storage-set"))},ar.onsuccess=function(){ct()}}catch(Ur){ft(oa.create("storage-set",{originalErrorMessage:Ur&&Ur.message}))}})]}})})},M.prototype.delete=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G,ae=this;return(0,k.__generator)(this,function(he){switch(he.label){case 0:return[4,this.openDbPromise];case 1:return G=he.sent(),[2,new Promise(function(Oe,ct){var Wt=G.transaction([xa],"readwrite").objectStore(xa),en=ae.createCompositeKey(N);try{var wn=Wt.delete(en);wn.onerror=function(ar){ct(Ps(ar,"storage-delete"))},wn.onsuccess=function(){Oe()}}catch(ar){ct(oa.create("storage-delete",{originalErrorMessage:ar&&ar.message}))}})]}})})},M.prototype.createCompositeKey=function(N){return[this.appId,this.appName,this.namespace,N].join()},M}(),du=function(){function M(N){this.storage=N}return M.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},M.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},M.prototype.getActiveConfig=function(){return this.activeConfig},M.prototype.loadFromStorage=function(){return(0,k.__awaiter)(this,void 0,void 0,function(){var N,G,ae,he,Oe,ct;return(0,k.__generator)(this,function(ft){switch(ft.label){case 0:return N=this.storage.getLastFetchStatus(),G=this.storage.getLastSuccessfulFetchTimestampMillis(),ae=this.storage.getActiveConfig(),[4,N];case 1:return(he=ft.sent())&&(this.lastFetchStatus=he),[4,G];case 2:return(Oe=ft.sent())&&(this.lastSuccessfulFetchTimestampMillis=Oe),[4,ae];case 3:return(ct=ft.sent())&&(this.activeConfig=ct),[2]}})})},M.prototype.setLastFetchStatus=function(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)},M.prototype.setLastSuccessfulFetchTimestampMillis=function(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)},M.prototype.setActiveConfig=function(N){return this.activeConfig=N,this.storage.setActiveConfig(N)},M}();function Ws(M,N){return new Promise(function(G,ae){var he=Math.max(N-Date.now(),0),Oe=setTimeout(G,he);M.addEventListener(function(){clearTimeout(Oe),ae(oa.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}var Su=function(){function M(N,G){this.client=N,this.storage=G}return M.prototype.fetch=function(N){return(0,k.__awaiter)(this,void 0,void 0,function(){var G;return(0,k.__generator)(this,function(ae){switch(ae.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return G=ae.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(N,G)]}})})},M.prototype.attemptFetch=function(N,G){var ae=G.throttleEndTimeMillis,he=G.backoffCount;return(0,k.__awaiter)(this,void 0,void 0,function(){var Oe,ct,ft;return(0,k.__generator)(this,function(Wt){switch(Wt.label){case 0:return[4,Ws(N.signal,ae)];case 1:Wt.sent(),Wt.label=2;case 2:return Wt.trys.push([2,5,,7]),[4,this.client.fetch(N)];case 3:return Oe=Wt.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return Wt.sent(),[2,Oe];case 5:if(!function(M){if(!(M instanceof le.FirebaseError&&M.customData))return!1;var N=Number(M.customData.httpStatus);return 429===N||500===N||503===N||504===N}(ct=Wt.sent()))throw ct;return ft={throttleEndTimeMillis:Date.now()+(0,le.calculateBackoffMillis)(he),backoffCount:he+1},[4,this.storage.setThrottleMetadata(ft)];case 6:return Wt.sent(),[2,this.attemptFetch(N,ft)];case 7:return[2]}})})},M}(),zu="@firebase/remote-config";!function(M){M.INTERNAL.registerComponent(new Re.Component("remoteConfig",function(G,ae){var he=ae.instanceIdentifier,Oe=G.getProvider("app").getImmediate(),ct=G.getProvider("installations").getImmediate();if("undefined"==typeof window)throw oa.create("registration-window");var ft=Oe.options,Wt=ft.projectId,en=ft.apiKey,wn=ft.appId;if(!Wt)throw oa.create("registration-project-id");if(!en)throw oa.create("registration-api-key");if(!wn)throw oa.create("registration-app-id");var ar=new Va(wn,Oe.name,he=he||"firebase"),Ur=new du(ar),Si=new fe.Logger(zu);Si.logLevel=fe.LogLevel.ERROR;var gi=new Wu(ct,M.SDK_VERSION,he,Wt,en,wn),Ao=new Su(gi,ar),ks=new rf(Ao,ar,Ur,Si),po=new gs(Oe,ks,Ur,ar,Si);return po.ensureInitialized(),po},"PUBLIC").setMultipleInstances(!0)),M.registerVersion(zu,"0.1.43")}(E.default),ie(7367),E.default.registerVersion("firebase","8.10.0","app"),E.default.SDK_VERSION="8.10.0",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),E.default.registerVersion("firebase","8.10.0");var Du=ie(8002),Na=ie(8259),$s=ie.n(Na),is=ie(3018),Ma=ie(1562),Ho=ie(6476),ja=ie(21);let gc=(()=>{class M{constructor(G,ae,he){this.afAuth=G,this.router=ae,this.db=he,this.usersLogged="/userLogged",this.pacientes="/paciente",this.especialistas="/especialistas",this.administradores="/administradores",this.isLogged=!1,this.AdministradoresRef=he.collection(this.administradores),this.UsuariosRef=he.collection(this.usersLogged),this.PacientesRef=he.collection(this.pacientes),this.EspecialistasRef=he.collection(this.especialistas)}GoogleAuth(){return this.AuthLogin(new E.default.auth.GoogleAuthProvider)}AuthLogin(G){return this.afAuth.signInWithPopup(G).then(ae=>{console.log("You have been successfully logged in!"),console.log(G),console.log(ae.additionalUserInfo.profile),M.userNameLogged=ae.additionalUserInfo.profile.name,M.iudUserLogged=ae.additionalUserInfo.profile.id,this.isLogged=!0,this.router.navigate(["home"])}).catch(ae=>{console.log(ae)})}loginWithEmailAndPassword(G,ae){this.afAuth.signInWithEmailAndPassword(G,ae).then(he=>{this.subscritoE=this.checkIfLoginEspecialista(G,he),this.subscritoP=this.checkIfLoginPaciente(G,he),this.subscritoA=this.checkIfLoginAdministrador(G,he)}).catch(he=>{let Oe="Error",ct=he;switch(he){case"Error: There is no user record corresponding to this identifier. The user may have been deleted":Oe="El usuario no existe",ct="No se ha registrado en nuestra aplicacion este email";break;case"Error: The password is invalid or the user does not have a password":Oe="Combinacion invalida",ct="Combinacion email/contrase\xf1a invalidos"}$s().fire({title:Oe,text:ct,icon:"error",confirmButtonText:"Ok"})})}registroWithEmailAndPassword(G){return this.afAuth.createUserWithEmailAndPassword(G.mail,G.pass).then(()=>{"especialidad"in G?this.addEspecialsita(G):"obraSocial"in G?this.addPaciente(G):this.addAdministrador(G),M.showSpinner=!1,this.router.navigate(["bienvenido"]),this.afAuth.currentUser.then(ae=>ae.sendEmailVerification())})}getEspecilista(G){return this.db.collection(this.especialistas,ae=>ae.where("mail","==",G))}addEspecialsita(G){this.EspecialistasRef.add(Object.assign({},G))}getEspecialistaPorEspecialidad(G){return this.db.collection(this.especialistas,ae=>ae.where("especialidad","array-contains",G))}checkIfLoginEspecialista(G,ae){return this.getEspecilista(G).snapshotChanges().pipe((0,Du.U)(he=>he.map(Oe=>{if(this.especialistaLogeado=Oe.payload.doc.data(),null!=this.especialistaLogeado&&this.especialistaLogeado.enabled&&ae.user.emailVerified)M.iudUserLogged=ae.user.uid,M.userNameLogged=G,M.completeName=this.especialistaLogeado.nombre+" "+this.especialistaLogeado.apellido,this.isLogged=!0,this.UsuariosRef.add({email:G,logged:Date.now()}),this.router.navigate(["home"]);else{if(null!=this.especialistaLogeado&&!this.especialistaLogeado.enabled&&ae.user.emailVerified)throw $s().fire({title:"Cuenta no habilitada!",text:"Su cuenta esta inhabilitada, contacte con un administrador para habilitarla",icon:"error",confirmButtonText:"Ok"}),new Error("Mail no verificado");if(null!=this.especialistaLogeado&&!ae.user.emailVerified)throw $s().fire({title:"Email no verificado!",text:"Por favor, antes de intentar iniciar sesion verifique su mail",icon:"error",confirmButtonText:"Ok"}),new Error("Mail no verificado")}}))).subscribe()}getAllEspecialistas(){return this.EspecialistasRef}updateEspecialista(G,ae){console.log("name  "+G),this.db.collection(this.especialistas).doc(G).update({enabled:ae})}addPaciente(G){this.PacientesRef.add(Object.assign({},G))}getPaciente(G){return this.db.collection(this.pacientes,ae=>ae.where("mail","==",G))}checkIfLoginPaciente(G,ae){return this.getPaciente(G).snapshotChanges().pipe((0,Du.U)(he=>he.map(Oe=>{if(this.pacienteLogeado=Oe.payload.doc.data(),ae.user.emailVerified&&this.pacienteLogeado)M.iudUserLogged=ae.user.uid,M.userNameLogged=G,M.completeName=this.pacienteLogeado.nombre+" "+this.pacienteLogeado.apellido,this.isLogged=!0,this.UsuariosRef.add({email:G,logged:Date.now()}),this.router.navigate(["home"]);else if(null!=this.especialistaLogeado&&!ae.user.emailVerified)throw $s().fire({title:"Email no verificado!",text:"Por favor, antes de intentar iniciar sesion verifique su mail",icon:"error",confirmButtonText:"Ok"}),Error()}))).subscribe()}getAllPacientes(){return this.PacientesRef}addAdministrador(G){this.AdministradoresRef.add(Object.assign({},G))}getAdministrador(G){return this.db.collection(this.administradores,ae=>ae.where("mail","==",G))}checkIfLoginAdministrador(G,ae){return this.getAdministrador(G).snapshotChanges().pipe((0,Du.U)(he=>he.map(Oe=>{if(this.administradorLogeado=Oe.payload.doc.data(),null!=this.administradorLogeado)M.iudUserLogged=ae.user.uid,M.userNameLogged=G,M.completeName=this.administradorLogeado.nombre+" "+this.administradorLogeado.apellido,this.isLogged=!0,this.UsuariosRef.add({email:G,logged:Date.now()}),this.router.navigate(["home"]);else if(null!=this.especialistaLogeado&&!ae.user.emailVerified)throw $s().fire({title:"Email no verificado!",text:"Por favor, antes de intentar iniciar sesion verifique su mail",icon:"error",confirmButtonText:"Ok"}),Error()}))).subscribe()}logout(){this.afAuth.signOut().then(()=>{this.pacienteLogeado=null,this.administradorLogeado=null,this.especialistaLogeado=null,this.subscritoP.unsubscribe(),this.subscritoA.unsubscribe(),this.subscritoE.unsubscribe(),this.isLogged=!1,this.router.navigate([""])})}}return M.showSpinner=!1,M.\u0275fac=function(G){return new(G||M)(is.LFG(Ma.zQ),is.LFG(Ho.F0),is.LFG(ja.ST))},M.\u0275prov=is.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},3526:(Mn,Dt,ie)=>{"use strict";var E=ie(8583),b=ie(3018);class j extends E.w_{constructor(){super()}supportsDOMEvents(){return!0}}class le extends j{static makeCurrent(){(0,E.HT)(new le)}getProperty(ye,re){return ye[re]}log(ye){window.console&&window.console.log&&window.console.log(ye)}logGroup(ye){window.console&&window.console.group&&window.console.group(ye)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(ye,re,Le){return ye.addEventListener(re,Le,!1),()=>{ye.removeEventListener(re,Le,!1)}}dispatchEvent(ye,re){ye.dispatchEvent(re)}remove(ye){return ye.parentNode&&ye.parentNode.removeChild(ye),ye}getValue(ye){return ye.value}createElement(ye,re){return(re=re||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,re){return"window"===re?window:"document"===re?ye:"body"===re?ye.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(ye){const re=fe||(fe=document.querySelector("base"),fe)?fe.getAttribute("href"):null;return null==re?null:(ne=re,Fe||(Fe=document.createElement("a")),Fe.setAttribute("href",ne),"/"===Fe.pathname.charAt(0)?Fe.pathname:"/"+Fe.pathname);var ne}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(ye){return(0,E.Mx)(document.cookie,ye)}}let Fe,fe=null;const Re=new b.OlP("TRANSITION_ID"),xe=[{provide:b.ip1,useFactory:function(ne,ye,re){return()=>{re.get(b.CZH).donePromise.then(()=>{const Le=(0,E.q)();Array.prototype.slice.apply(ye.querySelectorAll("style[ng-transition]")).filter(rn=>rn.getAttribute("ng-transition")===ne).forEach(rn=>Le.remove(rn))})}},deps:[Re,E.K0,b.zs3],multi:!0}];class De{static init(){(0,b.VLi)(new De)}addToWindow(ye){b.dqk.getAngularTestability=(Le,St=!0)=>{const rn=ye.findTestabilityInTree(Le,St);if(null==rn)throw new Error("Could not find testability for element.");return rn},b.dqk.getAllAngularTestabilities=()=>ye.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>ye.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(Le=>{const St=b.dqk.getAllAngularTestabilities();let rn=St.length,On=!1;const br=function(Dr){On=On||Dr,rn--,0==rn&&Le(On)};St.forEach(function(Dr){Dr.whenStable(br)})})}findTestabilityInTree(ye,re,Le){if(null==re)return null;const St=ye.getTestability(re);return null!=St?St:Le?(0,E.q)().isShadowRoot(re)?this.findTestabilityInTree(ye,re.host,!0):this.findTestabilityInTree(ye,re.parentElement,!0):null}}const rt=new b.OlP("EventManagerPlugins");let _t=(()=>{class ne{constructor(re,Le){this._zone=Le,this._eventNameToPlugin=new Map,re.forEach(St=>St.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Le,St){return this._findPluginFor(Le).addEventListener(re,Le,St)}addGlobalEventListener(re,Le,St){return this._findPluginFor(Le).addGlobalEventListener(re,Le,St)}getZone(){return this._zone}_findPluginFor(re){const Le=this._eventNameToPlugin.get(re);if(Le)return Le;const St=this._plugins;for(let rn=0;rn<St.length;rn++){const On=St[rn];if(On.supports(re))return this._eventNameToPlugin.set(re,On),On}throw new Error(`No event manager plugin found for event ${re}`)}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(rt),b.LFG(b.R0b))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class lt{constructor(ye){this._doc=ye}addGlobalEventListener(ye,re,Le){const St=(0,E.q)().getGlobalEventTarget(this._doc,ye);if(!St)throw new Error(`Unsupported event target ${St} for event ${re}`);return this.addEventListener(St,re,Le)}}let qt=(()=>{class ne{constructor(){this._stylesSet=new Set}addStyles(re){const Le=new Set;re.forEach(St=>{this._stylesSet.has(St)||(this._stylesSet.add(St),Le.add(St))}),this.onStylesAdded(Le)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return ne.\u0275fac=function(re){return new(re||ne)},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),Ut=(()=>{class ne extends qt{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Le,St){re.forEach(rn=>{const On=this._doc.createElement("style");On.textContent=rn,St.push(Le.appendChild(On))})}addHost(re){const Le=[];this._addStylesToHost(this._stylesSet,re,Le),this._hostNodes.set(re,Le)}removeHost(re){const Le=this._hostNodes.get(re);Le&&Le.forEach(yn),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Le,St)=>{this._addStylesToHost(re,St,Le)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(yn))}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(E.K0))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac}),ne})();function yn(ne){(0,E.q)().remove(ne)}const un={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fn=/%COMP%/g;function Et(ne,ye,re){for(let Le=0;Le<ye.length;Le++){let St=ye[Le];Array.isArray(St)?Et(ne,St,re):(St=St.replace(fn,ne),re.push(St))}return re}function Rt(ne){return ye=>{if("__ngUnwrap__"===ye)return ne;!1===ne(ye)&&(ye.preventDefault(),ye.returnValue=!1)}}let jt=(()=>{class ne{constructor(re,Le,St){this.eventManager=re,this.sharedStylesHost=Le,this.appId=St,this.rendererByCompId=new Map,this.defaultRenderer=new Un(re)}createRenderer(re,Le){if(!re||!Le)return this.defaultRenderer;switch(Le.encapsulation){case b.ifc.Emulated:{let St=this.rendererByCompId.get(Le.id);return St||(St=new In(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,St)),St.applyToHost(re),St}case 1:case b.ifc.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,re,Le);default:if(!this.rendererByCompId.has(Le.id)){const St=Et(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(St),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(_t),b.LFG(Ut),b.LFG(b.AFp))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class Un{constructor(ye){this.eventManager=ye,this.data=Object.create(null)}destroy(){}createElement(ye,re){return re?document.createElementNS(un[re]||re,ye):document.createElement(ye)}createComment(ye){return document.createComment(ye)}createText(ye){return document.createTextNode(ye)}appendChild(ye,re){ye.appendChild(re)}insertBefore(ye,re,Le){ye&&ye.insertBefore(re,Le)}removeChild(ye,re){ye&&ye.removeChild(re)}selectRootElement(ye,re){let Le="string"==typeof ye?document.querySelector(ye):ye;if(!Le)throw new Error(`The selector "${ye}" did not match any elements`);return re||(Le.textContent=""),Le}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,re,Le,St){if(St){re=St+":"+re;const rn=un[St];rn?ye.setAttributeNS(rn,re,Le):ye.setAttribute(re,Le)}else ye.setAttribute(re,Le)}removeAttribute(ye,re,Le){if(Le){const St=un[Le];St?ye.removeAttributeNS(St,re):ye.removeAttribute(`${Le}:${re}`)}else ye.removeAttribute(re)}addClass(ye,re){ye.classList.add(re)}removeClass(ye,re){ye.classList.remove(re)}setStyle(ye,re,Le,St){St&(b.JOm.DashCase|b.JOm.Important)?ye.style.setProperty(re,Le,St&b.JOm.Important?"important":""):ye.style[re]=Le}removeStyle(ye,re,Le){Le&b.JOm.DashCase?ye.style.removeProperty(re):ye.style[re]=""}setProperty(ye,re,Le){ye[re]=Le}setValue(ye,re){ye.nodeValue=re}listen(ye,re,Le){return"string"==typeof ye?this.eventManager.addGlobalEventListener(ye,re,Rt(Le)):this.eventManager.addEventListener(ye,re,Rt(Le))}}class In extends Un{constructor(ye,re,Le,St){super(ye),this.component=Le;const rn=Et(St+"-"+Le.id,Le.styles,[]);re.addStyles(rn),this.contentAttr="_ngcontent-%COMP%".replace(fn,St+"-"+Le.id),this.hostAttr="_nghost-%COMP%".replace(fn,St+"-"+Le.id)}applyToHost(ye){super.setAttribute(ye,this.hostAttr,"")}createElement(ye,re){const Le=super.createElement(ye,re);return super.setAttribute(Le,this.contentAttr,""),Le}}class Ct extends Un{constructor(ye,re,Le,St){super(ye),this.sharedStylesHost=re,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rn=Et(St.id,St.styles,[]);for(let On=0;On<rn.length;On++){const br=document.createElement("style");br.textContent=rn[On],this.shadowRoot.appendChild(br)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ye,re){return super.appendChild(this.nodeOrShadowRoot(ye),re)}insertBefore(ye,re,Le){return super.insertBefore(this.nodeOrShadowRoot(ye),re,Le)}removeChild(ye,re){return super.removeChild(this.nodeOrShadowRoot(ye),re)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}}let He=(()=>{class ne extends lt{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Le,St){return re.addEventListener(Le,St,!1),()=>this.removeEventListener(re,Le,St)}removeEventListener(re,Le,St){return re.removeEventListener(Le,St)}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(E.K0))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ht=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},or={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let et=(()=>{class ne extends lt{constructor(re){super(re)}supports(re){return null!=ne.parseEventName(re)}addEventListener(re,Le,St){const rn=ne.parseEventName(Le),On=ne.eventCallback(rn.fullKey,St,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(re,rn.domEventName,On))}static parseEventName(re){const Le=re.toLowerCase().split("."),St=Le.shift();if(0===Le.length||"keydown"!==St&&"keyup"!==St)return null;const rn=ne._normalizeKey(Le.pop());let On="";if(ht.forEach(Dr=>{const no=Le.indexOf(Dr);no>-1&&(Le.splice(no,1),On+=Dr+".")}),On+=rn,0!=Le.length||0===rn.length)return null;const br={};return br.domEventName=St,br.fullKey=On,br}static getEventFullKey(re){let Le="",St=function(ne){let ye=ne.key;if(null==ye){if(ye=ne.keyIdentifier,null==ye)return"Unidentified";ye.startsWith("U+")&&(ye=String.fromCharCode(parseInt(ye.substring(2),16)),3===ne.location&&or.hasOwnProperty(ye)&&(ye=or[ye]))}return Bt[ye]||ye}(re);return St=St.toLowerCase()," "===St?St="space":"."===St&&(St="dot"),ht.forEach(rn=>{rn!=St&&wr[rn](re)&&(Le+=rn+".")}),Le+=St,Le}static eventCallback(re,Le,St){return rn=>{ne.getEventFullKey(rn)===re&&St.runGuarded(()=>Le(rn))}}static _normalizeKey(re){switch(re){case"esc":return"escape";default:return re}}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(E.K0))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Lr=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:E.bD},{provide:b.g9A,useValue:function(){le.makeCurrent(),De.init()},multi:!0},{provide:E.K0,useFactory:function(){return(0,b.RDi)(document),document},deps:[]}]),zn=[[],{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function(){return new b.qLn},deps:[]},{provide:rt,useClass:He,multi:!0,deps:[E.K0,b.R0b,b.Lbi]},{provide:rt,useClass:et,multi:!0,deps:[E.K0]},[],{provide:jt,useClass:jt,deps:[_t,Ut,b.AFp]},{provide:b.FYo,useExisting:jt},{provide:qt,useExisting:Ut},{provide:Ut,useClass:Ut,deps:[E.K0]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b]},{provide:_t,useClass:_t,deps:[rt,b.R0b]},[]];let Hi=(()=>{class ne{constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:ne,providers:[{provide:b.AFp,useValue:re.appId},{provide:Re,useExisting:b.AFp},xe]}}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(ne,12))},ne.\u0275mod=b.oAB({type:ne}),ne.\u0275inj=b.cJS({providers:zn,imports:[E.ez,b.hGG]}),ne})();"undefined"!=typeof window&&window;var Xr=ie(1841),$r=ie(3194),Br=ie(6476),xi=ie(2941);let Yi=(()=>{class ne{constructor(re){this.ingresoService=re}canActivate(re,Le){return null!=this.ingresoService.administradorLogeado}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(xi.V))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Xn=(()=>{class ne{constructor(re){this.ingresoService=re}canActivate(re,Le){return this.ingresoService.isLogged}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(xi.V))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();var Ti=ie(4892),Kn=ie(7336);let pr=(()=>{class ne{constructor(re){this.router=re,this.eventoCerrarRegistro=new b.vpe,this.eventoRegistrarUsuario=new b.vpe}ngOnInit(){}seCerroElRegistro(){this.eventoCerrarRegistro.emit(!1)}irRegistro(re){this.router.navigate(["ingreso/registro",re])}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(Br.F0))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-which-register"]],outputs:{eventoCerrarRegistro:"eventoCerrarRegistro",eventoRegistrarUsuario:"eventoRegistrarUsuario"},decls:7,vars:0,consts:[[1,"d-grid","gap-2","col-6","mx-auto","centrado"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"btn","btn-dark","cerrar",3,"click"]],template:function(re,Le){1&re&&(b.TgZ(0,"div",0),b.TgZ(1,"button",1),b.NdJ("click",function(){return Le.irRegistro("paciente")}),b._uU(2,"Paciente"),b.qZA(),b.TgZ(3,"button",2),b.NdJ("click",function(){return Le.irRegistro("especialista")}),b._uU(4,"Especialista"),b.qZA(),b.TgZ(5,"button",3),b.NdJ("click",function(){return Le.seCerroElRegistro()}),b._uU(6,"X"),b.qZA(),b.qZA())},styles:[".centrado[_ngcontent-%COMP%]{margin-top:46.5%}.total2[_ngcontent-%COMP%]{height:10vh}.cerrar[_ngcontent-%COMP%]{height:100%;width:15%;margin-left:45%;text-align:center}"]}),ne})();function Qn(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"button",7),b.NdJ("click",function(){return b.CHM(re),b.oxw().test()}),b._uU(1,"Registro"),b.qZA()}}function Rr(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"app-which-register",8),b.NdJ("eventoCerrarRegistro",function(){return b.CHM(re),b.oxw().showWhichRegister=!1}),b.qZA()}}let cr=(()=>{class ne{constructor(re){this.router=re,this.showWhichRegister=!1}ngOnInit(){}routeo(re){this.router.navigateByUrl("/"+re)}test(){this.showWhichRegister=!0,console.log("test")}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(Br.F0))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-bienvenido"]],decls:10,vars:2,consts:[[1,"row"],["src","../../../assets/backgroundimage.jpg","width","100%","height","100%"],[1,"col","total"],["type","button",1,"btn","btn-info","centrado",3,"click"],[1,"col","total2"],["type","button","class","btn btn-warning centrado",3,"click",4,"ngIf","ngIfElse"],["whichRegister",""],["type","button",1,"btn","btn-warning","centrado",3,"click"],[3,"eventoCerrarRegistro"]],template:function(re,Le){if(1&re&&(b.TgZ(0,"div"),b.TgZ(1,"div",0),b._UZ(2,"img",1),b.TgZ(3,"div",2),b.TgZ(4,"button",3),b.NdJ("click",function(){return Le.routeo("ingreso/login")}),b._uU(5,"Login"),b.qZA(),b.qZA(),b.TgZ(6,"div",4),b.YNc(7,Qn,2,0,"button",5),b.YNc(8,Rr,1,0,"ng-template",null,6,b.W1O),b.qZA(),b.qZA(),b.qZA()),2&re){const St=b.MAs(9);b.xp6(7),b.Q6J("ngIf",!Le.showWhichRegister)("ngIfElse",St)}},directives:[E.O5,pr],styles:[".total[_ngcontent-%COMP%]{height:100vh}.total2[_ngcontent-%COMP%]{height:100vh}.centrado[_ngcontent-%COMP%]{height:7%;width:50%;margin-top:46.5%;margin-left:25%}.container[_ngcontent-%COMP%]{background-image:url(backgroundimage.21ea73c93c64292929fc.jpg);background-size:100%;background-size:cover}"]}),ne})();var Wi=ie(5245);function ei(ne,ye){if(1&ne&&(b.TgZ(0,"div",7),b.TgZ(1,"div"),b.TgZ(2,"label",8),b._uU(3,"Nombre"),b.qZA(),b.TgZ(4,"h5",9),b._uU(5),b.qZA(),b.qZA(),b.TgZ(6,"div"),b.TgZ(7,"label",8),b._uU(8,"Apellido"),b.qZA(),b.TgZ(9,"h5",9),b._uU(10),b.qZA(),b.qZA(),b.TgZ(11,"div"),b.TgZ(12,"label",8),b._uU(13,"Email"),b.qZA(),b.TgZ(14,"h5",10),b._uU(15),b.qZA(),b.qZA(),b.TgZ(16,"div"),b.TgZ(17,"label",8),b._uU(18,"Dni"),b.qZA(),b.TgZ(19,"h5",9),b._uU(20),b.qZA(),b.qZA(),b.TgZ(21,"div"),b.TgZ(22,"label",8),b._uU(23,"Edad"),b.qZA(),b.TgZ(24,"h5",9),b._uU(25),b.qZA(),b.qZA(),b.TgZ(26,"div"),b.TgZ(27,"label",8),b._uU(28,"Tipo Usuario"),b.qZA(),b.TgZ(29,"h5",9),b._uU(30),b.qZA(),b.qZA(),b._UZ(31,"hr"),b.qZA()),2&ne){const re=b.oxw();b.xp6(5),b.Oqu(re.usuarioLogeado.nombre),b.xp6(5),b.Oqu(re.usuarioLogeado.apellido),b.xp6(5),b.Oqu(re.usuarioLogeado.mail),b.xp6(5),b.Oqu(re.usuarioLogeado.dni),b.xp6(5),b.Oqu(re.usuarioLogeado.edad),b.xp6(5),b.Oqu(re.tipoUsuario)}}let lr=(()=>{class ne{constructor(re){this.ingresoService=re}ngOnInit(){null!=this.ingresoService.especialistaLogeado?(this.tipoUsuario="Especialista",this.usuarioLogeado=this.ingresoService.especialistaLogeado):null!=this.ingresoService.pacienteLogeado?(this.tipoUsuario="Paciente",this.usuarioLogeado=this.ingresoService.pacienteLogeado):(this.tipoUsuario="Administrador",this.usuarioLogeado=this.ingresoService.administradorLogeado)}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(xi.V))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-mi-perfil"]],decls:8,vars:2,consts:[["id","profileContainer"],[1,"container","pato45"],[1,"row"],[1,"col-md-3"],[1,"avatarFrameonline"],[1,"avatarImage","img-fluid",3,"src"],["class","col-md-9",4,"ngIf"],[1,"col-md-9"],["fixed",""],["type","text",1,"form-control"],["type","email","disabled","",1,"form-control"]],template:function(re,Le){1&re&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b._UZ(5,"img",5),b.qZA(),b._UZ(6,"hr"),b.qZA(),b.YNc(7,ei,32,6,"div",6),b.qZA(),b.qZA(),b.qZA()),2&re&&(b.xp6(5),b.Q6J("src",Le.usuarioLogeado.fotoUno,b.LSH),b.xp6(2),b.Q6J("ngIf",Le.usuarioLogeado))},directives:[E.O5],styles:["#homeContainer[_ngcontent-%COMP%]{background-image:url(/assets/img/msnbg.jpg);background-size:100%;background-repeat:no-repeat}#whiteBorderGlassBox[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.75);padding:8px}.homeHeadContainer[_ngcontent-%COMP%]{background-color:#ffffff80}.whiteContainerPadded[_ngcontent-%COMP%]{padding:15px;background-color:#feffff}img.icon[_ngcontent-%COMP%]{width:30px}"]}),ne})();var Fn=ie(8002),zr=ie(21);let ir=(()=>{class ne{constructor(re){this.db=re,this.turnos="/turnos",this.turnosRef=re.collection(this.turnos),this.dataBase=re}darDeAltaTurno(re){this.turnosRef.add(Object.assign({},re))}filtrarTurno(re,Le){return this.dataBase.collection(this.turnos,St=>St.where(re,"==",Le).orderBy("horario"))}updateTurno(re,Le){this.dataBase.collection(this.turnos).doc(re).update({estado:Le})}}return ne.\u0275fac=function(re){return new(re||ne)(b.LFG(zr.ST))},ne.\u0275prov=b.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();class ii{constructor(){this.comentario="",this.estado=Nr.Pedido,this.idDocumento=null}}var Nr=(()=>{return(ne=Nr||(Nr={})).Rechazado="Rechazado",ne.Cancelado="Cancelado",ne.Aceptado="Aceptado",ne.Realizado="Realizado",ne.Pedido="Pedido",Nr;var ne})();function er(ne,ye){1&ne&&(b.TgZ(0,"button",10),b._uU(1,"Ver Rese\xf1a"),b.qZA())}function Hr(ne,ye){1&ne&&(b.TgZ(0,"button",11),b._uU(1,"Completar Encuesta"),b.qZA())}function mi(ne,ye){1&ne&&(b.TgZ(0,"button",12),b._uU(1,"Calificar Atencion"),b.qZA())}function Po(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"div"),b.TgZ(1,"button",6),b.NdJ("click",function(St){return b.CHM(re),b.oxw().cambiarEstado(St)}),b._uU(2,"Cancelar"),b.qZA(),b.YNc(3,er,2,0,"button",7),b.YNc(4,Hr,2,0,"button",8),b.YNc(5,mi,2,0,"button",9),b.qZA()}if(2&ne){const re=b.oxw();b.xp6(3),b.Q6J("ngIf",""!=re.turnoAMostrar.comentario),b.xp6(1),b.Q6J("ngIf","Realizado"==re.turnoAMostrar.estado&&""!=re.turnoAMostrar.comentario),b.xp6(1),b.Q6J("ngIf","Realizado"==re.turnoAMostrar.estado)}}function Kr(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"button",17),b.NdJ("click",function(St){return b.CHM(re),b.oxw(2).cambiarEstado(St)}),b._uU(1,"Cancelar"),b.qZA()}}function Zi(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"button",18),b.NdJ("click",function(St){return b.CHM(re),b.oxw(2).cambiarEstado(St)}),b._uU(1,"Rechazar"),b.qZA()}}function kr(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"button",19),b.NdJ("click",function(St){return b.CHM(re),b.oxw(2).cambiarEstado(St)}),b._uU(1,"Aceptar"),b.qZA()}}function wo(ne,ye){1&ne&&(b.TgZ(0,"button",20),b._uU(1,"Finalizar"),b.qZA())}function vi(ne,ye){1&ne&&(b.TgZ(0,"button",10),b._uU(1,"Ver Rese\xf1a"),b.qZA())}function Mr(ne,ye){if(1&ne&&(b.TgZ(0,"div"),b.YNc(1,Kr,2,0,"button",13),b.YNc(2,Zi,2,0,"button",14),b.YNc(3,kr,2,0,"button",15),b.YNc(4,wo,2,0,"button",16),b.YNc(5,vi,2,0,"button",7),b.qZA()),2&ne){const re=b.oxw();b.xp6(1),b.Q6J("ngIf","Pedido"==re.turnoAMostrar.estado),b.xp6(1),b.Q6J("ngIf","Pedido"==re.turnoAMostrar.estado),b.xp6(1),b.Q6J("ngIf","Pedido"==re.turnoAMostrar.estado),b.xp6(1),b.Q6J("ngIf","Aceptado"==re.turnoAMostrar.estado),b.xp6(1),b.Q6J("ngIf",""!=re.turnoAMostrar.comentario)}}function Eo(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"button",22),b.NdJ("click",function(St){return b.CHM(re),b.oxw(2).cambiarEstado(St)}),b._uU(1,"Cancelar"),b.qZA()}}function qo(ne,ye){if(1&ne&&(b.TgZ(0,"div"),b.YNc(1,Eo,2,0,"button",21),b.qZA()),2&ne){const re=b.oxw();b.xp6(1),b.Q6J("ngIf","Pedido"==re.turnoAMostrar)}}let Yn=(()=>{class ne{constructor(re,Le){this.ingresoService=re,this.turnoService=Le,this.turnoAMostrar=new ii}ngOnInit(){}cambiarEstado(re){console.log(re.target.id),this.turnoService.updateTurno(this.turnoAMostrar.idDocumento,re.target.id)}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(xi.V),b.Y36(ir))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-card-turno"]],inputs:{turnoAMostrar:"turnoAMostrar"},decls:18,vars:10,consts:[[1,"card",2,"width","100%"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"card-text"],[4,"ngIf"],["id","Cancelado",1,"btn","btn-danger",2,"width","25%",3,"click"],["class","btn btn-success","style","width:25%",4,"ngIf"],["class","btn btn-primary","style","width:25%",4,"ngIf"],["class","btn btn-info","style","width:25%",4,"ngIf"],[1,"btn","btn-success",2,"width","25%"],[1,"btn","btn-primary",2,"width","25%"],[1,"btn","btn-info",2,"width","25%"],["id","Cancelado","class","btn btn-warning","style","width:25%",3,"click",4,"ngIf"],["id","Rechazado","class","btn btn-danger","style","width:25%",3,"click",4,"ngIf"],["id","Aceptado","class","btn btn-success","style","width:25%",3,"click",4,"ngIf"],["id","Finalizado","class","btn btn-primary","style","width:25%",4,"ngIf"],["id","Cancelado",1,"btn","btn-warning",2,"width","25%",3,"click"],["id","Rechazado",1,"btn","btn-danger",2,"width","25%",3,"click"],["id","Aceptado",1,"btn","btn-success",2,"width","25%",3,"click"],["id","Finalizado",1,"btn","btn-primary",2,"width","25%"],["id","Finalizado","class","btn btn-warning","style","width:25%",3,"click",4,"ngIf"],["id","Finalizado",1,"btn","btn-warning",2,"width","25%",3,"click"]],template:function(re,Le){1&re&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"h2",2),b._uU(3),b.qZA(),b.TgZ(4,"div",3),b.TgZ(5,"h3"),b._uU(6),b.qZA(),b.TgZ(7,"p",4),b._uU(8),b.qZA(),b.TgZ(9,"p",4),b._uU(10),b.qZA(),b.TgZ(11,"p",4),b._uU(12),b.qZA(),b.TgZ(13,"p",4),b._uU(14),b.qZA(),b.YNc(15,Po,6,3,"div",5),b.YNc(16,Mr,6,5,"div",5),b.YNc(17,qo,2,1,"div",5),b.qZA(),b.qZA(),b.qZA()),2&re&&(b.xp6(3),b.Oqu(Le.turnoAMostrar.especialidad),b.xp6(3),b.Oqu(Le.turnoAMostrar.estado),b.xp6(2),b.hij("El turno es para el dia: ",Le.turnoAMostrar.horario,""),b.xp6(2),b.hij("Con el doctor: ",Le.turnoAMostrar.medico.apellido,""),b.xp6(2),b.AsE("Para el paciente: ",Le.turnoAMostrar.paciente.nombre," ",Le.turnoAMostrar.paciente.apellido,""),b.xp6(2),b.hij("El turno se ha emitido el dia: ",Le.turnoAMostrar.pedidoEl,""),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.pacienteLogeado),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.especialistaLogeado),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.administradorLogeado))},directives:[E.O5],styles:[".Finalizado[_ngcontent-%COMP%]{color:green}.Cancelado[_ngcontent-%COMP%]{color:red}.Agendado[_ngcontent-%COMP%]{color:#add8e6}"]}),ne})();function uo(ne,ye){if(1&ne&&(b.TgZ(0,"div",1),b._UZ(1,"app-card-turno",2),b.qZA()),2&ne){const re=ye.$implicit;b.xp6(1),b.Q6J("turnoAMostrar",re)}}const ki=[{path:"",redirectTo:"bienvenido",pathMatch:"full"},{path:"bienvenido",component:cr},{path:"home",component:Wi.O,canActivate:[Xn]},{path:"mis-turnos",component:(()=>{class ne{constructor(re,Le){this.turnoService=re,this.ingresoService=Le}ngOnInit(){this.turnoService.filtrarTurno(this.ingresoService.especialistaLogeado?"medico.mail":"paciente.mail",this.ingresoService.especialistaLogeado?this.ingresoService.especialistaLogeado.mail:this.ingresoService.pacienteLogeado.mail).snapshotChanges().pipe((0,Fn.U)(St=>St.map(rn=>{let On=rn.payload.doc.data();On.idDocumento=rn.payload.doc.id,this.listTurnos.push(On)})))}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(ir),b.Y36(xi.V))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-mis-turnos"]],decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForIn"],[1,"row"],[3,"turnoAMostrar"]],template:function(re,Le){1&re&&b.YNc(0,uo,2,1,"div",0),2&re&&b.Q6J("ngForIn",Le.listTurnos)},directives:[Yn],styles:[""]}),ne})()},{path:"miPerfil",component:lr,canActivate:[Xn]},{path:"ingreso",loadChildren:()=>Promise.resolve().then(ie.bind(ie,4892)).then(ne=>Ti.IngresoModule)},{path:"usuarios",loadChildren:()=>Promise.resolve().then(ie.bind(ie,7336)).then(ne=>Kn.UsuariosModule),canActivate:[Yi]},{path:"**",redirectTo:"bienvenido",pathMatch:"full"}];let Ro=(()=>{class ne{}return ne.\u0275fac=function(re){return new(re||ne)},ne.\u0275mod=b.oAB({type:ne}),ne.\u0275inj=b.cJS({imports:[[Br.Bz.forRoot(ki)],Br.Bz]}),ne})();var fr=ie(665);function _r(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("usuarios/")}),b._uU(2,"Usuarios"),b.qZA(),b.qZA()}}function qn(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("usuarios/listaUsuarios",!1)}),b._uU(2,"Pacientes"),b.qZA(),b.qZA()}}function Or(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("usuarios/listaUsuarios",!0)}),b._uU(2,"Especialista"),b.qZA(),b.qZA()}}function bo(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("mis-turnos")}),b._uU(2,"Mis Turnos"),b.qZA(),b.qZA()}}function ee(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("mis-turnos")}),b._uU(2,"Solicitar Turno"),b.qZA(),b.qZA()}}function W(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("mis-turnos")}),b._uU(2,"Turnos"),b.qZA(),b.qZA()}}function Ie(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"li",10),b.TgZ(1,"a",11),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("home/")}),b._uU(2,"Volver"),b.qZA(),b.qZA()}}function Ge(ne,ye){1&ne&&b._UZ(0,"div")}function dt(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"button",12),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("ingreso/registro")}),b._uU(1,"Registrar"),b.qZA(),b.TgZ(2,"button",13),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("ingreso/login")}),b._uU(3,"Iniciar Sesion"),b.qZA()}}function xt(ne,ye){if(1&ne){const re=b.EpF();b.TgZ(0,"div",14),b.TgZ(1,"div",15),b._uU(2),b.qZA(),b.TgZ(3,"div",16),b._uU(4),b.qZA(),b.qZA(),b.TgZ(5,"button",12),b.NdJ("click",function(){return b.CHM(re),b.oxw().routeo("miPerfil")}),b._uU(6,"Mi Perfil"),b.qZA(),b.TgZ(7,"button",17),b.NdJ("click",function(){return b.CHM(re),b.oxw().logOut()}),b._uU(8,"Log Out"),b.qZA()}if(2&ne){const re=b.oxw();b.xp6(2),b.hij(" ",re.getNombreUsuario()," "),b.xp6(2),b.hij(" ",re.getCompleteName()," ")}}let an=(()=>{class ne{constructor(re,Le,St){this.ingresoService=re,this.router=Le,this.route=St,this.weAreInUsuarios=!1,this.router.events.subscribe(rn=>{var On;return this.weAreInUsuarios=null===(On=rn.url)||void 0===On?void 0:On.includes("usuarios")})}ngOnInit(){}routeo(re,Le=null){this.router.navigate(null!=Le?[re,Le]:["/"+re])}logOut(){this.ingresoService.logout()}getNombreUsuario(){return xi.V.userNameLogged}getCompleteName(){return xi.V.completeName}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(xi.V),b.Y36(Br.F0),b.Y36(Br.gz))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-navbar"]],decls:19,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],[1,"d-flex"],[4,"ngIf","ngIfThen","ngIfElse"],["blockIngreso",""],["blockLogOut",""],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"click"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-success",3,"click"],[1,"m-3"],[1,"row",2,"size","10px"],[1,"row"],[1,"btn","btn-outline-danger",3,"click"]],template:function(re,Le){if(1&re&&(b.TgZ(0,"nav",0),b.TgZ(1,"div",1),b.TgZ(2,"a",2),b._uU(3,"Sala de juegos"),b.qZA(),b.TgZ(4,"div",3),b.TgZ(5,"ul",4),b.YNc(6,_r,3,0,"li",5),b.YNc(7,qn,3,0,"li",5),b.YNc(8,Or,3,0,"li",5),b.YNc(9,bo,3,0,"li",5),b.YNc(10,ee,3,0,"li",5),b.YNc(11,W,3,0,"li",5),b.YNc(12,Ie,3,0,"li",5),b.qZA(),b.TgZ(13,"form",6),b.YNc(14,Ge,1,0,"div",7),b.YNc(15,dt,4,0,"ng-template",null,8,b.W1O),b.YNc(17,xt,9,2,"ng-template",null,9,b.W1O),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&re){const St=b.MAs(16),rn=b.MAs(18);b.xp6(6),b.Q6J("ngIf",Le.ingresoService.administradorLogeado),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.administradorLogeado&&Le.weAreInUsuarios),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.administradorLogeado&&Le.weAreInUsuarios),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.isLogged&&null==Le.ingresoService.administradorLogeado),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.isLogged&&null==Le.ingresoService.especialistaLogeado),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.isLogged&&null!=Le.ingresoService.administradorLogeado),b.xp6(1),b.Q6J("ngIf",Le.ingresoService.administradorLogeado&&Le.weAreInUsuarios),b.xp6(2),b.Q6J("ngIf",Le.ingresoService.isLogged)("ngIfThen",rn)("ngIfElse",St)}},directives:[Br.yS,E.O5,fr.Y7,fr.JL,fr.F],styles:[""]}),ne})();function pn(ne,ye){1&ne&&b._UZ(0,"app-navbar")}let Z=(()=>{class ne{constructor(re){this.ingresoService=re,this.title="Clinica Online"}}return ne.\u0275fac=function(re){return new(re||ne)(b.Y36(xi.V))},ne.\u0275cmp=b.Xpm({type:ne,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(re,Le){1&re&&(b.YNc(0,pn,1,0,"app-navbar",0),b._UZ(1,"router-outlet")),2&re&&b.Q6J("ngIf",Le.ingresoService.isLogged)},directives:[E.O5,Br.lC,an],styles:[""]}),ne})();var z=ie(57);const F_firebaseConfig={apiKey:"AIzaSyBNaNaLwo91mgmbjt0pkLDRNPhndxIjS8s",authDomain:"tpturnos-1d5ee.firebaseapp.com",projectId:"tpturnos-1d5ee",storageBucket:"tpturnos-1d5ee.appspot.com",messagingSenderId:"424575680224",appId:"1:424575680224:web:5e86b598b286b512959a85"};let ge=(()=>{class ne{}return ne.\u0275fac=function(re){return new(re||ne)},ne.\u0275mod=b.oAB({type:ne,bootstrap:[Z]}),ne.\u0275inj=b.cJS({providers:[],imports:[[Hi,Ro,Ti.IngresoModule,fr.u5,fr.UX,Xr.JF,$r.TE,z.hO.initializeApp(F_firebaseConfig)]]}),ne})();(0,b.G48)(),Lr().bootstrapModule(ge).catch(ne=>console.error(ne))},4762:(Mn,Dt,ie)=>{"use strict";ie.r(Dt),ie.d(Dt,{__extends:()=>b,__assign:()=>j,__rest:()=>L,__decorate:()=>Pe,__param:()=>le,__metadata:()=>fe,__awaiter:()=>Je,__generator:()=>Fe,__createBinding:()=>k,__exportStar:()=>Re,__values:()=>Ye,__read:()=>xe,__spread:()=>De,__spreadArrays:()=>st,__spreadArray:()=>je,__await:()=>nt,__asyncGenerator:()=>Me,__asyncDelegator:()=>Ve,__asyncValues:()=>at,__makeTemplateObject:()=>At,__importStar:()=>bt,__importDefault:()=>tn,__classPrivateFieldGet:()=>xn,__classPrivateFieldSet:()=>Wn});var E=function(ke,$e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,rt){ce.__proto__=rt}||function(ce,rt){for(var _t in rt)Object.prototype.hasOwnProperty.call(rt,_t)&&(ce[_t]=rt[_t])})(ke,$e)};function b(ke,$e){if("function"!=typeof $e&&null!==$e)throw new TypeError("Class extends value "+String($e)+" is not a constructor or null");function ce(){this.constructor=ke}E(ke,$e),ke.prototype=null===$e?Object.create($e):(ce.prototype=$e.prototype,new ce)}var j=function(){return(j=Object.assign||function($e){for(var ce,rt=1,_t=arguments.length;rt<_t;rt++)for(var lt in ce=arguments[rt])Object.prototype.hasOwnProperty.call(ce,lt)&&($e[lt]=ce[lt]);return $e}).apply(this,arguments)};function L(ke,$e){var ce={};for(var rt in ke)Object.prototype.hasOwnProperty.call(ke,rt)&&$e.indexOf(rt)<0&&(ce[rt]=ke[rt]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(rt=Object.getOwnPropertySymbols(ke);_t<rt.length;_t++)$e.indexOf(rt[_t])<0&&Object.prototype.propertyIsEnumerable.call(ke,rt[_t])&&(ce[rt[_t]]=ke[rt[_t]])}return ce}function Pe(ke,$e,ce,rt){var qt,_t=arguments.length,lt=_t<3?$e:null===rt?rt=Object.getOwnPropertyDescriptor($e,ce):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)lt=Reflect.decorate(ke,$e,ce,rt);else for(var Ut=ke.length-1;Ut>=0;Ut--)(qt=ke[Ut])&&(lt=(_t<3?qt(lt):_t>3?qt($e,ce,lt):qt($e,ce))||lt);return _t>3&&lt&&Object.defineProperty($e,ce,lt),lt}function le(ke,$e){return function(ce,rt){$e(ce,rt,ke)}}function fe(ke,$e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ke,$e)}function Je(ke,$e,ce,rt){return new(ce||(ce=Promise))(function(lt,qt){function Ut(fn){try{un(rt.next(fn))}catch(dn){qt(dn)}}function yn(fn){try{un(rt.throw(fn))}catch(dn){qt(dn)}}function un(fn){fn.done?lt(fn.value):function(lt){return lt instanceof ce?lt:new ce(function(qt){qt(lt)})}(fn.value).then(Ut,yn)}un((rt=rt.apply(ke,$e||[])).next())})}function Fe(ke,$e){var rt,_t,lt,qt,ce={label:0,sent:function(){if(1&lt[0])throw lt[1];return lt[1]},trys:[],ops:[]};return qt={next:Ut(0),throw:Ut(1),return:Ut(2)},"function"==typeof Symbol&&(qt[Symbol.iterator]=function(){return this}),qt;function Ut(un){return function(fn){return function(un){if(rt)throw new TypeError("Generator is already executing.");for(;ce;)try{if(rt=1,_t&&(lt=2&un[0]?_t.return:un[0]?_t.throw||((lt=_t.return)&&lt.call(_t),0):_t.next)&&!(lt=lt.call(_t,un[1])).done)return lt;switch(_t=0,lt&&(un=[2&un[0],lt.value]),un[0]){case 0:case 1:lt=un;break;case 4:return ce.label++,{value:un[1],done:!1};case 5:ce.label++,_t=un[1],un=[0];continue;case 7:un=ce.ops.pop(),ce.trys.pop();continue;default:if(!(lt=(lt=ce.trys).length>0&&lt[lt.length-1])&&(6===un[0]||2===un[0])){ce=0;continue}if(3===un[0]&&(!lt||un[1]>lt[0]&&un[1]<lt[3])){ce.label=un[1];break}if(6===un[0]&&ce.label<lt[1]){ce.label=lt[1],lt=un;break}if(lt&&ce.label<lt[2]){ce.label=lt[2],ce.ops.push(un);break}lt[2]&&ce.ops.pop(),ce.trys.pop();continue}un=$e.call(ke,ce)}catch(fn){un=[6,fn],_t=0}finally{rt=lt=0}if(5&un[0])throw un[1];return{value:un[0]?un[1]:void 0,done:!0}}([un,fn])}}}var k=Object.create?function(ke,$e,ce,rt){void 0===rt&&(rt=ce),Object.defineProperty(ke,rt,{enumerable:!0,get:function(){return $e[ce]}})}:function(ke,$e,ce,rt){void 0===rt&&(rt=ce),ke[rt]=$e[ce]};function Re(ke,$e){for(var ce in ke)"default"!==ce&&!Object.prototype.hasOwnProperty.call($e,ce)&&k($e,ke,ce)}function Ye(ke){var $e="function"==typeof Symbol&&Symbol.iterator,ce=$e&&ke[$e],rt=0;if(ce)return ce.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&rt>=ke.length&&(ke=void 0),{value:ke&&ke[rt++],done:!ke}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(ke,$e){var ce="function"==typeof Symbol&&ke[Symbol.iterator];if(!ce)return ke;var _t,qt,rt=ce.call(ke),lt=[];try{for(;(void 0===$e||$e-- >0)&&!(_t=rt.next()).done;)lt.push(_t.value)}catch(Ut){qt={error:Ut}}finally{try{_t&&!_t.done&&(ce=rt.return)&&ce.call(rt)}finally{if(qt)throw qt.error}}return lt}function De(){for(var ke=[],$e=0;$e<arguments.length;$e++)ke=ke.concat(xe(arguments[$e]));return ke}function st(){for(var ke=0,$e=0,ce=arguments.length;$e<ce;$e++)ke+=arguments[$e].length;var rt=Array(ke),_t=0;for($e=0;$e<ce;$e++)for(var lt=arguments[$e],qt=0,Ut=lt.length;qt<Ut;qt++,_t++)rt[_t]=lt[qt];return rt}function je(ke,$e,ce){if(ce||2===arguments.length)for(var lt,rt=0,_t=$e.length;rt<_t;rt++)(lt||!(rt in $e))&&(lt||(lt=Array.prototype.slice.call($e,0,rt)),lt[rt]=$e[rt]);return ke.concat(lt||Array.prototype.slice.call($e))}function nt(ke){return this instanceof nt?(this.v=ke,this):new nt(ke)}function Me(ke,$e,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,rt=ce.apply(ke,$e||[]),lt=[];return _t={},qt("next"),qt("throw"),qt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function qt(Zt){rt[Zt]&&(_t[Zt]=function(_n){return new Promise(function($n,vn){lt.push([Zt,_n,$n,vn])>1||Ut(Zt,_n)})})}function Ut(Zt,_n){try{!function(Zt){Zt.value instanceof nt?Promise.resolve(Zt.value.v).then(un,fn):dn(lt[0][2],Zt)}(rt[Zt](_n))}catch($n){dn(lt[0][3],$n)}}function un(Zt){Ut("next",Zt)}function fn(Zt){Ut("throw",Zt)}function dn(Zt,_n){Zt(_n),lt.shift(),lt.length&&Ut(lt[0][0],lt[0][1])}}function Ve(ke){var $e,ce;return $e={},rt("next"),rt("throw",function(_t){throw _t}),rt("return"),$e[Symbol.iterator]=function(){return this},$e;function rt(_t,lt){$e[_t]=ke[_t]?function(qt){return(ce=!ce)?{value:nt(ke[_t](qt)),done:"return"===_t}:lt?lt(qt):qt}:lt}}function at(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,$e=ke[Symbol.asyncIterator];return $e?$e.call(ke):(ke=Ye(ke),ce={},rt("next"),rt("throw"),rt("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function rt(lt){ce[lt]=ke[lt]&&function(qt){return new Promise(function(Ut,yn){!function(lt,qt,Ut,yn){Promise.resolve(yn).then(function(un){lt({value:un,done:Ut})},qt)}(Ut,yn,(qt=ke[lt](qt)).done,qt.value)})}}}function At(ke,$e){return Object.defineProperty?Object.defineProperty(ke,"raw",{value:$e}):ke.raw=$e,ke}var It=Object.create?function(ke,$e){Object.defineProperty(ke,"default",{enumerable:!0,value:$e})}:function(ke,$e){ke.default=$e};function bt(ke){if(ke&&ke.__esModule)return ke;var $e={};if(null!=ke)for(var ce in ke)"default"!==ce&&Object.prototype.hasOwnProperty.call(ke,ce)&&k($e,ke,ce);return It($e,ke),$e}function tn(ke){return ke&&ke.__esModule?ke:{default:ke}}function xn(ke,$e,ce,rt){if("a"===ce&&!rt)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof $e?ke!==$e||!rt:!$e.has(ke))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ce?rt:"a"===ce?rt.call(ke):rt?rt.value:$e.get(ke)}function Wn(ke,$e,ce,rt,_t){if("m"===rt)throw new TypeError("Private method is not writable");if("a"===rt&&!_t)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof $e?ke!==$e||!_t:!$e.has(ke))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===rt?_t.call(ke,ce):_t?_t.value=ce:$e.set(ke,ce),ce}}},Mn=>{Mn(Mn.s=3526)}]);